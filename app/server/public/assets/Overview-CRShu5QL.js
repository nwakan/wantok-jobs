import{j as e}from"./vendor-ui-K43rUeTs.js";import{r as d,L as o}from"./vendor-react-Dlyf-RJj.js";import{v as b}from"./index-CAGaxXNg.js";function N(s){if(!s)return"";const t=(Date.now()-new Date(s+"Z").getTime())/1e3;return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function l({title:s,value:t,icon:r,color:x}){const i={blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",purple:"bg-purple-50 text-purple-700 border-purple-200",orange:"bg-orange-50 text-orange-700 border-orange-200"};return e.jsx("div",{className:`rounded-xl border p-5 ${i[x]||i.blue}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium opacity-80",children:s}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:t})]}),e.jsx("span",{className:"text-3xl",children:r})]})})}const u={registration:{icon:"üë§",color:"text-blue-600",verb:"registered as"},job_posted:{icon:"üíº",color:"text-green-600",verb:"posted"},application:{icon:"üìù",color:"text-purple-600",verb:"applied for"}};function w(){const[s,t]=d.useState(null),[r,x]=d.useState(null),[i,j]=d.useState(!0);if(d.useEffect(()=>{Promise.all([b.getDashboardStats().catch(()=>null),b.getStats().catch(()=>null)]).then(([n,g])=>{t(n),x(g),j(!1)})},[]),i)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const c=(s==null?void 0:s.weekly)||{},a=(s==null?void 0:s.health)||{},m=(s==null?void 0:s.pending)||{},h=(s==null?void 0:s.recentActivity)||[];return e.jsxs("div",{className:"space-y-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"This Week"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(l,{title:"Jobs Posted",value:c.jobs??0,icon:"üíº",color:"green"}),e.jsx(l,{title:"Applications",value:c.applications??0,icon:"üìù",color:"purple"}),e.jsx(l,{title:"New Users",value:c.users??0,icon:"üë•",color:"blue"}),e.jsx(l,{title:"Revenue",value:`K${(c.revenue??0).toLocaleString()}`,icon:"üí∞",color:"orange"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Platform Totals"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(l,{title:"Total Users",value:(r==null?void 0:r.totalUsers)??a.totalUsers??0,icon:"üë•",color:"blue"}),e.jsx(l,{title:"Active Jobs",value:a.activeJobs??0,icon:"‚úÖ",color:"green"}),e.jsx(l,{title:"Closed/Expired",value:a.expiredJobs??0,icon:"üì¶",color:"orange"}),e.jsx(l,{title:"Total Jobs",value:a.totalJobs??0,icon:"üíº",color:"purple"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Recent Activity"}),h.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity."}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.map((n,g)=>{const p=u[n.type]||u.registration;return e.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[e.jsx("span",{className:`text-xl ${p.color}`,children:p.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900 truncate",children:[e.jsx("span",{className:"font-semibold",children:n.actor})," ",p.verb," ",e.jsx("span",{className:"text-gray-600",children:n.detail})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:N(n.time)})]})]},g)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Pending Items"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{to:"/dashboard/admin/reports",className:"flex items-center justify-between p-4 rounded-lg bg-red-50 hover:bg-red-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üö©"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Unreviewed Reports"})]}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:m.reports??0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-yellow-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üè¢"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Pending Claims"})]}),e.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:m.claims??0})]}),e.jsxs(o,{to:"/dashboard/admin/orders",className:"flex items-center justify-between p-4 rounded-lg bg-orange-50 hover:bg-orange-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"üí≥"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Pending Orders"})]}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:m.refunds??0})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"System Health"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Active Jobs"}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:a.activeJobs??0})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Expired/Closed"}),e.jsx("p",{className:"text-xl font-bold text-gray-700",children:a.expiredJobs??0})]})]}),e.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg flex items-center gap-2",children:[e.jsx("span",{className:"text-green-600 text-lg",children:"‚úì"}),e.jsx("span",{className:"text-sm text-green-800 font-medium",children:"All systems operational"})]})]})]})]}),r&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"User Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-5 bg-blue-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Job Seekers"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.totalJobseekers||0})]}),e.jsxs("div",{className:"text-center p-5 bg-green-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Employers"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.totalEmployers||0})]}),e.jsxs("div",{className:"text-center p-5 bg-purple-50 rounded-xl",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"New This Week"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.recentUsers||0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(o,{to:"/dashboard/admin/users",className:"px-4 py-3 bg-blue-50 text-blue-700 font-semibold rounded-lg hover:bg-blue-100 transition-colors text-center text-sm",children:"üë• Manage Users"}),e.jsx(o,{to:"/dashboard/admin/jobs",className:"px-4 py-3 bg-green-50 text-green-700 font-semibold rounded-lg hover:bg-green-100 transition-colors text-center text-sm",children:"üíº Manage Jobs"}),e.jsx(o,{to:"/dashboard/admin/fraud-security",className:"px-4 py-3 bg-red-50 text-red-700 font-semibold rounded-lg hover:bg-red-100 transition-colors text-center text-sm",children:"üîí Security"}),e.jsx(o,{to:"/dashboard/admin/reports",className:"px-4 py-3 bg-purple-50 text-purple-700 font-semibold rounded-lg hover:bg-purple-100 transition-colors text-center text-sm",children:"üìä Reports"})]})]})]})}export{w as default};
