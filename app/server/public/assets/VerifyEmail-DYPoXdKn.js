import{c as h,u as f,r as l,j as e,n as m,h as o}from"./index-BNk0NZme.js";import{C as y}from"./circle-x-CYWDGCwv.js";/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],p=h("loader",u);function j(){const[d]=f(),n=d.get("token"),[s,r]=l.useState("loading"),[c,a]=l.useState("");l.useEffect(()=>{if(!n){r("error"),a("No verification token provided.");return}x()},[n]);const x=async()=>{try{const t=await fetch(`/api/auth/verify-email?token=${n}`),i=await t.json();t.ok?i.alreadyVerified?(r("already-verified"),a(i.message||"Your email is already verified.")):(r("success"),a(i.message||"Email verified successfully!")):(r("error"),a(i.error||"Failed to verify email."))}catch(t){r("error"),a("An error occurred while verifying your email."),console.error("Verification error:",t)}};return e.jsx("div",{className:"min-h-[calc(100vh-300px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"text-center",children:[s==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"w-16 h-16 text-primary-600 animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying your email..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address."})]}),s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email Verified! ðŸŽ‰"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{to:"/login",className:"block w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign in to your account"}),e.jsx(o,{to:"/",className:"block text-sm text-primary-600 hover:text-primary-500",children:"Go to homepage"})]})]}),s==="already-verified"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Already Verified"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsx(o,{to:"/login",className:"inline-block py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign in"})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"The verification link may have expired or is invalid. You can request a new verification email from your dashboard."}),e.jsx(o,{to:"/login",className:"block w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Go to login"})]})]})]})})})}export{j as default};
