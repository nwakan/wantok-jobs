import{j as e,a8 as x,a9 as j,w as D,aB as L,N as U,p as A,Q as B,a as N,I,_ as M,q as _,O as $,a0 as H,v as q,K as O,$ as Y,Y as K,U as Q,Z as W,F as Z,aw as z}from"./vendor-ui-K43rUeTs.js";import{u as V,r as a}from"./vendor-react-Dlyf-RJj.js";import{P as b,C as X}from"./index-CAGaxXNg.js";const ee={Calculator:z,FileText:Z,DollarSign:W,Users:Q,Hammer:K,GraduationCap:Y,Cog:O,Landmark:q,Heart:H,Coffee:$,UserPlus:_,Code:M,Scale:I,Briefcase:N,Truck:B,TrendingUp:A,Globe:U,Microscope:L,Shield:D,Flame:x,Sparkles:j},u=["bg-orange-100 text-orange-600","bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-pink-100 text-pink-600","bg-indigo-100 text-indigo-600","bg-yellow-100 text-yellow-600","bg-teal-100 text-teal-600","bg-red-100 text-red-600","bg-cyan-100 text-cyan-600","bg-slate-100 text-slate-600","bg-amber-100 text-amber-600","bg-lime-100 text-lime-600","bg-rose-100 text-rose-600","bg-emerald-100 text-emerald-600","bg-violet-100 text-violet-600"];function ie(){const l=V(),[v,f]=a.useState([]),[m,y]=a.useState([]),[g,w]=a.useState([]),[C,h]=a.useState(!0),[i,S]=a.useState({totalCategories:0,totalJobs:0,totalEmployers:0,totalJobseekers:0});a.useEffect(()=>{k()},[]);const k=async()=>{var s,t;try{h(!0);const[r,n,E]=await Promise.all([fetch("/api/categories"),fetch("/api/categories/featured"),fetch("/api/categories/trending")]),c=await r.json(),P=await n.json(),F=await E.json();f(c.categories||[]),y(P.categories||[]),w(F.categories||[]);const G=((s=c.categories)==null?void 0:s.reduce((T,R)=>T+(R.active_jobs||0),0))||0,p=await(await fetch("/api/stats")).json(),d=p.data||p||{};S({totalCategories:((t=c.categories)==null?void 0:t.length)||0,totalJobs:d.activeJobs||G,totalEmployers:d.totalEmployers||0,totalJobseekers:d.totalJobseekers||0})}catch(r){console.error("Error loading categories:",r)}finally{h(!1)}},J=s=>{l(`/category/${s}`)},o=(s,t)=>{const r=ee[s.icon_name]||N,n=u[t%u.length];return e.jsxs("button",{onClick:()=>J(s.slug),className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-all hover:-translate-y-1 text-left group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${n} group-hover:scale-110 transition-transform`,children:e.jsx(r,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition",children:s.name}),s.trending===1&&e.jsx(x,{className:"w-4 h-4 text-red-500",title:"Trending"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.active_jobs||0," active jobs"]})]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),e.jsx("div",{className:"text-primary-600 text-sm font-medium group-hover:underline",children:"Browse jobs â†’"})]},s.id)};return C?e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Job Categories in PNG",description:"Explore jobs across all industries in Papua New Guinea."}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"h-10 w-80 bg-gray-200 rounded animate-pulse mx-auto mb-4"}),e.jsx("div",{className:"h-6 w-96 bg-gray-200 rounded animate-pulse mx-auto"})]}),e.jsx(X,{count:12})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Job Categories in PNG",description:"Explore jobs across all industries in Papua New Guinea. Find opportunities in mining, healthcare, IT, education, and more. Start your career search today."}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Browse Jobs by Category"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore thousands of opportunities across all major industries in Papua New Guinea and the Pacific."})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-12 text-center",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600",children:i.totalCategories}),e.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalJobs.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalEmployers.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Employers"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalJobseekers.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Job Seekers"})]})]})}),g.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(x,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Trending Now"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:g.slice(0,4).map((s,t)=>e.jsx("div",{className:"relative",children:o(s,t)},s.id))})]}),m.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(j,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Popular Categories"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map((s,t)=>o(s,t))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"All Categories"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map((s,t)=>o(s,t))})]}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-8 text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Can't Find Your Category?"}),e.jsx("p",{className:"text-primary-100 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new categories and opportunities. Set up a job alert and be the first to know when new positions are posted."}),e.jsx("button",{onClick:()=>l("/dashboard"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Create Job Alert"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Popular Searches"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["Mining Engineer","Nurse","Teacher","Software Developer","Accountant","Project Manager","Chef","Security Officer"].map((s,t)=>e.jsx("button",{onClick:()=>l(`/jobs?q=${encodeURIComponent(s)}`),className:"px-4 py-2 bg-white rounded-full text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-600 border border-gray-200 transition",children:s},t))})]})]})})]})}export{ie as default};
