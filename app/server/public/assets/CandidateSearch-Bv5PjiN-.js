import{r as o,Y as w,af as p,j as e,h as f}from"./index-BNk0NZme.js";function S(){const[d,u]=o.useState([]),[x,y]=o.useState(!1),[c,h]=o.useState([]),{showToast:n}=w(),[s,l]=o.useState({keywords:"",skills:"",location:"",experience:"",availability:""});o.useEffect(()=>{v()},[]);const v=async()=>{try{const a=await p.getAll();h(a.map(t=>t.user_id))}catch(a){console.error("Failed to load saved candidates:",a)}},g=async a=>{a&&a.preventDefault(),y(!0);try{await new Promise(r=>setTimeout(r,1e3));let i=[{id:1,user_id:"U-001",name:"Sarah Johnson",headline:"Senior Software Engineer",location:"Port Moresby",skills:["React","Node.js","Python","AWS","Docker"],experience_years:5,match_percentage:95,availability:"Immediate"},{id:2,user_id:"U-002",name:"Michael Chen",headline:"Full Stack Developer",location:"Lae",skills:["JavaScript","Vue.js","Django","Docker","PostgreSQL"],experience_years:3,match_percentage:87,availability:"2 weeks"},{id:3,user_id:"U-003",name:"Emma Wilson",headline:"Frontend Developer",location:"Port Moresby",skills:["React","TypeScript","CSS","Figma","Jest"],experience_years:4,match_percentage:82,availability:"1 month"},{id:4,user_id:"U-004",name:"David Kila",headline:"Marketing Manager",location:"Mt. Hagen",skills:["Digital Marketing","SEO","Content Strategy","Analytics","Social Media"],experience_years:6,match_percentage:78,availability:"Immediate"},{id:5,user_id:"U-005",name:"Lisa Tau",headline:"Data Analyst",location:"Port Moresby",skills:["Python","SQL","Tableau","Excel","Statistics"],experience_years:2,match_percentage:75,availability:"2 weeks"},{id:6,user_id:"U-006",name:"James Koima",headline:"Accountant",location:"Lae",skills:["Accounting","QuickBooks","Financial Reporting","Tax","Audit"],experience_years:7,match_percentage:72,availability:"1 month"}];if(s.keywords){const r=s.keywords.toLowerCase();i=i.filter(m=>m.name.toLowerCase().includes(r)||m.headline.toLowerCase().includes(r))}if(s.location&&(i=i.filter(r=>r.location.toLowerCase().includes(s.location.toLowerCase()))),s.experience){const[r,m]=s.experience==="entry"?[0,2]:s.experience==="mid"?[3,5]:[6,100];i=i.filter(b=>b.experience_years>=r&&b.experience_years<=m)}u(i)}catch{n("Search failed","error")}finally{y(!1)}},j=async a=>{try{await p.save(a),h([...c,a]),n("Candidate saved successfully","success")}catch{n("Failed to save candidate","error")}},N=async a=>{try{await p.remove(a),h(c.filter(t=>t!==a)),n("Candidate removed from saved","success")}catch{n("Failed to remove candidate","error")}};return e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"w-80 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Search Filters"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),e.jsx("input",{type:"text",value:s.keywords,onChange:a=>l({...s,keywords:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Job title, name, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),e.jsx("input",{type:"text",value:s.skills,onChange:a=>l({...s,skills:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"React, Python, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:s.location,onChange:a=>l({...s,location:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"City or region"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience Level"}),e.jsxs("select",{value:s.experience,onChange:a=>l({...s,experience:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Any"}),e.jsx("option",{value:"entry",children:"Entry Level (0-2 years)"}),e.jsx("option",{value:"mid",children:"Mid Level (3-5 years)"}),e.jsx("option",{value:"senior",children:"Senior (6+ years)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),e.jsxs("select",{value:s.availability,onChange:a=>l({...s,availability:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Any"}),e.jsx("option",{value:"immediate",children:"Immediate"}),e.jsx("option",{value:"2weeks",children:"Within 2 weeks"}),e.jsx("option",{value:"1month",children:"Within 1 month"})]})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 font-semibold",children:x?"Searching...":"ğŸ” Search Candidates"}),e.jsx("button",{type:"button",onClick:()=>{l({keywords:"",skills:"",location:"",experience:"",availability:""}),u([])},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Clear Filters"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsxs(f,{to:"/dashboard/employer/saved-candidates",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:["ğŸ“‹ View Saved Candidates (",c.length,")"]})})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Search Candidates"}),e.jsx("p",{className:"text-gray-600",children:d.length>0?`${d.length} candidates found`:"Use the filters to search for talent"})]}),d.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map(a=>{const t=c.includes(a.user_id);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 font-bold text-2xl flex-shrink-0",children:a.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:a.name}),e.jsxs("span",{className:"px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm font-semibold",children:[a.match_percentage,"% Match"]})]}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:a.headline}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["ğŸ“ ",a.location]}),e.jsxs("span",{children:["ğŸ’¼ ",a.experience_years," years experience"]}),e.jsxs("span",{children:["â° Available: ",a.availability]})]})]})]}),e.jsx("button",{onClick:()=>t?N(a.user_id):j(a.user_id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t?"âœ“ Saved":"ğŸ”– Save"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Profile Match"}),e.jsxs("span",{className:"text-xs font-bold text-primary-600",children:[a.match_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${a.match_percentage}%`}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map((i,r)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:i},r))})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(f,{to:`/profile/${a.user_id}`,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 text-center font-medium",children:"ğŸ‘¤ View Full Profile"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 font-medium",children:"ğŸ“§ Send Message"}),e.jsx("button",{className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 font-medium",children:"ğŸ“‹ Invite to Apply"})]})]},a.id)})}):!x&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ”"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Start Your Search"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Use the filters on the left to find the perfect candidates for your positions"}),e.jsx("button",{onClick:g,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Search All Candidates"})]})]})]})}export{S as default};
