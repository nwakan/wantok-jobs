import{j as e,az as f,x as m,aA as u}from"./vendor-ui-K43rUeTs.js";import{c as h,r as c,L as o}from"./vendor-react-Dlyf-RJj.js";function p(){const[d]=h(),n=d.get("token"),[a,r]=c.useState("loading"),[l,s]=c.useState("");c.useEffect(()=>{if(!n){r("error"),s("No verification token provided.");return}x()},[n]);const x=async()=>{try{const i=await fetch(`/api/auth/verify-email?token=${n}`),t=await i.json();i.ok?t.alreadyVerified?(r("already-verified"),s(t.message||"Your email is already verified.")):(r("success"),s(t.message||"Email verified successfully!")):(r("error"),s(t.error||"Failed to verify email."))}catch(i){r("error"),s("An error occurred while verifying your email."),console.error("Verification error:",i)}};return e.jsx("div",{className:"min-h-[calc(100vh-300px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"text-center",children:[a==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-16 h-16 text-primary-600 animate-spin mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying your email..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your email address."})]}),a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Email Verified! ðŸŽ‰"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{to:"/login",className:"block w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign in to your account"}),e.jsx(o,{to:"/",className:"block text-sm text-primary-600 hover:text-primary-500",children:"Go to homepage"})]})]}),a==="already-verified"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Already Verified"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l}),e.jsx(o,{to:"/login",className:"inline-block py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Sign in"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"The verification link may have expired or is invalid. You can request a new verification email from your dashboard."}),e.jsx(o,{to:"/login",className:"block w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Go to login"})]})]})]})})})}export{p as default};
