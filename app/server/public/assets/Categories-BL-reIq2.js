import{m as M,r as a,j as e,P as D,p as d,g as h,S as F,G as U,T as G,q as O,i as b,s as R,t as A,v as B,H,w as I,x as L,y as _,z as $,U as q,D as K,e as W}from"./index-BNk0NZme.js";import{M as z,U as Y,C as Q}from"./user-plus-BdT8OdBi.js";const V={Calculator:Q,FileText:W,DollarSign:K,Users:q,Hammer:$,GraduationCap:_,Cog:L,Landmark:I,Heart:H,Coffee:B,UserPlus:Y,Code:A,Scale:R,Briefcase:b,Truck:O,TrendingUp:G,Globe:U,Microscope:z,Shield:F,Flame:d,Sparkles:h},p=["bg-orange-100 text-orange-600","bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-pink-100 text-pink-600","bg-indigo-100 text-indigo-600","bg-yellow-100 text-yellow-600","bg-teal-100 text-teal-600","bg-red-100 text-red-600","bg-cyan-100 text-cyan-600","bg-slate-100 text-slate-600","bg-amber-100 text-amber-600","bg-lime-100 text-lime-600","bg-rose-100 text-rose-600","bg-emerald-100 text-emerald-600","bg-violet-100 text-violet-600"];function ee(){const l=M(),[u,j]=a.useState([]),[x,v]=a.useState([]),[m,N]=a.useState([]),[f,g]=a.useState(!0),[i,y]=a.useState({totalCategories:0,totalJobs:0,totalEmployers:330,totalOpportunities:"K1.1M+"});a.useEffect(()=>{w()},[]);const w=async()=>{var t,s;try{g(!0);const[r,n,S]=await Promise.all([fetch("/api/categories"),fetch("/api/categories/featured"),fetch("/api/categories/trending")]),c=await r.json(),k=await n.json(),E=await S.json();j(c.categories||[]),v(k.categories||[]),N(E.categories||[]);const P=((t=c.categories)==null?void 0:t.reduce((T,J)=>T+(J.active_jobs||0),0))||0;y({totalCategories:((s=c.categories)==null?void 0:s.length)||0,totalJobs:P,totalEmployers:330,totalOpportunities:"K1.1M+"})}catch(r){console.error("Error loading categories:",r)}finally{g(!1)}},C=t=>{l(`/category/${t}`)},o=(t,s)=>{const r=V[t.icon_name]||b,n=p[s%p.length];return e.jsxs("button",{onClick:()=>C(t.slug),className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-all hover:-translate-y-1 text-left group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${n} group-hover:scale-110 transition-transform`,children:e.jsx(r,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition",children:t.name}),t.trending===1&&e.jsx(d,{className:"w-4 h-4 text-red-500",title:"Trending"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.active_jobs||0," active jobs"]})]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsx("div",{className:"text-primary-600 text-sm font-medium group-hover:underline",children:"Browse jobs â†’"})]},t.id)};return f?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Browse Jobs by Category | WantokJobs",description:"Explore jobs across all industries in Papua New Guinea. Find opportunities in mining, healthcare, IT, education, and more. Start your career search today."}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Browse Jobs by Category"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore thousands of opportunities across all major industries in Papua New Guinea and the Pacific."})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-12 text-center",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600",children:i.totalCategories}),e.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalJobs.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalEmployers,"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Employers"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600",children:i.totalOpportunities}),e.jsx("div",{className:"text-sm text-gray-600",children:"in Opportunities"})]})]})}),m.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(d,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Trending Now"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:m.slice(0,4).map((t,s)=>e.jsx("div",{className:"relative",children:o(t,s)},t.id))})]}),x.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(h,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Popular Categories"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map((t,s)=>o(t,s))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"All Categories"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map((t,s)=>o(t,s))})]}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-8 text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Can't Find Your Category?"}),e.jsx("p",{className:"text-primary-100 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new categories and opportunities. Set up a job alert and be the first to know when new positions are posted."}),e.jsx("button",{onClick:()=>l("/dashboard"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Create Job Alert"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Popular Searches"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["Mining Engineer","Nurse","Teacher","Software Developer","Accountant","Project Manager","Chef","Security Officer"].map((t,s)=>e.jsx("button",{onClick:()=>l(`/jobs?q=${encodeURIComponent(t)}`),className:"px-4 py-2 bg-white rounded-full text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-600 border border-gray-200 transition",children:t},s))})]})]})})]})}export{ee as default};
