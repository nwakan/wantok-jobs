import{r as o,Y as g,af as c,j as e,h as m}from"./index-BNk0NZme.js";function b(){const[l,n]=o.useState([]),[x,h]=o.useState(!0),[d,i]=o.useState({}),{showToast:t}=g();o.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await c.getAll();n(s||[]);const a={};s.forEach(r=>{a[r.user_id]=r.notes||""}),i(a)}catch(s){console.error("Failed to load saved candidates:",s),n([{id:1,user_id:"U-001",user_name:"Sarah Johnson",headline:"Senior Software Engineer",location:"Port Moresby",skills:["React","Node.js","Python","AWS"],experience_years:5,saved_at:new Date(Date.now()-864e5).toISOString(),notes:"Strong candidate for senior position",folder:"Top Picks"},{id:2,user_id:"U-002",user_name:"Michael Chen",headline:"Full Stack Developer",location:"Lae",skills:["JavaScript","Vue.js","Django","Docker"],experience_years:3,saved_at:new Date(Date.now()-1728e5).toISOString(),notes:"",folder:"General"}])}finally{h(!1)}},p=async s=>{if(confirm("Are you sure you want to remove this candidate from saved?"))try{await c.remove(s),n(l.filter(a=>a.user_id!==s)),t("Candidate removed from saved","success")}catch{t("Failed to remove candidate","error")}},y=async s=>{try{t("Notes saved","success")}catch{t("Failed to save notes","error")}};return x?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Saved Candidates"}),l.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You haven't saved any candidates yet."}),e.jsx(m,{to:"/dashboard/employer/candidate-search",className:"inline-block px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Search Candidates"})]}):e.jsx("div",{className:"space-y-6",children:l.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.user_name}),s.folder&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold",children:s.folder})]}),e.jsx("p",{className:"text-gray-700 font-medium mb-1",children:s.headline}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["ðŸ“ ",s.location," â€¢ ",s.experience_years," years experience"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Saved ",new Date(s.saved_at).toLocaleDateString()]})]}),e.jsx("button",{onClick:()=>p(s.user_id),className:"text-red-600 hover:text-red-700 font-medium",children:"Remove"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((a,r)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:a},r))})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Notes:"}),e.jsx("textarea",{value:d[s.user_id]||"",onChange:a=>i({...d,[s.user_id]:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm",rows:"3",placeholder:"Add notes about this candidate..."}),e.jsx("button",{onClick:()=>y(s.user_id),className:"mt-2 px-4 py-1 bg-primary-600 text-white text-sm rounded hover:bg-primary-700",children:"Save Notes"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{to:`/profile/${s.user_id}`,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"View Full Profile"}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Contact"})]})]},s.id))})]})}export{b as default};
