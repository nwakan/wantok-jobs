import{j as s}from"./vendor-ui-K43rUeTs.js";import{r,L as o}from"./vendor-react-Dlyf-RJj.js";import{c as g,l as d}from"./index-CAGaxXNg.js";function b(){const{showToast:l}=g(),[a,i]=r.useState([]),[n,c]=r.useState(!0);r.useEffect(()=>{m()},[]);const m=async()=>{try{const e=await d.getAll();i((e==null?void 0:e.data)||[])}catch(e){console.error("Failed to load followed companies:",e)}finally{c(!1)}},x=async e=>{try{await d.unfollow(e),i(t=>t.filter(h=>h.employer_id!==e)),l("Unfollowed company","success")}catch{l("Failed to unfollow","error")}};return n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Followed Companies"}),s.jsx("p",{className:"text-gray-600",children:"Stay updated on new jobs from companies you follow"})]}),a.length===0?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"ðŸ¢"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No followed companies"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Follow companies to get notified when they post new jobs"}),s.jsx(o,{to:"/companies",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium",children:"Browse Companies"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>{var t;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.logo_url?s.jsx("img",{src:e.logo_url,alt:e.company_name,className:"w-14 h-14 rounded-lg object-cover border border-gray-200"}):s.jsx("div",{className:"w-14 h-14 bg-primary-100 rounded-lg flex items-center justify-center text-primary-700 font-bold text-xl",children:((t=e.company_name)==null?void 0:t.charAt(0))||"?"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(o,{to:`/companies/${e.employer_id}`,className:"text-lg font-bold text-gray-900 hover:text-primary-600",children:e.company_name}),e.industry&&s.jsx("p",{className:"text-sm text-gray-600",children:e.industry}),e.location&&s.jsxs("p",{className:"text-sm text-gray-500",children:["ðŸ“ ",e.location]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-primary-600",children:e.active_jobs>0?`${e.active_jobs} active job${e.active_jobs!==1?"s":""}`:"No active jobs"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{to:`/companies/${e.employer_id}`,className:"px-3 py-1.5 text-sm bg-primary-100 text-primary-700 rounded-lg hover:bg-primary-200 font-medium",children:"View"}),s.jsx("button",{onClick:()=>x(e.employer_id),className:"px-3 py-1.5 text-sm bg-gray-100 text-gray-600 rounded-lg hover:bg-red-100 hover:text-red-700 font-medium transition",children:"Unfollow"})]})]})]},e.id)})})]})}export{b as default};
