import{j as e}from"./vendor-ui-K43rUeTs.js";import{r as n}from"./vendor-react-Dlyf-RJj.js";import{c as y,n as f}from"./index-CAGaxXNg.js";function c({checked:a,onChange:l,disabled:i}){return e.jsxs("label",{className:`relative inline-flex items-center ${i?"opacity-50":"cursor-pointer"}`,children:[e.jsx("input",{type:"checkbox",checked:a,onChange:r=>l(r.target.checked),disabled:i,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})}function w(){const{showToast:a}=y(),[l,i]=n.useState(!0),[r,o]=n.useState(!1),[t,d]=n.useState({email_new_application:!0,email_status_change:!0,email_new_message:!0,email_job_alert:!0,email_newsletter:!0,push_enabled:!1,sms_enabled:!1});n.useEffect(()=>{p()},[]);const p=async()=>{try{const s=await f.get();d({email_new_application:!!s.email_new_application,email_status_change:!!s.email_status_change,email_new_message:!!s.email_new_message,email_job_alert:!!s.email_job_alert,email_newsletter:!!s.email_newsletter,push_enabled:!!s.push_enabled,sms_enabled:!!s.sms_enabled})}catch(s){console.error("Failed to load preferences:",s)}finally{i(!1)}},h=async()=>{o(!0);try{await f.update(t),a("Notification preferences saved","success")}catch{a("Failed to save preferences","error")}finally{o(!1)}};if(l)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const m=[{key:"email_new_application",label:"New Applications",desc:"Get notified when candidates apply to your jobs"},{key:"email_status_change",label:"Status Updates",desc:"Updates when application statuses change"},{key:"email_new_message",label:"New Messages",desc:"Get notified when you receive new messages from candidates"},{key:"email_job_alert",label:"Job Insights",desc:"Market insights and recommendations for your job listings"},{key:"email_newsletter",label:"Newsletter",desc:"Hiring tips, platform updates, and industry news"}];return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification Settings"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose which emails you'd like to receive"}),e.jsx("div",{className:"space-y-1",children:m.map(({key:s,label:x,desc:u},g)=>e.jsxs("div",{className:`flex items-center justify-between py-3 ${g<m.length-1?"border-b":""}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:x}),e.jsx("p",{className:"text-sm text-gray-600",children:u})]}),e.jsx(c,{checked:t[s],onChange:b=>d({...t,[s]:b})})]},s))}),e.jsxs("div",{className:"mt-8 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Push Notifications"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Coming soon"}),e.jsxs("div",{className:"flex items-center justify-between py-3 opacity-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Enable Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive browser push notifications for important updates"})]}),e.jsx(c,{checked:t.push_enabled,onChange:()=>{},disabled:!0})]})]}),e.jsxs("div",{className:"mt-4 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"SMS Notifications"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Coming soon"}),e.jsxs("div",{className:"flex items-center justify-between py-3 opacity-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Enable SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get text messages for urgent updates"})]}),e.jsx(c,{checked:t.sms_enabled,onChange:()=>{},disabled:!0})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:h,disabled:r,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium disabled:opacity-50",children:r?"Saving...":"Save Preferences"})})]})]})}export{w as default};
