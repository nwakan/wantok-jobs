import{j as e,u as h,C as g,an as X,r as $,p as J,a0 as P,bg as f,t as H,N as E,a4 as T,ac as W,ad as V,ae as F,af as L,F as q}from"./vendor-ui-K43rUeTs.js";import{r as l}from"./vendor-react-Dlyf-RJj.js";import{c as Y,p as O,O as n}from"./index-CAGaxXNg.js";const K=["Agriculture & Fisheries","Aviation & Transport","Banking & Finance","Construction & Engineering","Consulting & Professional Services","Education & Training","Energy & Utilities","Government & Public Sector","Healthcare & Medical","Hospitality & Tourism","Information Technology","Insurance","Legal","Logging & Forestry","Manufacturing","Media & Communications","Mining & Resources","NGO & Development","Oil & Gas","Real Estate & Property","Retail & Wholesale","Security","Shipping & Logistics","Telecommunications","Other"],Z=["1-10","11-50","51-200","201-500","501-1000","1000+"],Q=["Papua New Guinea","Fiji","Solomon Islands","Vanuatu","Samoa","Tonga","Australia","New Zealand"],ee=["Health Insurance","Housing Allowance","Transport Allowance","School Fees Support","Annual Leave","Sick Leave","Maternity/Paternity Leave","Training & Development","Performance Bonus","Superannuation/Pension","Remote Work Options","Gym/Fitness","Company Vehicle","Phone Allowance","Relocation Package","Meal Allowance"];function re(){var C,S;const{showToast:y}=Y(),[A,I]=l.useState(!0),[b,j]=l.useState(!1),[d,G]=l.useState(null),[i,m]=l.useState(!1),[c,M]=l.useState("info"),[a,r]=l.useState({company_name:"",industry:"",company_size:"",location:"",country:"Papua New Guinea",website:"",logo_url:"",description:"",culture:"",founded_year:"",phone:"",benefits:[],photos:[],social_links:{facebook:"",linkedin:"",twitter:""},verified:0}),[N,v]=l.useState(""),[p,w]=l.useState("");l.useEffect(()=>{D()},[]);const D=async()=>{try{const s=await O.get();G(s.user),s.profile&&r({company_name:s.profile.company_name||"",industry:s.profile.industry||"",company_size:s.profile.company_size||"",location:s.profile.location||"",country:s.profile.country||"Papua New Guinea",website:s.profile.website||"",logo_url:s.profile.logo_url||"",description:s.profile.description||"",culture:s.profile.culture||"",founded_year:s.profile.founded_year||"",phone:s.profile.phone||"",benefits:s.profile.benefits?JSON.parse(s.profile.benefits):[],photos:s.profile.photos?JSON.parse(s.profile.photos):[],social_links:s.profile.social_links?JSON.parse(s.profile.social_links):{facebook:"",linkedin:"",twitter:""},verified:s.profile.verified||0})}catch(s){console.error("Failed to load profile:",s)}finally{I(!1)}},B=()=>{let s=0;const t=12;return a.company_name&&s++,a.industry&&s++,a.company_size&&s++,a.location&&s++,a.logo_url&&s++,a.description&&a.description.length>50&&s++,a.website&&s++,a.phone&&s++,a.benefits.length>=3&&s++,a.culture&&a.culture.length>30&&s++,(a.social_links.facebook||a.social_links.linkedin)&&s++,a.photos.length>=1&&s++,Math.round(s/t*100)},R=async s=>{s.preventDefault(),j(!0);try{const t={...a,benefits:JSON.stringify(a.benefits),photos:JSON.stringify(a.photos),social_links:JSON.stringify(a.social_links)};await O.update(t),y("Company profile updated! ðŸŽ‰","success")}catch(t){y("Failed to update profile: "+t.message,"error")}finally{j(!1)}},u=s=>{const t=(s||N).trim();t&&!a.benefits.includes(t)&&(r({...a,benefits:[...a.benefits,t]}),v(""))},U=s=>{r({...a,benefits:a.benefits.filter((t,x)=>x!==s)})},k=()=>{p.trim()&&(r({...a,photos:[...a.photos,p.trim()]}),w(""))},z=s=>{r({...a,photos:a.photos.filter((t,x)=>x!==s)})};if(A)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const o=B(),_=o>=80?"green":o>=50?"blue":"amber";return e.jsxs("div",{className:"pb-12",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[a.logo_url?e.jsx(n,{src:a.logo_url,alt:"Logo",width:64,height:64,className:"w-16 h-16 object-contain border rounded-lg p-1"}):e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.company_name||"Company Profile"}),a.verified===1&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium",children:[e.jsx(g,{className:"w-3 h-3"})," Verified"]})]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[a.industry||"Set your industry"," â€¢ ",a.location||"Set location"]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{type:"button",onClick:()=>m(!i),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium flex items-center gap-2 text-sm",children:[i?e.jsx(X,{className:"w-4 h-4"}):e.jsx($,{className:"w-4 h-4"}),i?"Edit":"Preview"]})})]}),e.jsxs("div",{className:`bg-${_}-50 rounded-lg p-4 mb-4`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-gray-700"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["Profile Completeness: ",o,"%"]})]}),o<80&&e.jsx("span",{className:"text-sm text-gray-600",children:"Complete your profile to attract more candidates"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full bg-${_}-500 transition-all duration-500`,style:{width:`${o}%`}})})]}),e.jsx("div",{className:"flex gap-2 border-t pt-4",children:[{id:"info",label:"Company Info",icon:h},{id:"culture",label:"Culture & Benefits",icon:P},{id:"media",label:"Media & Links",icon:f}].map(s=>e.jsxs("button",{onClick:()=>{m(!1),M(s.id)},className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 text-sm transition-colors ${c===s.id&&!i?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(s.icon,{className:"w-4 h-4"}),s.label]},s.id))})]}),i?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"h-40 bg-gradient-to-r from-primary-600 to-blue-600 relative",children:e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/30 to-transparent h-20"})}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsxs("div",{className:"flex items-start gap-6 -mt-12 relative mb-6",children:[a.logo_url?e.jsx(n,{src:a.logo_url,alt:a.company_name,width:96,height:96,className:"w-24 h-24 object-contain border-4 border-white rounded-lg bg-white shadow-lg p-2"}):e.jsx("div",{className:"w-24 h-24 bg-white border-4 border-white rounded-lg shadow-lg flex items-center justify-center text-gray-400 text-3xl",children:"ðŸ¢"}),e.jsxs("div",{className:"flex-1 mt-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.company_name||"Company Name"}),a.verified===1&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:[e.jsx(g,{className:"w-4 h-4"})," Verified Employer"]})]}),e.jsxs("p",{className:"text-gray-600 text-lg",children:[a.industry||"Industry"," â€¢ ",a.company_size?`${a.company_size} employees`:""]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm text-gray-600",children:[a.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"w-4 h-4"})," ",a.location,", ",a.country]}),a.website&&e.jsxs("a",{href:a.website,className:"flex items-center gap-1 text-primary-600 hover:underline",children:[e.jsx(E,{className:"w-4 h-4"})," ",a.website.replace(/^https?:\/\//,"")]}),a.founded_year&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"})," Est. ",a.founded_year]})]})]})]}),a.description&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"About Us"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:a.description})]}),a.culture&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Our Culture"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:a.culture})]}),a.benefits.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Benefits & Perks"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:a.benefits.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(g,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{children:s})]},t))})]}),a.photos.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Our Workplace"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.photos.map((s,t)=>e.jsx(n,{src:s,alt:`Photo ${t+1}`,width:400,height:192,className:"w-full h-48 object-cover rounded-lg"},t))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"Contact"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-3 text-gray-700",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4"})," ",d==null?void 0:d.email]}),a.phone&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"})," ",a.phone]}),((C=a.social_links)==null?void 0:C.facebook)&&e.jsxs("a",{href:a.social_links.facebook,className:"flex items-center gap-2 text-blue-600 hover:underline",children:[e.jsx(F,{className:"w-4 h-4"})," Facebook"]}),((S=a.social_links)==null?void 0:S.linkedin)&&e.jsxs("a",{href:a.social_links.linkedin,className:"flex items-center gap-2 text-blue-700 hover:underline",children:[e.jsx(L,{className:"w-4 h-4"})," LinkedIn"]})]})]})]})]}):e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[c==="info"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(h,{className:"w-5 h-5"}),"Company Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),e.jsx("input",{type:"text",value:a.company_name,onChange:s=>r({...a,company_name:s.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"e.g. PNG Power Ltd"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry *"}),e.jsxs("select",{value:a.industry,onChange:s=>r({...a,industry:s.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select industry"}),K.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Size"}),e.jsxs("select",{value:a.company_size,onChange:s=>r({...a,company_size:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select size"}),Z.map(s=>e.jsxs("option",{value:s,children:[s," employees"]},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Founded Year"}),e.jsx("input",{type:"number",value:a.founded_year,onChange:s=>r({...a,founded_year:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"e.g. 2005",min:"1900",max:new Date().getFullYear()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),e.jsx("select",{value:a.country,onChange:s=>r({...a,country:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",children:Q.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City / Location"}),e.jsx("input",{type:"text",value:a.location,onChange:s=>r({...a,location:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"e.g. Port Moresby"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{type:"url",value:a.website,onChange:s=>r({...a,website:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:a.phone,onChange:s=>r({...a,phone:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"+675 XXX XXXX"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Logo URL"}),e.jsxs("div",{className:"flex gap-4 items-start",children:[e.jsx("input",{type:"url",value:a.logo_url,onChange:s=>r({...a,logo_url:s.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"https://example.com/logo.png"}),a.logo_url&&e.jsx(n,{src:a.logo_url,alt:"Logo",height:48,className:"h-12 w-auto border rounded"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload to an image host and paste the URL. Recommended: square, 200Ã—200px+"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Company Description"]}),e.jsx("textarea",{value:a.description,onChange:s=>r({...a,description:s.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"Tell job seekers about your company â€” what you do, your mission, what makes you a great employer in PNG..."}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.description.length," chars â€¢ Tip: 200+ words helps you rank higher in search results"]})]})]}),c==="culture"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-red-500"}),"Company Culture"]}),e.jsx("textarea",{value:a.culture,onChange:s=>r({...a,culture:s.target.value}),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"Describe your work culture, values, and what it's like to work at your company..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Companies with culture descriptions get 40% more applications"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),"Benefits & Perks"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick add:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ee.filter(s=>!a.benefits.includes(s)).slice(0,8).map(s=>e.jsxs("button",{type:"button",onClick:()=>u(s),className:"px-3 py-1 border border-gray-300 text-gray-700 rounded-full text-sm hover:bg-primary-50 hover:border-primary-300 transition",children:["+ ",s]},s))})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",value:N,onChange:s=>v(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),u()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"Or type a custom benefit..."}),e.jsx("button",{type:"button",onClick:()=>u(),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Add"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.benefits.map((s,t)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:["âœ“ ",s,e.jsx("button",{type:"button",onClick:()=>U(t),className:"ml-1 text-green-600 hover:text-green-900 font-bold",children:"Ã—"})]},t)),a.benefits.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No benefits added yet â€” add some to attract top talent!"})]})]})]}),c==="media"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5"}),"Social Media Links"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsx("input",{type:"url",value:a.social_links.facebook||"",onChange:s=>r({...a,social_links:{...a.social_links,facebook:s.target.value}}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"https://facebook.com/yourcompany"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-5 h-5 text-blue-700 flex-shrink-0"}),e.jsx("input",{type:"url",value:a.social_links.linkedin||"",onChange:s=>r({...a,social_links:{...a.social_links,linkedin:s.target.value}}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"https://linkedin.com/company/yourcompany"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5"}),"Workplace Photos"]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"url",value:p,onChange:s=>w(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),k()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500",placeholder:"https://example.com/photo.jpg"}),e.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Add Photo"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.photos.map((s,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx(n,{src:s,alt:`Photo ${t+1}`,width:300,height:128,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>z(t),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:"Ã—"})]},t)),a.photos.length===0&&e.jsxs("div",{className:"col-span-full text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx(f,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Add photos of your office, team, and workplace"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>m(!0),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Preview"}),e.jsx("button",{type:"submit",disabled:b,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 font-medium",children:b?"Saving...":"Save Profile"})]})]})]})}export{re as default};
