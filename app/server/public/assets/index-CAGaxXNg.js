const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/About-BGsYyKq0.js","assets/vendor-ui-K43rUeTs.js","assets/vendor-react-Dlyf-RJj.js","assets/Contact-Cx0doDGK.js","assets/Privacy-Tt5J6gR9.js","assets/Terms-9gyrle9K.js","assets/Pricing-BA5wt34o.js","assets/FAQ-DHSM_T2U.js","assets/HelpCenter-Bz6kF1yb.js","assets/ForgotPassword-BfCUnn7T.js","assets/ResetPassword-_mHUmEGy.js","assets/VerifyEmail-DdReKrIL.js","assets/Categories-BJKJNhaa.js","assets/CategoryLanding-D0owYoYc.js","assets/Companies-B0C7Ss96.js","assets/CompanyProfile-BqGurnQR.js","assets/CompanyReviews-CwlmC3oj.js","assets/Blog-CHBGkQWg.js","assets/BlogPost-XEVJV3xs.js","assets/Stats-DZKHfo9-.js","assets/Training-DCauLJqb.js","assets/ReferenceResponse-JXVfeL10.js","assets/SalaryCalculator-Dq5A5XR3.js","assets/CompareJobs-0oKNU8ze.js","assets/SuccessStories-BohWV_Ie.js","assets/IndustryLanding-DII2tH_Z.js","assets/Transparency-7CPFTAeh.js","assets/Features-BC0-4R5o.js","assets/ChangePassword-BoIgSazQ.js","assets/Overview-Bu6Ah1SN.js","assets/StatsCard-LvlhXMmK.js","assets/ApplicationStatusBadge-DiPMe70s.js","assets/ReferralSection-CebJgd66.js","assets/BadgeGrid-BQr-UQfm.js","assets/MyApplications-D4CFhu7q.js","assets/MyOffers-WTadVw3I.js","assets/SavedJobs-0mkk08BY.js","assets/Profile-CKMblTdb.js","assets/JobAlerts-BYl6GNPE.js","assets/Messages-DPEs0mAe.js","assets/Recommendations-D2iRWwYB.js","assets/Settings-DUNUaSC7.js","assets/FollowedCompanies-CCwZOrsK.js","assets/Wallet-CoRDdC2j.js","assets/ResumeBuilder-BPwsBuZh.js","assets/Interviews-DkywIbCu.js","assets/SavedSearches-DwrMRvTj.js","assets/Analytics-CkadiFS1.js","assets/Overview-Me0IDseS.js","assets/MyJobs-Bx3mgDrJ.js","assets/PostJob-lNLK-ayE.js","assets/Applicants-BsC8w8KV.js","assets/CompareApplicants-BYT_WJvD.js","assets/OfferLetters-D6XBRXkG.js","assets/CompanyProfile-5HEhVPUk.js","assets/CandidateSearch-CyIVLQ2A.js","assets/SavedCandidates-Bo3mbLkw.js","assets/Onboarding-DEzuYV-d.js","assets/Analytics-ClibWihA.js","assets/OrdersBilling-C5vBhFQM.js","assets/Messages-BPXHwv3E.js","assets/AgencyClients-N45a2aPP.js","assets/Wallet-C28oz4VT.js","assets/Interviews-B4GXHXvZ.js","assets/Settings-tCDLzoZ0.js","assets/Overview-CRShu5QL.js","assets/ManageUsers-D-1j0zT0.js","assets/ManageJobs-b-V1ZabH.js","assets/Settings-6pUbM_WB.js","assets/Orders-CDM-iYdQ.js","assets/Plans-2B5h18t9.js","assets/Categories-DbUzVwTz.js","assets/Reports-C6teC4GV.js","assets/Banners-CuQ6v-OM.js","assets/Articles-CnXo-O2z.js","assets/Newsletter-BeFf4jTc.js","assets/Messages-twEZqwDG.js","assets/ContactMessages-CXboQd6t.js","assets/AIAgents-C-yl-omW.js","assets/FraudSecurity-BlCRbOaZ.js","assets/RateLimits-BZ3qLQqR.js","assets/JeanSettings-CkWqhZwU.js","assets/WalletAdmin-BHOuQq7y.js","assets/ReviewManagement-C7lncaI9.js","assets/FeatureRequests-Rp27zH81.js"])))=>i.map(i=>d[i]);
var fs=Object.defineProperty;var js=(t,r,o)=>r in t?fs(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o;var qe=(t,r,o)=>js(t,typeof r!="symbol"?r+"":r,o);import{j as e,B as he,E as yt,C as me,U as ve,a as pe,F as Pe,L as bt,H as nt,S as Ee,b as vs,c as ws,W as Ns,d as ks,e as _s,M as Ss,A as Cs,G as Jt,f as Ps,V as Es,g as Ts,h as Dt,i as As,X as xe,P as $s,k as Ls,l as Os,m as Rs,n as Is,T as Js,R as Ds,o as Ms,p as We,q as ft,r as Re,s as ue,t as st,u as Ue,v as Mt,w as Ke,x as Ye,y as Te,z as Fs,D as zs,I as Ws,J as Vs,K as Bs,N as it,O as Gs,Q as Hs,Y as qs,Z as Ft,_ as Us,$ as Ks,a0 as Ys,a1 as Qs,a2 as jt,a3 as vt,a4 as Zs,a5 as Xs,a6 as Ce,a7 as ea,a8 as ta,a9 as sa,aa,ab as ra,ac as Qe,ad as Ze,ae as oa,af as na,ag as ia,ah as la,ai as ca,aj as wt,ak as ze,al as zt,am as da,an as Wt,ao as Me}from"./vendor-ui-K43rUeTs.js";import{a as ma,r as a,u as ye,b as Ve,L as k,O as Vt,N as Nt,c as lt,d as pa,B as ha,e as xa,f as b,h as ga}from"./vendor-react-Dlyf-RJj.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function o(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(s){if(s.ep)return;s.ep=!0;const d=o(s);fetch(s.href,d)}})();var at={},kt=ma;at.createRoot=kt.createRoot,at.hydrateRoot=kt.hydrateRoot;const ua="modulepreload",ya=function(t){return"/"+t},_t={},N=function(r,o,c){let s=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),i=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));s=Promise.allSettled(o.map(g=>{if(g=ya(g),g in _t)return;_t[g]=!0;const _=g.endsWith(".css"),A=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":ua,_||(S.as="script"),S.crossOrigin="",S.href=g,i&&S.setAttribute("nonce",i),document.head.appendChild(S),_)return new Promise((E,R)=>{S.addEventListener("load",E),S.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${g}`)))})}))}function d(m){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=m,window.dispatchEvent(i),!i.defaultPrevented)throw m}return s.then(m=>{for(const i of m||[])i.status==="rejected"&&d(i.reason);return r().catch(d)})},Bt=a.createContext(null);function ba({children:t}){const[r,o]=a.useState(null),[c,s]=a.useState(null),[d,m]=a.useState(!0);a.useEffect(()=>{const A=localStorage.getItem("token"),S=localStorage.getItem("user");if(A&&S)try{s(A),o(JSON.parse(S))}catch{localStorage.removeItem("token"),localStorage.removeItem("user")}m(!1)},[]);const i=(A,S)=>{localStorage.setItem("token",A),localStorage.setItem("user",JSON.stringify(S)),s(A),o(S)},g=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),o(null)},_=A=>{localStorage.setItem("user",JSON.stringify(A)),o(A)};return e.jsx(Bt.Provider,{value:{user:r,token:c,loading:d,isAuthenticated:!!c,login:i,logout:g,updateUser:_},children:t})}function ge(){const t=a.useContext(Bt);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const fa={findJobs:"Find Jobs",search:"Search",postJob:"Post a Job",notifications:"Notifications",profile:"Profile",home:"Home",companies:"Companies",training:"Training",about:"About",login:"Login",register:"Sign Up",registerFree:"Sign Up Free",logout:"Logout",dashboard:"Dashboard",signedInAs:"Signed in as"},ja={title1:"Find Your Dream Job in",title2:"Papua New Guinea",subtitle:"Join {jobseekers}+ job seekers and {employers}+ employers",activeJobs:"{count} active opportunities across PNG",searchPlaceholder:"Job title or keywords...",locationPlaceholder:"Select location",categoryPlaceholder:"Select category",searchButton:"Search Jobs",allLocations:"All Locations",allCategories:"All Categories",trending:"Trending"},va={featuredJobs:"Featured Jobs",viewAllJobs:"View All Jobs",browseCategories:"Browse by Category",topEmployers:"Top Employers",howItWorks:"How It Works",createProfile:"Create Your Profile",createProfileDesc:"Sign up and build your professional profile",searchJobs:"Search & Apply",searchJobsDesc:"Browse jobs and apply with one click",getHired:"Get Hired",getHiredDesc:"Connect with employers and land your dream job",jobAlerts:"Get Job Alerts",jobAlertsDesc:"Get daily job alerts straight to your inbox",emailPlaceholder:"Enter your email",subscribe:"Subscribe",subscribed:"Subscribed!",whyChoose:"Why Choose WantokJobs?",pngFocused:"PNG Focused",pngFocusedDesc:"Built specifically for Papua New Guinea's job market",trustedEmployers:"Trusted Employers",trustedEmployersDesc:"Verified companies and organizations",easyApply:"Easy Apply",easyApplyDesc:"Apply via the platform or WhatsApp",readyToStart:"Ready to Start Your Career Journey?",readyToStartDesc:"Join thousands of Papua New Guineans finding their next opportunity",getStarted:"Get Started"},wa={applyNow:"Apply Now",saveJob:"Save Job",unsaveJob:"Unsave Job",share:"Share",viewDetails:"View Details",featured:"Featured",new:"NEW",hot:"HOT",applicants:"applicants",views:"views",postedAgo:"Posted {time} ago",resultsFound:"{count} jobs found",sortBy:"Sort by",relevance:"Relevance",datePosted:"Date Posted",salary:"Salary",showFilters:"Filters",hideFilters:"Hide Filters",loadMore:"Load More",noJobsFound:"No jobs found",noJobsFoundDesc:"Try adjusting your search filters",jobType:"Job Type",fullTime:"Full Time",partTime:"Part Time",contract:"Contract",casual:"Casual",remote:"Remote"},Na={searchJobs:"Search Jobs",filterByLocation:"Filter by Location",filterByProvince:"Filter by Province",filterByJobType:"Job Type",filterBySalary:"Salary Range",allProvinces:"All Provinces",clearFilters:"Clear Filters",experience:"Experience",category:"Category"},ka={myProfile:"My Profile",editProfile:"Edit Profile",myApplications:"My Applications",savedJobs:"Saved Jobs",settings:"Settings"},_a={apply:"Apply",applyViaWhatsApp:"Apply via WhatsApp",coverLetter:"Cover Letter",resume:"Resume",submit:"Submit Application",applicationSent:"Application Sent!",thankYou:"Thank you for applying"},Sa={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",back:"Back",next:"Next",previous:"Previous",close:"Close",confirm:"Confirm",learnMore:"Learn More",viewAll:"View All",noResults:"No results found",tryAgain:"Try Again",location:"Location",salary:"Salary",experience:"Experience",category:"Category"},Ca={tagline:"Connecting talent with opportunity across the Pacific region.",quickLinks:"Quick Links",browseJobs:"Browse Jobs",companies:"Companies",training:"Training & Courses",aboutUs:"About Us",contact:"Contact",copyright:"Â© 2026 WantokJobs. All rights reserved."},Pa={banner:"You're offline. Some features may not be available.",jobsSaved:"Viewing saved jobs",reconnect:"Reconnecting..."},Ea={prefix:"K",perMonth:"/month",perYear:"/year",perHour:"/hour"},Ta={nav:fa,hero:ja,home:va,jobs:wa,search:Na,profile:ka,application:_a,common:Sa,footer:Ca,offline:Pa,salary:Ea},Aa={findJobs:"Painim Wok",search:"Sekim",postJob:"Putim Wok",notifications:"Ol Notis",profile:"Profail",home:"Haus",companies:"Ol Kampani",training:"Trening",about:"Abaut",login:"Go Insait",register:"Rejista",registerFree:"Rejista Fri",logout:"Sain Aut",dashboard:"Dasbot",signedInAs:"Yu stap olsem"},$a={title1:"Painim Gutpela Wok Long",title2:"Papua Niugini",subtitle:"Joinim {jobseekers}+ man meri painim wok na {employers}+ kampani",activeJobs:"{count} wok i stap nau long PNG",searchPlaceholder:"Nem bilong wok o tok i go wantaim...",locationPlaceholder:"Makim ples",categoryPlaceholder:"Makim kain wok",searchButton:"Sekim Wok",allLocations:"Olgeta Ples",allCategories:"Olgeta Kain Wok",trending:"Ol Samting I Hot"},La={featuredJobs:"Ol Nambawan Wok",viewAllJobs:"Lukim Olgeta Wok",browseCategories:"Lukim Long Kain Wok",topEmployers:"Ol Nambawan Kampani",howItWorks:"Olsem Wanem Em I Wok",createProfile:"Wokim Profail Bilong Yu",createProfileDesc:"Rejista na wokim profail bilong yu",searchJobs:"Sekim na Aplaim",searchJobsDesc:"Lukim ol wok na aplaim wanpela klik tasol",getHired:"Kisim Wok",getHiredDesc:"Bungim ol kampani na kisim wok yu laikim",jobAlerts:"Kisim Wok Notis",jobAlertsDesc:"Kisim ol nupela wok notis long email bilong yu",emailPlaceholder:"Putim email bilong yu",subscribe:"Joinim",subscribed:"Yu joinim pinis!",whyChoose:"Bilong Wanem WantokJobs?",pngFocused:"Bilong PNG Tasol",pngFocusedDesc:"Wokim bilong maket bilong wok bilong Papua Niugini",trustedEmployers:"Ol Trupela Kampani",trustedEmployersDesc:"Ol kampani i gat nem na i stret",easyApply:"Isi Long Aplaim",easyApplyDesc:"Aplaim long platform o long WhatsApp",readyToStart:"Redi Long Stat Wokabaut Bilong Yu?",readyToStartDesc:"Joinim planti tausen man meri bilong PNG i painim nupela wok",getStarted:"Stat Nau"},Oa={applyNow:"Aplaim Nau",saveJob:"Seivim Wok",unsaveJob:"Rausim Wok",share:"Serim",viewDetails:"Lukim Moa",featured:"Nambawan",new:"NUPELA",hot:"HOT",applicants:"ol aplikesen",views:"ol man i lukluk",postedAgo:"Putim {time} bipo",resultsFound:"{count} wok i painim",sortBy:"Soim long",relevance:"Moa stret",datePosted:"De i putim",salary:"Pe mani",showFilters:"Ol Filta",hideFilters:"Haitim Filta",loadMore:"Soim Moa",noJobsFound:"Nogat wok",noJobsFoundDesc:"Traim senisim ol filta bilong yu",jobType:"Kain Wok",fullTime:"Fultaim",partTime:"Pattaim",contract:"Kontrakt",casual:"Kasual",remote:"Rimot"},Ra={searchJobs:"Sekim Wok",filterByLocation:"Sekim Long Hap",filterByProvince:"Sekim Long Provins",filterByJobType:"Kain Wok",filterBySalary:"Pe Mani",allProvinces:"Olgeta Provins",clearFilters:"Klinim Filta",experience:"Ekspiriens",category:"Kain Wok"},Ia={myProfile:"Profail Bilong Mi",editProfile:"Senisim Profail",myApplications:"Ol Aplikesen Bilong Mi",savedJobs:"Ol Wok Mi Seivim",settings:"Ol Seting"},Ja={apply:"Aplaim",applyViaWhatsApp:"Aplaim Long WhatsApp",coverLetter:"Pas Tok",resume:"CV",submit:"Salim Aplikesen",applicationSent:"Aplikesen I Go!",thankYou:"Tenkyu tru"},Da={loading:"Wetim...",error:"Samting rong",success:"Orait",cancel:"Kanselim",save:"Seivim",delete:"Rausim",edit:"Senisim",back:"Go Bek",next:"Go Het",previous:"Bipo",close:"Pasim",confirm:"Orait Tru",learnMore:"Lainim Moa",viewAll:"Lukim Olgeta",noResults:"Nogat Samting",tryAgain:"Traim Gen",location:"Ples",salary:"Pe",experience:"Ekspiriens",category:"Kain Wok"},Ma={tagline:"Bungim ol man meri i gat save wantaim ol gutpela wok long Pasifik.",quickLinks:"Ol Sotkat",browseJobs:"Lukim Ol Wok",companies:"Ol Kampani",training:"Trening na Kos",aboutUs:"Abaut Mipela",contact:"Kontaktim",copyright:"Â© 2026 WantokJobs. Olgeta rait i stap."},Fa={banner:"Yu stap offlain. Sampela samting bai i no wok.",jobsSaved:"Lukim ol wok yu seivim",reconnect:"I stap konektim gen..."},za={prefix:"K",perMonth:"/mun",perYear:"/yia",perHour:"/aua"},Wa={nav:Aa,hero:$a,home:La,jobs:Oa,search:Ra,profile:Ia,application:Ja,common:Da,footer:Ma,offline:Fa,salary:za},Gt=a.createContext(),St={en:Ta,tpi:Wa};function Va({children:t}){const[r,o]=a.useState(()=>localStorage.getItem("preferredLanguage")||"en");a.useEffect(()=>{localStorage.setItem("preferredLanguage",r),document.documentElement.lang=r==="tpi"?"tpi":"en"},[r]);const c=()=>{o(d=>d==="en"?"tpi":"en")},s=(d,m={})=>{const i=d.split(".");let g=St[r];for(const _ of i)if(g=g==null?void 0:g[_],g===void 0){g=St.en;for(const A of i)if(g=g==null?void 0:g[A],g===void 0)return d;break}return typeof g=="string"&&Object.keys(m).length>0?g.replace(/\{(\w+)\}/g,(_,A)=>m[A]!==void 0?m[A]:_):g};return e.jsx(Gt.Provider,{value:{language:r,setLanguage:o,toggleLanguage:c,t:s},children:t})}function Ne(){const t=a.useContext(Gt);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t}const h="/api";function y(){const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}}async function x(t){const r=await t.json();if(!t.ok)throw t.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login?expired=true")),new Error(r.error||"Request failed");return r}const Le={register:t=>fetch(`${h}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),login:t=>fetch(`${h}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),getMe:()=>fetch(`${h}/auth/me`,{headers:y()}).then(x),changePassword:t=>fetch(`${h}/auth/change-password`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),logout:()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),Promise.resolve())},Oe={getAll:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/jobs?${r}`).then(x)},getMy:()=>fetch(`${h}/jobs/my`,{headers:y()}).then(x),getById:t=>fetch(`${h}/jobs/${t}`).then(x),create:t=>fetch(`${h}/jobs`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/jobs/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}/jobs/${t}`,{method:"DELETE",headers:y()}).then(x)},Ba={create:t=>fetch(`${h}/applications`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),getMy:()=>fetch(`${h}/applications/my`,{headers:y()}).then(x),getForJob:t=>fetch(`${h}/applications/job/${t}`,{headers:y()}).then(x),updateStatus:(t,r)=>fetch(`${h}/applications/${t}/status`,{method:"PATCH",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({status:r})}).then(x),addNotes:(t,r)=>fetch(`${h}/applications/${t}/notes`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({notes:r})}).then(x),getEvents:t=>fetch(`${h}/applications/${t}/events`,{headers:y()}).then(x)},mn={get:()=>fetch(`${h}/profile`,{headers:y()}).then(x),update:t=>fetch(`${h}/profile`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),getPublic:t=>fetch(`${h}/profile/${t}`).then(x)},Ct={save:t=>fetch(`${h}/saved-jobs/${t}`,{method:"POST",headers:y()}).then(x),unsave:t=>fetch(`${h}/saved-jobs/${t}`,{method:"DELETE",headers:y()}).then(x),getAll:()=>fetch(`${h}/saved-jobs`,{headers:y()}).then(x)},_e={getAll:()=>fetch(`${h}/notifications`,{headers:y()}).then(x),getUnreadCount:()=>fetch(`${h}/notifications/unread-count`,{headers:y()}).then(x),markRead:t=>fetch(`${h}/notifications/${t}/read`,{method:"PUT",headers:y()}).then(x),markAllRead:()=>fetch(`${h}/notifications/mark-read`,{method:"PUT",headers:y()}).then(x)},pn={get:()=>fetch(`${h}/notification-preferences`,{headers:y()}).then(x),update:t=>fetch(`${h}/notification-preferences`,{method:"PATCH",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x)},hn={getStats:()=>fetch(`${h}/admin/stats`,{headers:y()}).then(x),getDashboardStats:()=>fetch(`${h}/admin/dashboard-stats`,{headers:y()}).then(x),getUsers:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/admin/users?${r}`,{headers:y()}).then(x)},updateUser:(t,r)=>fetch(`${h}/admin/users/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),getJobs:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/admin/jobs?${r}`,{headers:y()}).then(x)},deleteJob:t=>fetch(`${h}/admin/jobs/${t}`,{method:"DELETE",headers:y()}).then(x),bulkJobs:(t,r)=>fetch(`${h}/admin/jobs/bulk`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({action:t,ids:r})}).then(x),bulkUsers:(t,r)=>fetch(`${h}/admin/users/bulk`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({action:t,ids:r})}).then(x),getReviews:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/admin/reviews?${r}`,{headers:y()}).then(x)},updateReview:(t,r)=>fetch(`${h}/admin/reviews/${t}`,{method:"PATCH",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({action:r})}).then(x)},xn={getAll:()=>fetch(`${h}/categories`,{headers:y()}).then(x),create:t=>fetch(`${h}/categories`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/categories/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}/categories/${t}`,{method:"DELETE",headers:y()}).then(x)},gn={getAll:()=>fetch(`${h}/plans`,{headers:y()}).then(x),create:t=>fetch(`${h}/plans`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/plans/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}/plans/${t}`,{method:"DELETE",headers:y()}).then(x)},un={create:t=>fetch(`${h}/orders`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),getMy:()=>fetch(`${h}/orders/my`,{headers:y()}).then(x),getAll:()=>fetch(`${h}/orders/admin/all`,{headers:y()}).then(x),updateStatus:(t,r)=>fetch(`${h}/orders/${t}/status`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({status:r})}).then(x)},Ga={getAll:()=>fetch(`${h}/saved-searches`,{headers:y()}).then(x),create:t=>fetch(`${h}/saved-searches`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),toggleNotify:t=>fetch(`${h}/saved-searches/${t}`,{method:"PATCH",headers:y()}).then(x),remove:t=>fetch(`${h}/saved-searches/${t}`,{method:"DELETE",headers:y()}).then(x)},yn={getAll:()=>fetch(`${h}/job-alerts`,{headers:y()}).then(x),create:t=>fetch(`${h}/job-alerts`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/job-alerts/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),remove:t=>fetch(`${h}/job-alerts/${t}`,{method:"DELETE",headers:y()}).then(x)},bn={getAll:()=>fetch(`${h}/saved-resumes`,{headers:y()}).then(x),save:t=>fetch(`${h}/saved-resumes/${t}`,{method:"POST",headers:y()}).then(x),remove:t=>fetch(`${h}/saved-resumes/${t}`,{method:"DELETE",headers:y()}).then(x)},fn={getAll:()=>fetch(`${h}/messages`,{headers:y()}).then(x),get:t=>fetch(`${h}/messages/${t}`,{headers:y()}).then(x),send:t=>fetch(`${h}/messages`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),markRead:t=>fetch(`${h}/messages/${t}/read`,{method:"PUT",headers:y()}).then(x)},jn={getAll:t=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/companies?${r}`,{headers:y()}).then(x)},get:t=>fetch(`${h}/companies/${t}`,{headers:y()}).then(x)},vn={send:t=>fetch(`${h}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),getAll:()=>fetch(`${h}/contact`,{headers:y()}).then(x),updateStatus:(t,r)=>fetch(`${h}/contact/${t}/status`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({status:r})}).then(x)},wn={getOrders:t=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/orders/admin/all?${r}`,{headers:y()}).then(x)},getReports:t=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/analytics/admin/overview?${r}`,{headers:y()}).then(x)}},Nn={getAll:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/admin/articles?${r}`,{headers:y()}).then(x)},create:t=>fetch(`${h}/admin/articles`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/admin/articles/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}/admin/articles/${t}`,{method:"DELETE",headers:y()}).then(x)},kn={getAll:()=>fetch(`${h}/admin/banners`,{headers:y()}).then(x),create:t=>fetch(`${h}/admin/banners`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/admin/banners/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}/admin/banners/${t}`,{method:"DELETE",headers:y()}).then(x)},_n={getAll:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/reviews?${r}`).then(x)},get:t=>fetch(`${h}/reviews/${t}`).then(x),getForCompany:t=>fetch(`${h}/companies/${t}/reviews`).then(x),create:t=>fetch(`${h}/reviews`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),update:(t,r)=>fetch(`${h}/reviews/${t}`,{method:"PUT",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}/reviews/${t}`,{method:"DELETE",headers:y()}).then(x)},Sn={getAll:()=>fetch(`${h}/company-follows`,{headers:y()}).then(x),follow:t=>fetch(`${h}/company-follows/${t}`,{method:"POST",headers:y()}).then(x),unfollow:t=>fetch(`${h}/company-follows/${t}`,{method:"DELETE",headers:y()}).then(x),check:t=>fetch(`${h}/company-follows/check/${t}`,{headers:y()}).then(x),getFollowerCount:t=>fetch(`${h}/company-follows/followers/${t}`).then(x)},Cn={getProviders:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/training/providers${r?"?"+r:""}`).then(x)},getCourses:(t={})=>{const r=new URLSearchParams(t).toString();return fetch(`${h}/training/courses${r?"?"+r:""}`).then(x)}},Pn={list:()=>fetch(`${h}/conversations`,{headers:y()}).then(x),get:t=>fetch(`${h}/conversations/${t}`,{headers:y()}).then(x),create:t=>fetch(`${h}/conversations`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify(t)}).then(x),sendMessage:(t,r)=>fetch(`${h}/conversations/${t}`,{method:"POST",headers:{...y(),"Content-Type":"application/json"},body:JSON.stringify({message:r})}).then(x),unreadCount:()=>fetch(`${h}/conversations/unread-count`,{headers:y()}).then(x),markRead:t=>fetch(`${h}/conversations/messages/${t}/read`,{method:"PATCH",headers:y()}).then(x)},Ha={getMyCode:()=>fetch(`${h}/referrals/my-code`,{headers:y()}).then(x),getStats:()=>fetch(`${h}/referrals/stats`,{headers:y()}).then(x),track:t=>fetch(`${h}/referrals/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}).then(x)},En={getMy:()=>fetch(`${h}/badges/my`,{headers:y()}).then(x),check:()=>fetch(`${h}/badges/check`,{headers:y()}).then(x),getForUser:t=>fetch(`${h}/badges/user/${t}`).then(x)},qa={get:t=>fetch(`${h}${t.startsWith("/")?t.replace("/api",""):"/"+t}`,{headers:y()}).then(x),post:(t,r)=>fetch(`${h}${t.startsWith("/")?t.replace("/api",""):"/"+t}`,{method:"POST",headers:{"Content-Type":"application/json",...y()},body:JSON.stringify(r)}).then(x),put:(t,r)=>fetch(`${h}${t.startsWith("/")?t.replace("/api",""):"/"+t}`,{method:"PUT",headers:{"Content-Type":"application/json",...y()},body:JSON.stringify(r)}).then(x),patch:(t,r)=>fetch(`${h}${t.startsWith("/")?t.replace("/api",""):"/"+t}`,{method:"PATCH",headers:{"Content-Type":"application/json",...y()},body:JSON.stringify(r)}).then(x),delete:t=>fetch(`${h}${t.startsWith("/")?t.replace("/api",""):"/"+t}`,{method:"DELETE",headers:y()}).then(x)};function Pt(){const[t,r]=a.useState([]),[o,c]=a.useState(0),[s,d]=a.useState(!1),m=a.useRef(null),i=ye();a.useEffect(()=>{g();const f=setInterval(g,3e4);return()=>clearInterval(f)},[]),a.useEffect(()=>{s&&_()},[s]),a.useEffect(()=>{function f(p){m.current&&!m.current.contains(p.target)&&d(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const g=async()=>{try{const f=await _e.getUnreadCount();c(f.count||0)}catch(f){console.error("Failed to load unread count:",f)}},_=async()=>{try{const f=await _e.getAll();r(f.data||f||[])}catch(f){console.error("Failed to load notifications:",f)}},S=(f=>{const p=[],I=new Set;return f.forEach(J=>{if(I.has(J.id))return;const H=f.filter(V=>!I.has(V.id)&&V.type===J.type&&Math.abs(new Date(V.created_at)-new Date(J.created_at))<864e5);H.length>1&&["new_application","profile_viewed","new_matching_job"].includes(J.type)?(p.push({...J,isGroup:!0,groupCount:H.length,groupedNotifications:H}),H.forEach(V=>I.add(V.id))):(p.push(J),I.add(J.id))}),p})(t),E=async(f,p)=>{try{await _e.markRead(f),_(),g(),p&&F(p)}catch(I){console.error("Failed to mark as read:",I)}},R=async()=>{try{await _e.markAllRead(),_(),g()}catch(f){console.error("Failed to mark all as read:",f)}},F=f=>{try{const p=typeof f=="string"?JSON.parse(f):f;p.jobId?i(`/jobs/${p.jobId}`):p.applicationId?i(`/dashboard/applications/${p.applicationId}`):p.messageId&&i(`/dashboard/messages/${p.messageId}`),d(!1)}catch(p){console.error("Failed to parse notification data:",p)}},C=f=>({new_application:e.jsx(Pe,{className:"w-5 h-5 text-blue-600"}),application_status_changed:e.jsx(me,{className:"w-5 h-5 text-green-600"}),new_matching_job:e.jsx(pe,{className:"w-5 h-5 text-primary-600"}),profile_viewed:e.jsx(ve,{className:"w-5 h-5 text-purple-600"}),job_expiring:e.jsx(yt,{className:"w-5 h-5 text-amber-600"}),welcome_jobseeker:e.jsx(he,{className:"w-5 h-5 text-blue-600"}),welcome_employer:e.jsx(he,{className:"w-5 h-5 text-blue-600"})})[f]||e.jsx(he,{className:"w-5 h-5 text-gray-600"}),U=f=>{const p=new Date,I=new Date(f),J=p-I,H=Math.floor(J/6e4),V=Math.floor(J/36e5),Y=Math.floor(J/864e5);return H<1?"Just now":H<60?`${H}m ago`:V<24?`${V}h ago`:Y<7?`${Y}d ago`:I.toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>d(!s),className:"relative p-2 text-gray-600 hover:text-primary-600 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Notifications",children:[e.jsx(he,{className:"w-6 h-6"}),o>0&&e.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full min-w-[20px]",children:o>99?"99+":o})]}),s&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Notifications"}),o>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:[o," unread"]})]}),o>0&&e.jsx("button",{onClick:R,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Mark all read"})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:S.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(he,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"font-medium",children:"No notifications"}),e.jsx("p",{className:"text-sm mt-1",children:"We'll notify you when something happens"})]}):S.slice(0,15).map(f=>e.jsx("div",{children:f.isGroup?e.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors ${f.read?"":"bg-blue-50"}`,onClick:()=>{f.groupedNotifications.forEach(p=>{_e.markRead(p.id)}),_()},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:C(f.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("h4",{className:"font-medium text-sm",children:[f.groupCount," ",f.title.split(" ").slice(0,2).join(" "),"s"]}),!f.read&&e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-1.5"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:[f.groupCount," similar notifications"]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:U(f.created_at)})]})]})}):e.jsx("div",{className:`p-4 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${f.read?"":"bg-blue-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:C(f.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:f.title}),!f.read&&e.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0 mt-1.5"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:f.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:U(f.created_at)}),f.data&&e.jsxs("button",{onClick:()=>E(f.id,f.data),className:"text-xs text-primary-600 hover:text-primary-700 font-medium flex items-center gap-1",children:["View details",e.jsx(yt,{className:"w-3 h-3"})]})]}),!f.read&&e.jsxs("button",{onClick:p=>{p.stopPropagation(),E(f.id)},className:"text-xs text-gray-500 hover:text-gray-700 mt-1 flex items-center gap-1",children:[e.jsx(me,{className:"w-3 h-3"}),"Mark as read"]})]})]})})},f.id))}),t.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 text-center flex-shrink-0",children:e.jsx("button",{onClick:()=>{i("/dashboard/notifications"),d(!1)},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all notifications"})})]})]})}function Et({variant:t="button"}){const{language:r,toggleLanguage:o}=Ne();return t==="compact"?e.jsxs("button",{onClick:o,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Toggle language / Senisim tokples",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{className:"uppercase font-semibold",children:r})]}):e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Toggle language / Senisim tokples",children:[e.jsx(bt,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:r==="en"?"English":"Tok Pisin"}),e.jsx("span",{className:"text-xs text-gray-500",children:r==="en"?"ðŸ‡µðŸ‡¬ EN":"ðŸ‡µðŸ‡¬ TPI"})]})}function Ua(){const t=Ve(),{user:r}=ge(),{t:o}=Ne();if(!(typeof window<"u"&&window.innerWidth<768)&&typeof window<"u")return null;const s=m=>t.pathname===m||t.pathname.startsWith(m+"/"),d=[{path:"/",icon:nt,label:o("nav.home"),exact:!0},{path:"/jobs",icon:Ee,label:o("nav.search")},{path:(r==null?void 0:r.role)==="employer"?"/dashboard/employer/post-job":"/register",icon:vs,label:o("nav.postJob"),highlight:!0},{path:r?`/dashboard/${r.role}`:"/login",icon:he,label:o("nav.notifications"),requiresAuth:!0},{path:r?`/dashboard/${r.role}/profile`:"/login",icon:ws,label:o("nav.profile")}];return e.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg z-40 safe-area-bottom",children:e.jsx("div",{className:"flex justify-around items-center h-16",children:d.map(m=>{const i=m.icon,g=m.exact?t.pathname===m.path:s(m.path);return e.jsxs(k,{to:m.path,className:`flex flex-col items-center justify-center flex-1 h-full min-w-[56px] transition-colors ${g?"text-primary-600":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"} ${m.highlight?"relative":""}`,children:[m.highlight&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-primary-600 rounded-full p-3 shadow-lg",children:e.jsx(i,{className:"w-6 h-6 text-white",strokeWidth:2.5})})}),!m.highlight&&e.jsxs(e.Fragment,{children:[e.jsx(i,{className:`w-6 h-6 mb-1 ${g?"fill-current":""}`,strokeWidth:g?2.5:2}),e.jsx("span",{className:`text-xs font-medium ${g?"font-semibold":""}`,children:m.label})]})]},m.path)})})})}function Ka(){const[t,r]=a.useState(navigator.onLine),[o,c]=a.useState(!navigator.onLine),{t:s}=Ne();return a.useEffect(()=>{const d=()=>{r(!0),c(!0),setTimeout(()=>c(!1),3e3)},m=()=>{r(!1),c(!0)};return window.addEventListener("online",d),window.addEventListener("offline",m),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",m)}},[]),o?e.jsx("div",{className:`fixed top-16 left-0 right-0 z-50 ${t?"bg-green-600":"bg-orange-600"} text-white px-4 py-3 shadow-lg animate-slide-down`,children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:t?e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:s("offline.reconnect")})]}):e.jsxs(e.Fragment,{children:[e.jsx(ks,{className:"w-5 h-5 animate-pulse"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s("offline.banner")}),e.jsx("div",{className:"text-sm opacity-90",children:s("offline.jobsSaved")})]})]})}),t&&e.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-green-100",children:"âœ•"})]})}):null}function Ya(){const[t,r]=a.useState(()=>{const c=localStorage.getItem("darkMode");return c!==null?c==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches});return a.useEffect(()=>{const c=document.documentElement;t?c.classList.add("dark"):c.classList.remove("dark"),localStorage.setItem("darkMode",t.toString())},[t]),[t,()=>r(c=>!c)]}function Tt(){const[t,r]=Ya();return e.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":t?"Switch to light mode":"Switch to dark mode",title:t?"Switch to light mode":"Switch to dark mode",children:t?e.jsx(_s,{className:"w-5 h-5 text-yellow-500"}):e.jsx(Ss,{className:"w-5 h-5 text-gray-600"})})}function Qa(){const[t,r]=a.useState(!1);a.useEffect(()=>{const c=()=>{window.pageYOffset>300?r(!0):r(!1)};return window.addEventListener("scroll",c),()=>{window.removeEventListener("scroll",c)}},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?e.jsx("button",{onClick:o,className:"fixed bottom-8 right-8 z-50 bg-primary-600 hover:bg-primary-700 text-white p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","aria-label":"Back to top",children:e.jsx(Cs,{className:"w-5 h-5"})}):null}function Ht(t){const r=new Date(t),c=Math.floor((new Date-r)/1e3);return c<60?"Just now":c<3600?`${Math.floor(c/60)} minutes ago`:c<86400?`${Math.floor(c/3600)} hours ago`:c<604800?`${Math.floor(c/86400)} days ago`:c<2592e3?`${Math.floor(c/604800)} weeks ago`:c<31536e3?`${Math.floor(c/2592e3)} months ago`:`${Math.floor(c/31536e3)} years ago`}function Za(t){if(!t)return!1;const r=new Date(t);return Math.floor((new Date-r)/(1e3*60*60))<=48}function Xa(t){if(!t)return!1;const r=new Date(t);return Math.floor((new Date-r)/(1e3*60*60))<=24}function er(t){return t?/<[^>]+>/.test(t):!1}function tr(t){return t?t.replace(/<script[^>]*>.*?<\/script>/gi,""):""}function sr(t){if(navigator.clipboard)return navigator.clipboard.writeText(t);{const r=document.createElement("textarea");return r.value=t,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),Promise.resolve()}}function ar(t,r=150){return!t||t.length<=r?t:t.substring(0,r).trim()+"..."}function rr(t){if(!t)return"";const r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}function Ae(t){if(!t)return null;const r={"headhunter:pngworkforce":{label:"Imported from PNGWorkforce",short:"via PNGWorkforce"},"headhunter:pngjobseek":{label:"Imported from PNGJobSeek",short:"via PNGJobSeek"},"deep-scrape:pngworkforce":{label:"Imported from PNGWorkforce",short:"via PNGWorkforce"},pngworkforce:{label:"Imported from PNGWorkforce",short:"via PNGWorkforce"},pngjobseek:{label:"Imported from PNGJobSeek",short:"via PNGJobSeek"},headhunter:{label:"Imported listing",short:"Imported"},reliefweb:{label:"Imported from ReliefWeb",short:"via ReliefWeb"},seed:{label:"Sample listing",short:"Sample"},seeded:{label:"Sample listing",short:"Sample"}},o=t.toLowerCase().trim();if(r[o])return r[o];if(o.startsWith("headhunter:")){const c=t.split(":")[1].trim(),s=c.charAt(0).toUpperCase()+c.slice(1);return{label:`Imported from ${s}`,short:`via ${s}`}}return null}function At(t){if(!t)return"";const r=t.company_name||t.employer_name||"";if(r==="Various Employers"||r==="WantokJobs Imports"){const o=Ae(t.source);return o?o.short:"Various Employers"}return r}function qt({src:t,alt:r="",width:o,height:c,className:s="",eager:d=!1,fallback:m,...i}){const[g,_]=a.useState(!1),[A,S]=a.useState(!1),E=a.useCallback(()=>_(!0),[]),R=a.useCallback(()=>{S(!0),_(!0)},[]);return A?m||e.jsx("div",{className:`flex items-center justify-center bg-gray-100 dark:bg-gray-700 text-gray-400 ${s}`,style:{width:o,height:c},role:"img","aria-label":r||"Image unavailable",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):e.jsxs("div",{className:`relative ${s}`,style:{width:o,height:c},children:[!g&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse rounded-inherit"}),e.jsx("img",{src:t,alt:r,width:o,height:c,loading:d?"eager":"lazy",decoding:d?"auto":"async",onLoad:E,onError:R,className:`w-full h-full ${g?"opacity-100":"opacity-0"} transition-opacity duration-300`,...i})]})}function $e(){return JSON.parse(sessionStorage.getItem("compareJobs")||"[]")}function rt(t){sessionStorage.setItem("compareJobs",JSON.stringify(t)),window.dispatchEvent(new Event("compareUpdate"))}function or(){const[t,r]=a.useState($e()),o=ye();return a.useEffect(()=>{const c=()=>r($e());return window.addEventListener("compareUpdate",c),window.addEventListener("storage",c),()=>{window.removeEventListener("compareUpdate",c),window.removeEventListener("storage",c)}},[]),t.length<2?null:e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-40 bg-primary-600 text-white px-6 py-3 rounded-full shadow-lg flex items-center gap-3 animate-bounce-once",children:[e.jsx(Jt,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-medium",children:["Compare ",t.length," jobs"]}),e.jsx("button",{onClick:()=>o(`/compare?jobs=${t.join(",")}`),className:"bg-white text-primary-700 px-3 py-1 rounded-full text-sm font-semibold hover:bg-primary-50",children:"Compare"}),e.jsx("button",{onClick:()=>{rt([])},className:"text-primary-200 hover:text-white text-sm ml-1",children:"Clear"})]})}function nr({jobId:t}){const[r,o]=a.useState(()=>$e().includes(t));a.useEffect(()=>{const s=()=>o($e().includes(t));return window.addEventListener("compareUpdate",s),()=>window.removeEventListener("compareUpdate",s)},[t]);const c=s=>{s.preventDefault(),s.stopPropagation();const d=$e();d.includes(t)?rt(d.filter(m=>m!==t)):d.length<3&&rt([...d,t])};return e.jsxs("button",{onClick:c,className:`absolute bottom-2 right-2 z-10 flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-colors ${r?"bg-primary-100 text-primary-700 border border-primary-300":"bg-gray-100 text-gray-500 border border-gray-200 hover:bg-gray-200"}`,title:r?"Remove from compare":"Add to compare (max 3)",children:[e.jsx(Jt,{className:"w-3 h-3"}),r?"Comparing":"Compare"]})}function be({job:t,compact:r=!1}){const o=t.excerpt||ar(rr(t.description),r?80:150),c=Za(t.created_at),s=Xa(t.created_at),d=!!t.is_featured&&(!t.featured_until||new Date(t.featured_until)>new Date);return e.jsxs("article",{className:"relative","aria-label":`${t.title} at ${At(t)}`,children:[e.jsxs(k,{to:`/jobs/${t.id}`,className:`block bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 p-6 border hover:border-primary-200 dark:hover:border-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 relative ${d?"border-yellow-300 dark:border-yellow-600 bg-gradient-to-br from-yellow-50 to-white dark:from-yellow-900/20 dark:to-gray-800":"border-gray-100 dark:border-gray-700"}`,"aria-label":`View job: ${t.title}`,children:[d&&e.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-xs font-bold rounded-full shadow-sm",children:"â­ Featured"}),!d&&s&&e.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded-full shadow-sm",children:"ðŸ”¥ HOT"}),!d&&!s&&c&&e.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 bg-blue-500 text-white text-xs font-bold rounded-full shadow-sm",children:"âœ¨ NEW"}),e.jsxs("div",{className:"flex gap-4",children:[t.logo_url&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx(qt,{src:t.logo_url,alt:`${t.company_name||t.employer_name} logo`,width:56,height:56,className:"w-14 h-14 rounded-lg object-cover border border-gray-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-primary-600 dark:hover:text-primary-400 transition-colors mb-1 line-clamp-1",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium flex items-center gap-1",children:[At(t),!!t.employer_verified&&e.jsx(me,{className:"w-3.5 h-3.5 text-blue-600","aria-label":"Verified employer",role:"img"}),(()=>{const m=Ae(t.source);return m&&(t.company_name==="Various Employers"||t.company_name==="WantokJobs Imports"||!t.company_name)?null:m?e.jsx("span",{className:"text-xs text-gray-400 ml-1",children:m.short}):null})()]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[t.location&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600",children:["ðŸ“ ",t.location]}),t.job_type&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800",children:t.job_type}),t.salary_min&&t.salary_max&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800",children:["ðŸ’° ",t.salary_currency||"PGK"," ",t.salary_min.toLocaleString()," - ",t.salary_max.toLocaleString()]}),t.company_size&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-50 text-purple-700 border border-purple-200",children:["ðŸ¢ ",t.company_size]}),Ae(t.source)?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-200",children:["ðŸ¤– ",Ae(t.source).short]}):null]}),!r&&o&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3",children:o}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-medium",children:t.created_at&&Ht(t.created_at)}),e.jsxs("div",{className:"flex items-center gap-3",children:[t.views_count>0?e.jsxs("span",{children:["ðŸ‘ï¸ ",t.views_count]}):null,t.applications_count>0?e.jsxs("span",{children:["ðŸ“ ",t.applications_count," applicants"]}):null]})]})]})]})]}),e.jsx(nr,{jobId:t.id})]})}const je="/api";function Se(){const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}}function ir(){const[t,r]=a.useState(!1),[o,c]=a.useState(!1),[s,d]=a.useState([]),[m,i]=a.useState(""),[g,_]=a.useState(!1),[A,S]=a.useState(()=>localStorage.getItem("jean_session")||""),[E,R]=a.useState(null),[F,C]=a.useState(!1),[U,f]=a.useState(!1),[p,I]=a.useState(!1),[J,H]=a.useState(0),[V,Y]=a.useState(()=>!!localStorage.getItem("jean_session")),[B,X]=a.useState(!1),[te,ne]=a.useState(""),K=a.useRef(null),D=a.useRef(null),n=a.useRef(null),$=a.useRef(null),O=Ve(),se=[{match:/^\/jobs\/\d+/,delay:1e4,hint:"Need help applying? I can walk you through it! ðŸ˜Š"},{match:/^\/pricing$/,delay:5e3,hint:"Questions about our plans? I can help you pick the right one!"},{match:/^\/register$/,delay:8e3,hint:"Having trouble signing up? I'm here to help!"},{match:/^\/dashboard\/employer\/post-job$/,delay:5e3,hint:"Need tips for writing a great job listing? Just ask!"},{match:/^\/companies$/,delay:8e3,hint:"Looking for a specific employer? I can help you search!"}];a.useEffect(()=>{const T=O.pathname,M=se.find(z=>z.match.test(T));if(!M)return;const u=`jean_hint_${T}`;if(sessionStorage.getItem(u))return;const L=setTimeout(()=>{t||(sessionStorage.setItem(u,"1"),ne(M.hint),X(!0),setTimeout(()=>{ne(""),X(!1)},8e3))},M.delay);return()=>clearTimeout(L)},[O.pathname,t]),a.useEffect(()=>{fetch(`${je}/chat/settings`).then(T=>T.json()).then(T=>{if(R(T),T!=null&&T.proactive&&!localStorage.getItem("jean_session")){const M=setTimeout(()=>X(!0),3e3);return()=>clearTimeout(M)}}).catch(()=>R({enabled:!0,proactive:!1,voiceEnabled:!1}))},[]),a.useEffect(()=>{t&&!V&&ee()},[t]),a.useEffect(()=>{var T;(T=K.current)==null||T.scrollIntoView({behavior:"smooth"})},[s]),a.useEffect(()=>{t&&!o&&setTimeout(()=>{var T;return(T=D.current)==null?void 0:T.focus()},100)},[t,o]),a.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const T=window.SpeechRecognition||window.webkitSpeechRecognition,M=new T;M.continuous=!1,M.interimResults=!1,M.lang="en-US",M.onresult=u=>{const L=u.results[0][0].transcript;i(L),C(!1),ie(L)},M.onerror=()=>C(!1),M.onend=()=>C(!1),n.current=M}},[]);const ee=async()=>{var T;try{const M=A?`?sessionToken=${A}`:"",L=await(await fetch(`${je}/chat/history${M}`,{headers:Se()})).json();if((T=L.messages)!=null&&T.length)d(L.messages.map(z=>({role:z.role,content:z.content,quickReplies:z.metadata?JSON.parse(z.metadata||"{}").quickReplies:null,time:z.created_at}))),Y(!0);else{try{const G=await(await fetch(`${je}/chat`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify({message:"hi",sessionToken:L.sessionToken||A})})).json();d([{role:"jean",content:G.message,quickReplies:G.quickReplies,time:new Date().toISOString()}]),G.sessionToken&&(S(G.sessionToken),localStorage.setItem("jean_session",G.sessionToken))}catch{d([{role:"jean",content:"Hi! ðŸ˜Š I'm Jean from WantokJobs. How can I help you?",time:new Date().toISOString()}])}Y(!0)}L.sessionToken&&(S(L.sessionToken),localStorage.setItem("jean_session",L.sessionToken))}catch{try{const L=await(await fetch(`${je}/chat`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify({message:"hi",sessionToken:A})})).json();d([{role:"jean",content:L.message,quickReplies:L.quickReplies,time:new Date().toISOString()}]),L.sessionToken&&(S(L.sessionToken),localStorage.setItem("jean_session",L.sessionToken))}catch{d([{role:"jean",content:"Hi! ðŸ˜Š I'm Jean from WantokJobs. How can I help you?",time:new Date().toISOString()}])}Y(!0)}},ie=a.useCallback(async T=>{var L;const M=(T||m).trim();if(!M||g)return;i("");const u={role:"user",content:M,time:new Date().toISOString()};d(z=>[...z,u]),_(!0);try{const z={path:O.pathname,jobId:((L=O.pathname.match(/\/jobs\/(\d+)/))==null?void 0:L[1])||null},Z=await(await fetch(`${je}/chat`,{method:"POST",headers:{"Content-Type":"application/json",...Se()},body:JSON.stringify({message:M,sessionToken:A,pageContext:z})})).json();Z.sessionToken&&(S(Z.sessionToken),localStorage.setItem("jean_session",Z.sessionToken));const ce={role:"jean",content:Z.message||"Sorry, something went wrong.",quickReplies:Z.quickReplies,time:new Date().toISOString()};d(oe=>[...oe,ce]),p&&"speechSynthesis"in window&&W(Z.message)}catch{d(G=>[...G,{role:"jean",content:"Sorry, I couldn't connect. Please try again.",time:new Date().toISOString()}])}_(!1)},[m,g,A,O.pathname,p]),P=async T=>{var L;const M=(L=T.target.files)==null?void 0:L[0];if(!M)return;_(!0);const u={role:"user",content:`ðŸ“Ž Uploaded: ${M.name}`,time:new Date().toISOString()};d(z=>[...z,u]);try{const z=new FormData;z.append("file",M),z.append("sessionToken",A),z.append("pageContext",JSON.stringify({path:O.pathname}));const Z=await(await fetch(`${je}/chat/upload`,{method:"POST",headers:Se(),body:z})).json();Z.sessionToken&&(S(Z.sessionToken),localStorage.setItem("jean_session",Z.sessionToken)),d(ce=>[...ce,{role:"jean",content:Z.message||"Processed your document.",quickReplies:Z.quickReplies,time:new Date().toISOString()}])}catch{d(G=>[...G,{role:"jean",content:"Failed to process the file. Please try again.",time:new Date().toISOString()}])}_(!1),T.target.value=""},w=()=>{var T;F?((T=n.current)==null||T.stop(),C(!1)):n.current&&(n.current.start(),C(!0))},W=T=>{if(!("speechSynthesis"in window))return;window.speechSynthesis.cancel();const M=T.replace(/[*#\[\]()]/g,"").replace(/https?:\/\/\S+/g,""),u=new SpeechSynthesisUtterance(M);u.rate=.95,u.pitch=1.05,u.onstart=()=>f(!0),u.onend=()=>f(!1),window.speechSynthesis.speak(u)},ae=T=>{i(T),ie(T)},le=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),ie())};return E&&!E.enabled?null:e.jsxs(e.Fragment,{children:[!t&&e.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex items-end gap-3",children:[B&&(te||!V&&(E==null?void 0:E.proactive))&&e.jsx("div",{className:"bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 text-sm px-4 py-2.5 rounded-2xl rounded-br-md shadow-lg max-w-[220px] animate-fade-in cursor-pointer border dark:border-gray-700",onClick:()=>{X(!1),ne(""),r(!0)},children:te||"Hi! ðŸ‘‹ I'm Jean. Need help finding a job or posting one?"}),e.jsxs("button",{onClick:()=>{X(!1),r(!0)},className:"bg-gradient-to-br from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white rounded-full p-4 shadow-xl transition-all hover:scale-110 active:scale-95 relative","aria-label":"Chat with Jean",children:[e.jsx(Ps,{size:24}),J>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:J}),e.jsx("span",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-400 rounded-full border-2 border-white"})]})]}),t&&e.jsxs("div",{className:`fixed z-50 bg-white dark:bg-gray-900 shadow-2xl rounded-2xl flex flex-col transition-all duration-200 ${o?"bottom-4 right-4 w-72 h-14":"bottom-4 right-4 w-[380px] h-[560px] max-h-[80vh] sm:w-[380px] max-w-[calc(100vw-2rem)]"}`,style:o?{}:{maxWidth:"calc(100vw - 2rem)"},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-blue-600 text-white rounded-t-2xl cursor-pointer",onClick:()=>o&&c(!1),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-lg font-bold shadow-inner",children:"J"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-sm",children:"Jean Kila"}),e.jsxs("div",{className:"text-xs text-blue-100 flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full inline-block"}),"Online Â· WantokJobs"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[(E==null?void 0:E.voiceEnabled)&&e.jsx("button",{onClick:T=>{T.stopPropagation(),I(!p)},className:"p-1.5 hover:bg-blue-500 rounded-full transition-colors",title:p?"Mute voice":"Enable voice",children:p?e.jsx(Es,{size:16}):e.jsx(Ts,{size:16})}),e.jsx("button",{onClick:T=>{T.stopPropagation(),c(!o)},className:"p-1.5 hover:bg-blue-500 rounded-full transition-colors",children:o?e.jsx(Dt,{size:16}):e.jsx(As,{size:16})}),e.jsx("button",{onClick:T=>{T.stopPropagation(),r(!1)},className:"p-1.5 hover:bg-blue-500 rounded-full transition-colors",children:e.jsx(xe,{size:16})})]})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-3",children:[s.map((T,M)=>e.jsxs("div",{className:`flex gap-2 ${T.role==="user"?"justify-end":"justify-start"}`,children:[T.role==="jean"&&e.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex-shrink-0 flex items-center justify-center text-white text-xs font-bold mt-0.5",children:"J"}),e.jsxs("div",{className:`max-w-[80%] ${T.role==="user"?"bg-blue-600 text-white rounded-2xl rounded-br-md":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-2xl rounded-bl-md"} px-4 py-2.5 text-sm leading-relaxed`,children:[e.jsx(lr,{content:T.content}),e.jsx("div",{className:`text-[10px] mt-1 ${T.role==="user"?"text-blue-200":"text-gray-400"}`,children:T.time?new Date(T.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]})]},M)),g&&e.jsxs("div",{className:"flex gap-2 justify-start",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-blue-400 to-indigo-600 flex-shrink-0 flex items-center justify-center text-white text-xs font-bold",children:"J"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl rounded-bl-md px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"Jean is typing..."})]})})]}),s.length>0&&s[s.length-1].quickReplies&&!g&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s[s.length-1].quickReplies.map((T,M)=>e.jsx("button",{onClick:()=>ae(T),className:"px-3 py-1.5 text-xs bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 border border-blue-200 dark:border-blue-700 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:T},M))}),e.jsx("div",{ref:K})]}),e.jsxs("div",{className:"px-3 py-2 border-t dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("button",{onClick:()=>{var T;return(T=$.current)==null?void 0:T.click()},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Upload document (PDF/Word)",children:e.jsx($s,{size:18})}),e.jsx("input",{ref:$,type:"file",accept:".pdf,.doc,.docx",onChange:P,className:"hidden"}),e.jsx("textarea",{ref:D,value:m,onChange:T=>i(T.target.value),onKeyDown:le,placeholder:"Type a message...",className:"flex-1 resize-none border-0 bg-gray-100 dark:bg-gray-800 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 max-h-24 dark:text-white",rows:1,disabled:g}),(E==null?void 0:E.voiceEnabled)&&n.current&&e.jsx("button",{onClick:w,className:`p-2 rounded-full transition-colors ${F?"bg-red-100 text-red-600 animate-pulse":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}`,title:F?"Stop listening":"Voice input",children:F?e.jsx(Ls,{size:18}):e.jsx(Os,{size:18})}),e.jsx("button",{onClick:()=>ie(),disabled:!m.trim()||g,className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?e.jsx(Rs,{size:18,className:"animate-spin"}):e.jsx(Is,{size:18})})]}),e.jsx("div",{className:"text-center mt-1",children:e.jsx("span",{className:"text-[10px] text-gray-400",children:"Jean Â· WantokJobs Customer Success"})})]})]})]})]})}function lr({content:t}){if(!t)return null;const r=t.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="underline text-blue-400 hover:text-blue-300" target="_blank" rel="noopener">$1</a>').replace(/^[â€¢\-]\s+(.+)$/gm,'<li class="ml-3">$1</li>').replace(/^\d+\.\s+(.+)$/gm,'<li class="ml-3 list-decimal">$1</li>').replace(/\n/g,"<br/>");return e.jsx("div",{dangerouslySetInnerHTML:{__html:r}})}const ot="wantokjobs_cookie_consent",cr=180;function dr(){try{const t=localStorage.getItem(ot);if(!t)return null;const r=JSON.parse(t);return r.expiry&&Date.now()>r.expiry?(localStorage.removeItem(ot),null):r}catch{return null}}function Xe(t){const r={...t,timestamp:Date.now(),expiry:Date.now()+cr*24*60*60*1e3};localStorage.setItem(ot,JSON.stringify(r))}function mr(){const[t,r]=a.useState(!1),[o,c]=a.useState(!1),[s,d]=a.useState({essential:!0,analytics:!1,marketing:!1});a.useEffect(()=>{dr()||r(!0)},[]);const m=()=>{Xe({essential:!0,analytics:!0,marketing:!0}),r(!1)},i=()=>{Xe({...s,essential:!0}),r(!1),c(!1)},g=()=>{Xe({essential:!0,analytics:!1,marketing:!1}),r(!1),c(!1)};return t?e.jsxs(e.Fragment,{children:[!o&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg p-4 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center sm:text-left",children:["ðŸª We use cookies to improve your experience on WantokJobs. By continuing to browse, you agree to our use of essential cookies."," ",e.jsx("a",{href:"/privacy",className:"text-primary-600 hover:underline",children:"Learn more"})]}),e.jsxs("div",{className:"flex gap-3 shrink-0",children:[e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition",children:"Manage Preferences"}),e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition",children:"Accept All"})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Cookie Preferences"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Choose which cookies you'd like to allow. Essential cookies are required for the site to function."}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Essential"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Required for basic site functionality"})]}),e.jsx("div",{className:"w-11 h-6 bg-primary-600 rounded-full relative cursor-not-allowed opacity-75",children:e.jsx("div",{className:"absolute right-0.5 top-0.5 w-5 h-5 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Analytics"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Help us understand how you use the site"})]}),e.jsx("button",{onClick:()=>d(_=>({..._,analytics:!_.analytics})),className:`w-11 h-6 rounded-full relative transition-colors ${s.analytics?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition-all ${s.analytics?"right-0.5":"left-0.5"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Marketing"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Personalized ads and recommendations"})]}),e.jsx("button",{onClick:()=>d(_=>({..._,marketing:!_.marketing})),className:`w-11 h-6 rounded-full relative transition-colors ${s.marketing?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition-all ${s.marketing?"right-0.5":"left-0.5"}`})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 rounded-lg transition",children:"Essential Only"}),e.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition",children:"Save Preferences"})]})]})})]}):null}function pr(t={}){a.useEffect(()=>{const r=o=>{if(o.key==="/"&&!hr()){o.preventDefault();const c=document.querySelector('input[type="search"], input[name="search"], input[name="keyword"], input[placeholder*="Search"]');c&&(c.focus(),c.select()),t.onSearchFocus&&t.onSearchFocus()}o.key==="Escape"&&(document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur(),t.onEscape&&t.onEscape()),(o.ctrlKey||o.metaKey)&&o.key==="k"&&(o.preventDefault(),t.onQuickAction&&t.onQuickAction())};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[t])}function hr(){const t=document.activeElement;return t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function xr(){const t=ye(),{user:r,isAuthenticated:o,logout:c,updateUser:s}=ge(),{t:d}=Ne(),[m,i]=a.useState(!1);pr({onEscape:()=>i(!1)}),a.useState(()=>{o&&Le.getMe().then(A=>s(A)).catch(()=>c())},[]);const g=()=>{Le.logout(),c(),t("/")},_=()=>r?`/dashboard/${r.role}`:"/";return e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 pb-16 md:pb-0",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:z-50 focus:top-2 focus:left-2 focus:px-4 focus:py-2 focus:bg-primary-600 focus:text-white focus:rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400",children:"Skip to main content"}),e.jsx(Ka,{}),e.jsx("header",{className:"bg-white shadow-sm",children:e.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8","aria-label":"Main navigation",children:[e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsx(k,{to:"/",className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:"WantokJobs"})}),e.jsxs("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-8",children:[e.jsx(k,{to:"/jobs",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary-600",children:d("nav.findJobs")}),e.jsx(k,{to:"/companies",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary-600",children:d("nav.companies")}),e.jsxs(k,{to:"/transparency",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary-600",children:[e.jsx("span",{className:"mr-1",children:"ðŸ›¡ï¸"})," Transparency"]}),e.jsx(k,{to:"/training",className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary-600",children:d("nav.training")}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"inline-flex items-center px-1 pt-1 text-gray-900 hover:text-primary-600",children:"Tools â–¾"}),e.jsx("div",{className:"absolute left-0 top-full mt-0 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:e.jsx(k,{to:"/salary-calculator",className:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"ðŸ§® Salary Calculator"})})]})]})]}),e.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:[e.jsx(Et,{variant:"compact"}),e.jsx(Tt,{}),r?e.jsxs(e.Fragment,{children:[e.jsx(Pt,{}),e.jsx(k,{to:_(),className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium",children:d("nav.dashboard")}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r.name}),e.jsx("button",{onClick:g,className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700",children:d("nav.logout")})]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{to:"/login",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium dark:text-gray-300",children:d("nav.login")}),e.jsx(k,{to:"/register",className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700",children:d("nav.register")})]})]}),e.jsxs("div",{className:"flex items-center sm:hidden",children:[r&&e.jsx(Pt,{}),e.jsx("button",{onClick:()=>i(!m),className:"inline-flex items-center justify-center min-h-[44px] min-w-[44px] p-3 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 active:bg-gray-200","aria-label":"Toggle mobile menu",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),m&&e.jsxs("div",{className:"sm:hidden py-3 border-t border-gray-100 dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 mb-2",children:[e.jsx(Et,{variant:"compact"}),e.jsx(Tt,{})]}),e.jsxs(k,{to:"/jobs",className:"block px-4 py-3 text-base font-medium text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:["ðŸ” ",d("nav.findJobs")]}),e.jsxs(k,{to:"/companies",className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:["ðŸ¢ ",d("nav.companies")]}),e.jsx(k,{to:"/transparency",className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:"ðŸ›¡ï¸ Transparency"}),e.jsxs(k,{to:"/training",className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:["ðŸ“š ",d("nav.training")]}),e.jsxs(k,{to:"/about",className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:["â„¹ï¸ ",d("nav.about")]}),e.jsx(k,{to:"/help",className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:"â“ Help Center"}),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 my-2"}),e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-600",children:[d("nav.signedInAs")," ",e.jsx("strong",{children:r.name})]}),e.jsxs(k,{to:_(),className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:["ðŸ“Š ",d("nav.dashboard")]}),e.jsxs("button",{onClick:()=>{g(),i(!1)},className:"block w-full text-left px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 active:bg-red-100 min-h-[44px] flex items-center",children:["ðŸšª ",d("nav.logout")]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-100 my-2"}),e.jsxs(k,{to:"/login",className:"block px-4 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 active:bg-gray-100 min-h-[44px] flex items-center",onClick:()=>i(!1),children:["ðŸ” ",d("nav.login")]}),e.jsxs(k,{to:"/register",className:"block mx-4 my-2 px-4 py-3 text-base font-semibold text-white bg-primary-600 hover:bg-primary-700 active:bg-primary-800 rounded-lg text-center min-h-[44px] flex items-center justify-center",onClick:()=>i(!1),children:["âœ¨ ",d("nav.registerFree")]})]})]})]})}),e.jsx("main",{id:"main-content",className:"flex-grow",children:e.jsx(Vt,{})}),e.jsx(Ua,{}),e.jsx(Qa,{}),e.jsx(or,{}),e.jsx("footer",{className:"bg-gray-800 text-white mt-12",role:"contentinfo",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"WantokJobs"}),e.jsx("p",{className:"text-gray-400",children:d("footer.tagline")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:d("footer.quickLinks")}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(k,{to:"/jobs",className:"text-gray-400 hover:text-white",children:d("footer.browseJobs")})}),e.jsx("li",{children:e.jsx(k,{to:"/companies",className:"text-gray-400 hover:text-white",children:d("footer.companies")})}),e.jsx("li",{children:e.jsx(k,{to:"/transparency",className:"text-gray-400 hover:text-white",children:"ðŸ›¡ï¸ Transparency"})}),e.jsx("li",{children:e.jsx(k,{to:"/features",className:"text-gray-400 hover:text-white",children:"ðŸ’¡ Feature Requests"})}),e.jsx("li",{children:e.jsx(k,{to:"/training",className:"text-gray-400 hover:text-white",children:d("footer.training")})}),e.jsx("li",{children:e.jsx(k,{to:"/about",className:"text-gray-400 hover:text-white",children:d("footer.aboutUs")})}),e.jsx("li",{children:e.jsx(k,{to:"/success-stories",className:"text-gray-400 hover:text-white",children:"Success Stories"})}),e.jsx("li",{children:e.jsx(k,{to:"/help",className:"text-gray-400 hover:text-white",children:"Help Center"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Industries"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(k,{to:"/industries/mining",className:"text-gray-400 hover:text-white",children:"Mining & Resources"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/construction",className:"text-gray-400 hover:text-white",children:"Construction"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/banking",className:"text-gray-400 hover:text-white",children:"Banking & Finance"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/health",className:"text-gray-400 hover:text-white",children:"Health & Medical"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/technology",className:"text-gray-400 hover:text-white",children:"IT & Technology"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/oil-gas",className:"text-gray-400 hover:text-white",children:"Oil & Gas"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/government",className:"text-gray-400 hover:text-white",children:"Government"})}),e.jsx("li",{children:e.jsx(k,{to:"/industries/education",className:"text-gray-400 hover:text-white",children:"Education"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:d("footer.contact")}),e.jsx("p",{className:"text-gray-400",children:"Email: info@wantokjobs.com"}),e.jsx("p",{className:"text-gray-400",children:"Phone: +675 7583 0582"})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700 text-center text-gray-400",children:e.jsx("p",{children:d("footer.copyright")})})]})}),e.jsx(ir,{}),e.jsx(mr,{})]})}function gr({role:t,children:r}){const o=Ve(),{user:c}=ge(),s=[{name:"Overview",path:"/dashboard/jobseeker",icon:"ðŸ“Š"},{name:"My Applications",path:"/dashboard/jobseeker/applications",icon:"ðŸ“"},{name:"Saved Jobs",path:"/dashboard/jobseeker/saved",icon:"ðŸ’¾"},{name:"Job Alerts",path:"/dashboard/jobseeker/job-alerts",icon:"ðŸ””"},{name:"Saved Searches",path:"/dashboard/jobseeker/saved-searches",icon:"ðŸ”"},{name:"Followed Companies",path:"/dashboard/jobseeker/followed-companies",icon:"ðŸ¢"},{name:"Recommendations",path:"/dashboard/jobseeker/recommendations",icon:"âœ¨"},{name:"Analytics",path:"/dashboard/jobseeker/analytics",icon:"ðŸ“ˆ"},{name:"Wallet",path:"/dashboard/jobseeker/wallet",icon:"ðŸ’°"},{name:"Messages",path:"/dashboard/jobseeker/messages",icon:"ðŸ’¬"},{name:"Resume Builder",path:"/dashboard/jobseeker/resume-builder",icon:"ðŸ“„"},{name:"My Profile",path:"/dashboard/jobseeker/profile",icon:"ðŸ‘¤"},{name:"Settings",path:"/dashboard/jobseeker/settings",icon:"âš™ï¸"},{name:"Change Password",path:"/dashboard/jobseeker/change-password",icon:"ðŸ”’"}],d=[{name:"Overview",path:"/dashboard/employer",icon:"ðŸ“Š"},{name:"My Jobs",path:"/dashboard/employer/jobs",icon:"ðŸ’¼"},{name:"Post a Job",path:"/dashboard/employer/post-job",icon:"âž•"},...(c==null?void 0:c.account_type)==="agency"?[{name:"Clients",path:"/dashboard/employer/clients",icon:"ðŸ¢"}]:[],{name:"Applicants",path:"/dashboard/employer/applicants",icon:"ðŸ“‹"},{name:"Candidate Search",path:"/dashboard/employer/candidate-search",icon:"ðŸ”"},{name:"Saved Candidates",path:"/dashboard/employer/saved-candidates",icon:"â­"},{name:"Analytics",path:"/dashboard/employer/analytics",icon:"ðŸ“ˆ"},{name:"Orders & Billing",path:"/dashboard/employer/orders-billing",icon:"ðŸ’³"},{name:"Wallet",path:"/dashboard/employer/wallet",icon:"ðŸ’°"},{name:"Company Profile",path:"/dashboard/employer/profile",icon:"ðŸ¢"},{name:"Messages",path:"/dashboard/employer/messages",icon:"ðŸ’¬"},{name:"Change Password",path:"/dashboard/employer/change-password",icon:"ðŸ”’"}],i=t==="jobseeker"?s:t==="employer"?d:[{name:"Overview",path:"/dashboard/admin",icon:"ðŸ“Š"},{name:"Users",path:"/dashboard/admin/users",icon:"ðŸ‘¥"},{name:"Jobs",path:"/dashboard/admin/jobs",icon:"ðŸ’¼"},{name:"Orders",path:"/dashboard/admin/orders",icon:"ðŸ›’"},{name:"Plans",path:"/dashboard/admin/plans",icon:"ðŸ“¦"},{name:"Categories",path:"/dashboard/admin/categories",icon:"ðŸ·ï¸"},{name:"Reviews",path:"/dashboard/admin/reviews",icon:"â­"},{name:"Reports",path:"/dashboard/admin/reports",icon:"ðŸ“ˆ"},{name:"Banners",path:"/dashboard/admin/banners",icon:"ðŸŽ¯"},{name:"Articles",path:"/dashboard/admin/articles",icon:"ðŸ“°"},{name:"Messages",path:"/dashboard/admin/messages",icon:"ðŸ’¬"},{name:"Contact Messages",path:"/dashboard/admin/contact-messages",icon:"ðŸ“§"},{name:"AI Agents",path:"/dashboard/admin/ai-agents",icon:"ðŸ¤–"},{name:"Jean AI",path:"/dashboard/admin/jean",icon:"ðŸ§ "},{name:"Security",path:"/dashboard/admin/security",icon:"ðŸ”"},{name:"Rate Limits",path:"/dashboard/admin/rate-limits",icon:"ðŸ›¡ï¸"},{name:"Wallet Admin",path:"/dashboard/admin/wallet",icon:"ðŸ’°"},{name:"Settings",path:"/dashboard/admin/settings",icon:"âš™ï¸"},{name:"Change Password",path:"/dashboard/admin/change-password",icon:"ðŸ”’"}];return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("aside",{className:"w-full md:w-64 flex-shrink-0",children:e.jsxs("nav",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 capitalize text-gray-900 dark:text-gray-100",children:[t," Dashboard"]}),e.jsx("ul",{className:"space-y-2",children:i.map(g=>{const _=o.pathname===g.path;return e.jsx("li",{children:e.jsxs(k,{to:g.path,className:`flex items-center px-4 py-2 rounded-md transition-colors ${_?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{className:"mr-3",children:g.icon}),g.name]})},g.path)})})]})}),e.jsx("div",{className:"flex-1",children:r})]})})}function et({role:t}){const{user:r,isAuthenticated:o,updateUser:c,logout:s,loading:d}=ge(),[m,i]=a.useState(!1),[g,_]=a.useState(!0);return a.useEffect(()=>{if(!d){if(!o){_(!1);return}Le.getMe().then(A=>{c(A),i(!0),_(!1)}).catch(()=>{s(),_(!1)})}},[d]),g||d?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):!o||!r?e.jsx(Nt,{to:"/login",replace:!0}):t&&r.role!==t?e.jsx(Nt,{to:"/",replace:!0}):e.jsx(gr,{role:r.role,children:e.jsx(Vt,{})})}class ur extends a.Component{constructor(o){super(o);qe(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});qe(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,c){this.setState({errorInfo:c}),console.error("ErrorBoundary caught:",o,c)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-[400px] flex items-center justify-center px-4 py-12",role:"alert","aria-live":"assertive",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-xl shadow-sm border border-gray-200 max-w-lg w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Js,{className:"w-8 h-8 text-red-600","aria-hidden":"true"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"An unexpected error occurred. This has been noted and we'll look into it. Please try refreshing or go back to the homepage."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors w-full sm:w-auto justify-center","aria-label":"Try loading this page again",children:[e.jsx(Ds,{className:"w-4 h-4","aria-hidden":"true"}),"Try Again"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors w-full sm:w-auto justify-center","aria-label":"Go to homepage",children:[e.jsx(nt,{className:"w-4 h-4","aria-hidden":"true"}),"Go Home"]})]})]})}):this.props.children}}const Ut=a.createContext(null);function yr({children:t}){const[r,o]=a.useState([]),c=a.useCallback((s,d="info")=>{const m=Date.now()+Math.random();o(i=>[...i,{id:m,message:s,type:d}]),setTimeout(()=>{o(i=>i.filter(g=>g.id!==m))},4e3)},[]);return e.jsxs(Ut.Provider,{value:{showToast:c},children:[t,e.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 max-w-sm",children:r.map(s=>e.jsx("div",{className:`px-4 py-3 rounded-lg shadow-lg text-white text-sm animate-slide-in ${s.type==="success"?"bg-green-600":s.type==="error"?"bg-red-600":"bg-blue-600"}`,onClick:()=>o(d=>d.filter(m=>m.id!==s.id)),children:s.message},s.id))})]})}function Kt(){const t=a.useContext(Ut);if(!t)throw new Error("useToast must be used within ToastProvider");return t}const Yt="https://wantokjobs.com",br=`${Yt}/og-image.png`,Fe="WantokJobs",fr="Find jobs in Papua New Guinea. Browse thousands of opportunities from top PNG employers. Your Wantok in the job market.";function we({title:t,description:r,image:o,type:c="website",noIndex:s=!1,jsonLd:d=null,keywords:m=null}){const i=Ve(),g=t?t.includes(Fe)?t:`${t} | ${Fe}`:`${Fe} â€” Find Jobs in Papua New Guinea`,_=`${Yt}${i.pathname}`,A=o||br,S=r||fr;return a.useEffect(()=>{document.title=g;const E=(C,U)=>{if(!U)return;let f=document.querySelector(`meta[property="${C}"], meta[name="${C}"]`);f||(f=document.createElement("meta"),C.startsWith("og:")||C.startsWith("article:")?f.setAttribute("property",C):f.setAttribute("name",C),document.head.appendChild(f)),f.content=U},R=(C,U)=>{let f=document.querySelector(`link[rel="${C}"]`);f||(f=document.createElement("link"),f.rel=C,document.head.appendChild(f)),f.href=U};E("description",S),m&&E("keywords",m),R("canonical",_),E("og:title",g),E("og:description",S),E("og:url",_),E("og:image",A),E("og:type",c),E("og:site_name",Fe),E("og:locale","en_PG"),E("twitter:card","summary_large_image"),E("twitter:title",g),E("twitter:description",S),E("twitter:image",A),s&&E("robots","noindex, nofollow");let F=null;if(d){F=document.createElement("script"),F.type="application/ld+json",F.id="page-jsonld",F.text=JSON.stringify(d);const C=document.getElementById("page-jsonld");C&&C.remove(),document.head.appendChild(F)}return()=>{if(s){const C=document.querySelector('meta[name="robots"]');C&&C.remove()}if(F){const C=document.getElementById("page-jsonld");C&&C.remove()}}},[g,S,_,A,c,s,d,m]),null}function q({className:t="",variant:r="default"}){const o={default:"h-4 bg-gray-200 rounded animate-pulse",card:"h-48 bg-gray-200 rounded-lg animate-pulse",circle:"w-12 h-12 bg-gray-200 rounded-full animate-pulse",text:"h-3 bg-gray-200 rounded animate-pulse",title:"h-6 bg-gray-200 rounded animate-pulse w-3/4",button:"h-10 w-32 bg-gray-200 rounded-lg animate-pulse",avatar:"w-10 h-10 bg-gray-200 rounded-full animate-pulse",image:"w-full h-40 bg-gray-200 rounded-lg animate-pulse"};return e.jsx("div",{className:`${o[r]} ${t}`,role:"status","aria-label":"Loading...","aria-busy":"true"})}function jr(){return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200","aria-hidden":"true",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(q,{variant:"circle"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx(q,{variant:"title"}),e.jsx(q,{className:"w-1/2"}),e.jsx(q,{className:"w-2/3"}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(q,{className:"w-20 h-6"}),e.jsx(q,{className:"w-24 h-6"})]})]})]})})}function Tn(){return e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200","aria-hidden":"true",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx(q,{variant:"circle",className:"w-20 h-20"}),e.jsx(q,{variant:"title",className:"w-full"}),e.jsx(q,{className:"w-3/4"}),e.jsx(q,{className:"w-1/2"})]})})}function vr(){return e.jsx("div",{className:"space-y-4","aria-hidden":"true",role:"status","aria-label":"Loading jobs...",children:Array.from({length:6}).map((t,r)=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(q,{variant:"circle",className:"w-12 h-12 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx(q,{variant:"title"}),e.jsx(q,{className:"w-1/3 h-3"}),e.jsx(q,{className:"w-2/3 h-3"}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(q,{className:"w-20 h-6 rounded-full"}),e.jsx(q,{className:"w-24 h-6 rounded-full"}),e.jsx(q,{className:"w-28 h-6 rounded-full"})]})]})]})},r))})}function An({count:t=8}){return e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6","aria-hidden":"true",role:"status","aria-label":"Loading categories...",children:Array.from({length:t}).map((r,o)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx(q,{className:"w-12 h-12 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(q,{variant:"title",className:"w-3/4"}),e.jsx(q,{className:"w-1/2 h-3"})]})]}),e.jsx(q,{className:"w-full h-3"}),e.jsx(q,{className:"w-2/3 h-3 mt-2"}),e.jsx(q,{className:"w-24 h-4 mt-3"})]},o))})}function wr(){return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6","aria-hidden":"true",role:"status","aria-label":"Loading job details...",children:[e.jsx(q,{className:"w-24 h-4 mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx(q,{className:"w-16 h-16 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx(q,{className:"w-3/4 h-8"}),e.jsx(q,{className:"w-1/2 h-5"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:Array.from({length:4}).map((t,r)=>e.jsx(q,{className:"w-32 h-6 rounded-full"},r))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 space-y-3",children:[e.jsx(q,{variant:"title",className:"w-1/3"}),Array.from({length:8}).map((t,r)=>e.jsx(q,{className:`h-3 ${r%3===0?"w-full":r%3===1?"w-4/5":"w-3/5"}`},r))]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 space-y-3",children:[e.jsx(q,{variant:"button",className:"w-full h-12"}),e.jsx(q,{variant:"button",className:"w-full h-12"})]})})]})]})}function Nr(){const[t,r]=a.useState([]),[o,c]=a.useState(null),[s,d]=a.useState(!1),[m,i]=a.useState(!1),[g,_]=a.useState(0);a.useEffect(()=>{fetch("/api/activity/feed?limit=10").then(E=>E.json()).then(E=>{var R;((R=E.events)==null?void 0:R.length)>0&&r(E.events)}).catch(()=>{})},[]),a.useEffect(()=>{if(t.length===0||m)return;const E=setTimeout(()=>{A(0)},3e3);return()=>clearTimeout(E)},[t,m]);const A=a.useCallback(E=>{E>=t.length||E>=5||m||(c(t[E]),d(!0),_(E+1),setTimeout(()=>{d(!1),setTimeout(()=>{A(E+1)},2e3)},6e3))},[t,m]),S=()=>{d(!1),i(!0)};return!o||m?null:e.jsxs("div",{className:`fixed bottom-4 left-4 z-50 max-w-sm transition-all duration-500 ${s?"translate-y-0 opacity-100":"translate-y-4 opacity-0 pointer-events-none"}`,children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 p-4 flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:o.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 leading-tight",children:o.text}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:kr(o.time)})]}),e.jsx("button",{onClick:S,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition","aria-label":"Dismiss",children:e.jsx(xe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex justify-center gap-1 mt-2",children:t.slice(0,5).map((E,R)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-colors ${R<g?"bg-primary-500":"bg-gray-300"}`},R))})]})}function kr(t){if(!t)return"";const r=new Date,o=new Date(t+"Z"),c=r-o,s=Math.floor(c/6e4),d=Math.floor(s/60),m=Math.floor(d/24);return s<1?"just now":s<60?`${s} min ago`:d<24?`${d} hour${d>1?"s":""} ago`:m<7?`${m} day${m>1?"s":""} ago`:o.toLocaleDateString()}function _r(){var d;const[t,r]=a.useState(null),[o,c]=a.useState(!0);if(a.useEffect(()=>{fetch("/api/activity/feed?limit=15").then(m=>m.json()).then(m=>{r(m),c(!1)}).catch(()=>c(!1))},[]),o)return e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((m,i)=>e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),e.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded"})]},i))});if(!((d=t==null?void 0:t.events)!=null&&d.length))return null;const s={job_posted:{icon:pe,color:"bg-green-100 text-green-600"},signup:{icon:ft,color:"bg-blue-100 text-blue-600"},application:{icon:Pe,color:"bg-purple-100 text-purple-600"}};return e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:e.jsx(Ms,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Live Activity"}),e.jsx("p",{className:"text-sm text-gray-500",children:"What's happening on WantokJobs right now"})]})]}),t.stats&&e.jsxs("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[t.stats.jobsToday>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-green-600",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:t.stats.jobsToday}),e.jsx("span",{className:"text-gray-500",children:"jobs today"})]}),t.stats.signupsToday>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-blue-600",children:[e.jsx(ft,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:t.stats.signupsToday}),e.jsx("span",{className:"text-gray-500",children:"new members"})]}),t.stats.viewsToday>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-amber-600",children:[e.jsx(Re,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold",children:t.stats.viewsToday.toLocaleString()}),e.jsx("span",{className:"text-gray-500",children:"job views"})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100",children:t.events.slice(0,8).map((m,i)=>{const g=s[m.type]||s.job_posted,_=g.icon;return e.jsxs("div",{className:"flex items-center gap-4 px-5 py-3.5 hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:`p-2 rounded-full flex-shrink-0 ${g.color}`,children:e.jsx(_,{className:"w-4 h-4"})}),e.jsx("p",{className:"flex-1 text-sm text-gray-700 min-w-0",children:e.jsx("span",{className:"font-medium text-gray-900",children:m.text})}),e.jsx("span",{className:"text-xs text-gray-400 flex-shrink-0 whitespace-nowrap",children:Sr(m.time)})]},i)})}),t.stats&&e.jsxs("div",{className:"md:hidden grid grid-cols-3 gap-3 mt-4",children:[t.stats.jobsToday>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:t.stats.jobsToday}),e.jsx("div",{className:"text-xs text-gray-500",children:"jobs today"})]}),t.stats.signupsToday>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:t.stats.signupsToday}),e.jsx("div",{className:"text-xs text-gray-500",children:"new members"})]}),t.stats.viewsToday>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 text-center shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-amber-600",children:t.stats.viewsToday.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"views"})]})]})]})})}function Sr(t){if(!t)return"";const r=new Date,o=new Date(t+"Z"),c=r-o,s=Math.floor(c/6e4),d=Math.floor(s/60),m=Math.floor(d/24);return s<1?"just now":s<60?`${s}m ago`:d<24?`${d}h ago`:m<7?`${m}d ago`:o.toLocaleDateString()}function Cr(){const[t,r]=a.useState([]),[o,c]=a.useState(0);if(a.useEffect(()=>{qa.get("/testimonials?limit=4").then(d=>r((d.testimonials||[]).filter(m=>m.featured).slice(0,4))).catch(()=>{})},[]),a.useEffect(()=>{if(t.length<=1)return;const d=setInterval(()=>c(m=>(m+1)%t.length),5e3);return()=>clearInterval(d)},[t.length]),t.length===0)return null;const s=t[o];return e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"What People Say"}),e.jsx("p",{className:"text-gray-500 mb-10",children:"Real stories from our community"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border dark:border-gray-700 p-8 md:p-10 mx-auto max-w-2xl min-h-[200px] flex flex-col items-center justify-center",children:[e.jsx("div",{className:"flex gap-0.5 mb-4",children:[1,2,3,4,5].map(d=>e.jsx(Ce,{className:`w-5 h-5 ${d<=s.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},d))}),e.jsxs("blockquote",{className:"text-lg md:text-xl text-gray-700 dark:text-gray-300 italic mb-6 leading-relaxed",children:['"',s.quote,'"']}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.role,s.company?` at ${s.company}`:""]})]})]}),t.length>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-6",children:t.map((d,m)=>e.jsx("button",{onClick:()=>c(m),className:`w-2.5 h-2.5 rounded-full transition ${m===o?"bg-primary-600":"bg-gray-300"}`},m))})]}),e.jsx(k,{to:"/success-stories",className:"inline-block mt-8 text-primary-600 font-semibold hover:underline",children:"Read all success stories â†’"})]})})}const Pr={"mining-and-resources":Qs,"health-and-medical":Ys,"education-and-training":Ks,"ict-and-technology":Us,finance:Ft,"construction-and-trades":qs,"manufacturing-and-logistics":Hs,hospitality:Gs,"community-and-development":it,engineering:Bs,administration:pe,"management-and-executive":We,"hr-and-recruitment":ve,"marketing-and-sales":Vs,"legal-and-law":Ws,government:Mt,"science-and-research":zs,"agriculture-and-environment":Fs},$t=["text-orange-600 bg-orange-100","text-pink-600 bg-pink-100","text-blue-600 bg-blue-100","text-purple-600 bg-purple-100","text-green-600 bg-green-100","text-yellow-600 bg-yellow-100","text-indigo-600 bg-indigo-100","text-teal-600 bg-teal-100","text-cyan-600 bg-cyan-100","text-slate-600 bg-slate-100","text-red-600 bg-red-100","text-emerald-600 bg-emerald-100"],Er=["All Locations","Port Moresby, NCD","Lae, Morobe","Mt Hagen, WHP","Kokopo, ENBP","Madang","Goroka, EHP","Kimbe, WNB","Wewak, ESP","Alotau, Milne Bay"];function Tr(){const t=ye(),{t:r}=Ne(),{user:o}=ge(),[c,s]=a.useState({keyword:"",location:"",category:""}),[d,m]=a.useState([]),[i,g]=a.useState([]),[_,A]=a.useState("popular"),[S,E]=a.useState([]),[R,F]=a.useState([]),[C,U]=a.useState({totalJobs:0,activeJobs:0,totalEmployers:0,totalJobseekers:0}),[f,p]=a.useState(!0),[I,J]=a.useState([]),[H,V]=a.useState([]),[Y,B]=a.useState(""),[X,te]=a.useState(!1);a.useEffect(()=>{ne()},[]),a.useEffect(()=>{const n={"@context":"https://schema.org","@type":"WebSite",name:"WantokJobs",url:"https://wantokjobs.com",description:"Papua New Guinea's leading job board. Find jobs, post vacancies, and connect with employers across PNG.",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:"https://wantokjobs.com/jobs?q={search_term_string}"},"query-input":"required name=search_term_string"}},$=document.createElement("script");return $.type="application/ld+json",$.text=JSON.stringify(n),$.id="website-structured-data",document.head.appendChild($),()=>{const O=document.getElementById("website-structured-data");O&&O.remove()}},[]);const ne=async()=>{var n,$;try{const[O,se,ee,ie,P]=await Promise.all([Oe.getAll({limit:6}),fetch("/api/stats").then(w=>w.json()).catch(()=>null),fetch("/api/stats/categories").then(w=>w.json()).catch(()=>null),fetch("/api/stats/top-employers").then(w=>w.json()).catch(()=>null),fetch("/api/analytics/popular-searches").then(w=>w.json()).catch(()=>null)]);m((O==null?void 0:O.data)||O||[]);try{const w={},W=localStorage.getItem("token");W&&(w.Authorization=`Bearer ${W}`);const ae=await fetch("/api/recommendations?limit=10",{headers:w}).then(le=>le.json());((n=ae==null?void 0:ae.data)==null?void 0:n.length)>0&&(g(ae.data),A(ae.type||"popular"))}catch{}se&&U({totalJobs:se.totalJobs||0,activeJobs:se.activeJobs||0,totalEmployers:se.totalEmployers||0,totalJobseekers:se.totalJobseekers||0}),ee!=null&&ee.data&&E(ee.data.filter(w=>w.job_count>0).slice(0,10)),ie!=null&&ie.data&&F(ie.data.filter(w=>w.company_name&&w.company_name!=="Various Employers")),(($=P==null?void 0:P.data)==null?void 0:$.length)>0&&J(P.data.map(w=>w.query));try{const w=await fetch("/api/stats/regions").then(W=>W.json());w!=null&&w.data&&V(w.data)}catch{}}catch(O){console.error("Failed to load data:",O)}finally{p(!1)}},K=n=>{n.preventDefault();const $=new URLSearchParams;c.keyword&&$.append("q",c.keyword),c.location&&c.location!=="All Locations"&&$.append("location",c.location),c.category&&c.category!=="All Categories"&&$.append("category",c.category),t(`/jobs?${$.toString()}`)},D=async n=>{n.preventDefault();try{await fetch("/api/job-alerts/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Y,frequency:"daily"})}),te(!0),B("")}catch{t(`/register?email=${encodeURIComponent(Y)}`)}};return e.jsxs(e.Fragment,{children:[e.jsx(Nr,{}),e.jsx(we,{title:"WantokJobs â€” PNG's First Transparent Hiring Platform | Fair Recruitment",description:`PNG's leading transparent job platform. 463 employers, 112 transparent employers, 65 government bodies. Fair hiring, open processes. No other PNG platform has this. ${C.activeJobs}+ jobs.`,keywords:"jobs PNG, transparent hiring PNG, fair recruitment Papua New Guinea, government jobs PNG, Port Moresby jobs, Lae jobs, careers PNG, employment PNG",jsonLd:{"@context":"https://schema.org","@type":"WebSite",name:"WantokJobs",url:"https://wantokjobs.com",description:"Leading job platform for Papua New Guinea and the Pacific Islands.",potentialAction:{"@type":"SearchAction",target:"https://wantokjobs.com/jobs?q={search_term_string}","query-input":"required name=search_term_string"}}}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-600 via-primary-700 to-teal-700 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-24 relative",children:[e.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-3xl md:text-6xl font-bold mb-4 md:mb-6",children:["PNG's First",e.jsx("br",{}),e.jsx("span",{className:"text-secondary-400",children:"Transparent Hiring Platform"})]}),e.jsxs("p",{className:"text-lg md:text-2xl text-primary-100 mb-2",children:[C.totalEmployers.toLocaleString(),"+ employers â€¢ ",C.totalJobseekers.toLocaleString(),"+ job seekers â€¢ 112 transparent employers"]}),e.jsx("p",{className:"text-lg text-primary-200",children:"Fair recruitment. Open processes. No more hidden wantok deals."})]}),e.jsxs(ue.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},onSubmit:K,className:"max-w-5xl mx-auto bg-white rounded-2xl shadow-2xl p-4",role:"search","aria-label":"Search jobs",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ee,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 md:w-5 md:h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:r("hero.searchPlaceholder"),value:c.keyword,onChange:n=>s({...c,keyword:n.target.value}),className:"w-full pl-12 pr-4 py-4 md:py-3 text-base md:text-sm border-2 md:border border-gray-300 rounded-xl md:rounded-lg text-gray-900 focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-label":"Job title or keywords"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 md:w-5 md:h-5 text-gray-400"}),e.jsx("select",{value:c.location,onChange:n=>s({...c,location:n.target.value}),className:"w-full pl-12 pr-4 py-4 md:py-3 text-base md:text-sm border-2 md:border border-gray-300 rounded-xl md:rounded-lg text-gray-900 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none","aria-label":"Job location",children:Er.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 md:w-5 md:h-5 text-gray-400"}),e.jsxs("select",{value:c.category,onChange:n=>s({...c,category:n.target.value}),className:"w-full pl-12 pr-4 py-4 md:py-3 text-base md:text-sm border-2 md:border border-gray-300 rounded-xl md:rounded-lg text-gray-900 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none","aria-label":"Job category",children:[e.jsx("option",{value:"",children:r("hero.allCategories")}),S.map(n=>e.jsxs("option",{value:n.slug,children:[n.name," (",n.job_count,")"]},n.slug))]})]})]}),e.jsxs("button",{type:"submit",className:"w-full bg-primary-600 text-white py-4 rounded-lg font-bold text-lg hover:bg-primary-700 transition flex items-center justify-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),r("hero.searchButton")," ",C.activeJobs>0?`(${C.activeJobs.toLocaleString()})`:""]})]}),e.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-center mt-6",children:[e.jsxs("p",{className:"text-primary-100 mb-2",children:[e.jsx(We,{className:"inline w-4 h-4 mr-1"}),I.length>0?"Trending searches:":"Popular searches:"]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:(I.length>0?I.slice(0,7):["Mining","IT","Nursing","Engineering","Accounting","Teaching","Driver"]).map(n=>e.jsx("button",{onClick:()=>t(`/jobs?q=${n}`),className:"px-4 py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full text-sm text-white transition",children:n},n))})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6 text-center",children:[{value:463,label:"Employers",icon:Ue},{value:65,label:"Government Bodies",icon:Mt},{value:112,label:"Transparent Employers",icon:Ke},{value:C.activeJobs,label:"Active Jobs",icon:pe},{value:C.totalJobseekers,label:"Job Seekers",icon:ve}].map((n,$)=>e.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:$*.1},children:[e.jsx(n.icon,{className:"w-6 h-6 text-primary-500 mx-auto mb-2"}),e.jsxs("div",{className:"text-3xl md:text-4xl font-bold text-primary-600 mb-1",children:[n.value.toLocaleString(),typeof n.value=="number"&&n.value>10?"+":""]}),e.jsx("div",{className:"text-sm md:text-base text-gray-600 dark:text-gray-400",children:n.label})]},n.label))})})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-800 dark:to-gray-800 py-16 border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-block bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:"ðŸ† First in the Pacific"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"The Transparency Framework"}),e.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:["Fair hiring for PNG. Government departments, SOEs, NGOs, and statutory authorities must now disclose hiring panels, selection criteria, and outcomes. ",e.jsx("strong",{children:"No other PNG job platform has this."})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[{icon:Re,title:"For Job Seekers",color:"bg-blue-100 text-blue-600",points:["See exactly how you're evaluated","Know who's on the hiring panel","Understand selection criteria upfront","Fair chance â€” merit-based hiring"]},{icon:Ue,title:"For Employers",color:"bg-purple-100 text-purple-600",points:["Build trust and credibility","Meet compliance requirements","Stand out from competitors","Reduce recruitment disputes"]},{icon:Ke,title:"For PNG",color:"bg-green-100 text-green-600",points:["Combat wantok system abuse","Public sector accountability","Transparent governance","Level playing field for all"]}].map((n,$)=>e.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:$*.15},className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-sm",children:[e.jsx("div",{className:`w-16 h-16 ${n.color} rounded-full flex items-center justify-center mx-auto mb-6`,children:e.jsx(n.icon,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 text-center",children:n.title}),e.jsx("ul",{className:"space-y-3",children:n.points.map((O,se)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(Ye,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:O})]},se))})]},$))}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-sm mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center",children:"Transparency Score System"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{badge:"ðŸŸ¢",range:"80-100",label:"Excellent",desc:"Full disclosure, all criteria public, panel declared"},{badge:"ðŸŸ¡",range:"50-79",label:"Improving",desc:"Partial transparency, some criteria disclosed"},{badge:"ðŸ”´",range:"0-49",label:"Needs Work",desc:"Limited disclosure, improving compliance"}].map((n,$)=>e.jsxs("div",{className:"text-center p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"text-5xl mb-3",children:n.badge}),e.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:n.label}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 font-semibold",children:[n.range," Score"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n.desc})]},$))})]}),e.jsx("div",{className:"text-center",children:e.jsxs(k,{to:"/transparency",className:"inline-flex items-center gap-2 bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition",children:["Learn More About Transparency Framework",e.jsx(Te,{className:"w-5 h-5"})]})})]})}),H.length>0&&e.jsx("div",{className:"bg-white dark:bg-gray-800 py-12 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"ðŸŒ Browse by Region"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Jobs across the Pacific Islands"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:H.map(n=>{const $={png:"ðŸ‡µðŸ‡¬",fj:"ðŸ‡«ðŸ‡¯",remote:"ðŸŒ",other:"ðŸï¸"},O=n.key==="remote"?"remote=true":n.key==="other"?"":`country=${encodeURIComponent(n.label)}`;return e.jsxs(k,{to:O?`/jobs?${O}`:"/jobs",className:"bg-gradient-to-br bg-gray-50 dark:bg-gray-700 rounded-xl p-6 text-center hover:shadow-lg transition-all hover:-translate-y-1 group border border-gray-100 dark:border-gray-600",children:[e.jsx("div",{className:"text-4xl mb-3",children:$[n.key]||"ðŸŒ"}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 mb-1",children:n.label}),e.jsxs("p",{className:"text-primary-600 font-semibold text-lg",children:[n.count," jobs"]})]},n.key)})})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:r("home.browseCategories")}),e.jsx("p",{className:"text-xl text-gray-600",children:r("hero.activeJobs",{count:C.activeJobs.toLocaleString()})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:S.slice(0,10).map((n,$)=>{const O=Pr[n.slug]||pe,se=$t[$%$t.length];return e.jsxs(ue.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:$*.05},onClick:()=>t(`/jobs?category=${n.slug}`),className:"bg-white dark:bg-gray-800 rounded-xl p-6 hover:shadow-lg transition-all hover:-translate-y-1 group",children:[e.jsx("div",{className:`w-12 h-12 ${se} rounded-lg flex items-center justify-center mb-4 mx-auto group-hover:scale-110 transition-transform`,children:e.jsx(O,{className:"w-6 h-6"})}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2 text-sm",children:n.name}),e.jsxs("p",{className:"text-sm text-primary-600 font-medium",children:[n.job_count," jobs"]})]},n.slug)})}),e.jsx("div",{className:"text-center",children:e.jsxs(k,{to:"/categories",className:"text-primary-600 hover:text-primary-700 font-semibold inline-flex items-center gap-2",children:[r("common.viewAll"),e.jsx(jt,{className:"w-5 h-5"})]})})]})}),i.length>0&&e.jsx("div",{className:"bg-white py-16 border-b border-gray-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[e.jsx(vt,{className:"w-8 h-8 text-primary-600"}),_==="personalized"?"Recommended for You":"Trending Jobs"]}),e.jsx("p",{className:"text-lg text-gray-600",children:_==="personalized"?"Jobs matched to your skills, experience and preferences":"Popular jobs being viewed and applied to right now"})]}),e.jsxs(k,{to:"/jobs",className:"hidden md:inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-semibold",children:["View All ",e.jsx(Te,{className:"w-5 h-5"})]})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.slice(0,6).map(n=>e.jsx(be,{job:n},n.id))}),i.length>6&&e.jsx("div",{className:"mt-6 grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.slice(6,10).map(n=>e.jsx(be,{job:n,compact:!0},n.id))})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:r("home.featuredJobs")}),e.jsx("p",{className:"text-lg text-gray-600",children:r("home.viewAllJobs")})]}),e.jsxs(k,{to:"/jobs",className:"hidden md:inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-semibold",children:[r("home.viewAllJobs")," ",e.jsx(Te,{className:"w-5 h-5"})]})]}),f?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((n,$)=>e.jsx(jr,{},$))}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(n=>e.jsx(be,{job:n},n.id))}),e.jsx("div",{className:"text-center mt-8 md:hidden",children:e.jsx(k,{to:"/jobs",className:"inline-block bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition",children:r("home.viewAllJobs")})})]})}),e.jsx(_r,{}),e.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-teal-50 dark:from-gray-800 dark:to-gray-800 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"How It Works"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Get started in minutes"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:ve,step:"1",title:"Create Your Profile",desc:"Sign up free. Upload your CV, add skills, and set job preferences. Takes under 5 minutes."},{icon:Ee,step:"2",title:"Search & Apply",desc:"Browse jobs with smart filters. Get AI-powered recommendations. Apply with one click."},{icon:Zs,step:"3",title:"Get Hired",desc:"Track your applications in real-time. Receive interview invitations. Land your dream role."}].map((n,$)=>e.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:$*.15},className:"bg-white dark:bg-gray-800 rounded-xl p-8 text-center shadow-sm relative",children:[e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-bold text-sm",children:n.step}),e.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6 mt-2",children:e.jsx(n.icon,{className:"w-8 h-8 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:n.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.desc})]},$))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-10",children:[e.jsx(k,{to:"/register?type=jobseeker",className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition text-center",children:"Sign Up as Job Seeker"}),e.jsx(k,{to:"/register?type=employer",className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-50 transition border border-primary-200 text-center",children:"Post a Job â€” It's Free"})]})]})}),R.length>0&&e.jsx("div",{className:"bg-white dark:bg-gray-800 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Top Employers"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Leading companies hiring on WantokJobs"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:R.slice(0,12).map(n=>e.jsxs(k,{to:`/companies/${n.id}`,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-5 flex flex-col items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-600 hover:shadow-md transition group",children:[n.logo_url?e.jsx("img",{src:n.logo_url.startsWith("http")?n.logo_url:`/uploads/${n.logo_url}`,alt:n.company_name,className:"w-16 h-16 object-contain mb-3 group-hover:scale-105 transition-transform",onError:$=>{$.target.style.display="none",$.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:`w-16 h-16 bg-primary-100 rounded-lg items-center justify-center mb-3 ${n.logo_url?"hidden":"flex"}`,children:e.jsx(Ue,{className:"w-8 h-8 text-primary-400"})}),e.jsx("p",{className:"text-sm font-medium text-gray-700 text-center line-clamp-2",children:n.company_name}),n.job_count>0?e.jsxs("p",{className:"text-xs text-primary-600 mt-1",children:[n.job_count," active jobs"]}):null]},n.id))}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs(k,{to:"/companies",className:"text-primary-600 hover:text-primary-700 font-semibold inline-flex items-center gap-2",children:["View All Companies",e.jsx(jt,{className:"w-5 h-5"})]})})]})}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Why WantokJobs?"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Built for Papua New Guinea. Powered by AI."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:Ke,title:"Transparency Framework",desc:"Only PNG platform with mandatory hiring transparency for public sector. Fair, merit-based recruitment."},{icon:Xs,title:"Employer Scout",desc:"Automated employer profile building from multiple sources â€” 65 public sector profiles and counting"},{icon:vt,title:"Jean AI Assistant",desc:"Chat widget on every page. Get instant help with job searches, applications, and career advice"},{icon:he,title:"WhatsApp Job Alerts",desc:"Get notified instantly when jobs matching your profile are posted â€” via email, SMS, or WhatsApp"},{icon:it,title:"Province-Based Search",desc:"Find jobs by province and region across PNG and the Pacific Islands"},{icon:Ft,title:"Credit-Based Billing",desc:"No subscriptions! Buy credits when you need them â€” they never expire. Fair pricing for employers."},{icon:ve,title:"65 Government Profiles",desc:"All PNG government departments, SOEs, statutory authorities, and provincial governments"},{icon:Ye,title:"Free for Job Seekers",desc:"Search, apply, build your CV, track applications, and use Tok Pisin â€” all completely free"}].map((n,$)=>e.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:$*.1},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(n.icon,{className:"w-8 h-8 text-primary-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:n.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n.desc})]},$))})]})}),e.jsx(Cr,{}),e.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-white mx-auto mb-6"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Never Miss an Opportunity"}),e.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"Get new job alerts delivered to your inbox daily"}),X?e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-6 max-w-md mx-auto",children:[e.jsx(Ye,{className:"w-10 h-10 text-green-300 mx-auto mb-3"}),e.jsx("p",{className:"text-white font-semibold",children:"You're signed up! Create an account to customize your alerts."}),e.jsx(k,{to:"/register",className:"text-white underline mt-2 inline-block hover:text-primary-100",children:"Create Free Account â†’"})]}):e.jsxs("form",{onSubmit:D,className:"max-w-md mx-auto flex gap-2",children:[e.jsx("input",{type:"email",value:Y,onChange:n=>B(n.target.value),placeholder:"Enter your email",className:"flex-1 px-6 py-3 rounded-lg text-gray-900",required:!0,"aria-label":"Email for job alerts"}),e.jsx("button",{type:"submit",className:"bg-white text-primary-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition whitespace-nowrap",children:"Subscribe"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:["Hiring? Reach ",C.totalJobseekers.toLocaleString(),"+ Candidates"]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Post jobs, search candidates, and find the right talent for your team. Start with a free posting."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(k,{to:"/register?type=employer",className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition",children:"Post a Job â€” Free"}),e.jsx(k,{to:"/pricing",className:"bg-gray-100 text-gray-900 px-8 py-3 rounded-lg font-semibold hover:bg-gray-200 transition",children:"View Pricing Plans"})]})]})})]})}const Ar=[{name:"Central Province",abbr:"CPL",variations:["Central","CPL"]},{name:"Chimbu (Simbu)",abbr:"SIM",variations:["Chimbu","Simbu","SIM","CHI"]},{name:"Eastern Highlands",abbr:"EHP",variations:["Eastern Highlands","EHP","E. Highlands"]},{name:"East New Britain",abbr:"ENB",variations:["East New Britain","ENB","E.N. Britain"]},{name:"East Sepik",abbr:"ESP",variations:["East Sepik","ESP","E. Sepik"]},{name:"Enga",abbr:"EPV",variations:["Enga","EPV"]},{name:"Gulf",abbr:"GPL",variations:["Gulf","GPL"]},{name:"Hela",abbr:"HEL",variations:["Hela","HEL"]},{name:"Jiwaka",abbr:"JWK",variations:["Jiwaka","JWK"]},{name:"Madang",abbr:"MPL",variations:["Madang","MPL"]},{name:"Manus",abbr:"MRL",variations:["Manus","MRL"]},{name:"Milne Bay",abbr:"MBA",variations:["Milne Bay","MBA"]},{name:"Morobe",abbr:"MPR",variations:["Morobe","MPR"]},{name:"National Capital District",abbr:"NCD",variations:["National Capital District","NCD","Port Moresby","POM"]},{name:"New Ireland",abbr:"NIK",variations:["New Ireland","NIK"]},{name:"Northern (Oro)",abbr:"NPP",variations:["Northern","Oro","NPP","ORO"]},{name:"Southern Highlands",abbr:"SHP",variations:["Southern Highlands","SHP","S. Highlands"]},{name:"West New Britain",abbr:"WNB",variations:["West New Britain","WNB","W.N. Britain"]},{name:"West Sepik (Sandaun)",abbr:"SAN",variations:["West Sepik","Sandaun","SAN","WSP"]},{name:"Western (Fly)",abbr:"WPD",variations:["Western","Fly","WPD"]},{name:"Western Highlands",abbr:"WHP",variations:["Western Highlands","WHP","W. Highlands"]},{name:"Autonomous Region of Bougainville",abbr:"NSB",variations:["Bougainville","ARB","AROB","NSB"]}];function $r({filters:t,setFilters:r,onSearch:o,onClear:c}){const{t:s}=Ne(),[d,m]=a.useState([]),[i,g]=a.useState({category:!0,country:!0,location:!0,province:!0,jobType:!0,experience:!1,salary:!1,date:!1,companySize:!1,other:!1});a.useEffect(()=>{fetch("/api/stats/categories").then(p=>p.json()).then(p=>m((p.data||[]).filter(I=>I.job_count>0))).catch(()=>{})},[]);const _=[{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"contract",label:"Contract"},{value:"casual",label:"Casual"},{value:"internship",label:"Internship"}],A=["Entry Level","Mid Level","Senior","Executive"],S=["Port Moresby","Lae","Mount Hagen","Goroka","Madang","Wewak","Kokopo","Kimbe","Alotau","Popondetta","Kundiawa","Mendi","National Capital District","Morobe","Eastern Highlands","Western Highlands","East New Britain","Milne Bay","West New Britain","Simbu"],E=[{label:"Last 24 hours",value:"1"},{label:"Last 7 days",value:"7"},{label:"Last 30 days",value:"30"}],R=Object.entries(t).filter(([p,I])=>p==="keyword"?!1:p==="job_type"&&typeof I=="string"?I.split(",").filter(Boolean).length>0:I&&I!=="").length,F=p=>{g(I=>({...I,[p]:!I[p]}))},C=p=>{const I=t.job_type?t.job_type.split(",").filter(Boolean):[],J=I.indexOf(p);J>-1?I.splice(J,1):I.push(p),r({...t,job_type:I.join(",")})},U=p=>(t.job_type?t.job_type.split(","):[]).includes(p),f=({title:p,section:I,children:J})=>e.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 last:border-0",children:[e.jsxs("button",{onClick:()=>F(I),className:"w-full flex items-center justify-between py-3 text-sm font-semibold text-gray-900 dark:text-gray-100 hover:text-primary-600 transition-colors",children:[e.jsx("span",{children:p}),i[I]?e.jsx(ea,{className:"w-4 h-4"}):e.jsx(Dt,{className:"w-4 h-4"})]}),i[I]&&e.jsx("div",{className:"pb-4",children:J})]});return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Filters",R>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-primary-100 text-primary-700 text-xs rounded-full font-semibold",children:R})]}),c&&R>0&&e.jsx("button",{onClick:c,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Clear all"})]})}),e.jsxs("div",{className:"p-6 space-y-0",children:[e.jsx(f,{title:"ðŸ“‚ Category",section:"category",children:e.jsxs("select",{value:t.category||"",onChange:p=>r({...t,category:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Categories"}),d.map(p=>e.jsxs("option",{value:p.slug,children:[p.name," (",p.job_count,")"]},p.slug))]})}),e.jsx(f,{title:"ðŸŒ Country / Region",section:"country",children:e.jsxs("select",{value:t.country||"",onChange:p=>r({...t,country:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Countries"}),e.jsx("option",{value:"Papua New Guinea",children:"ðŸ‡µðŸ‡¬ Papua New Guinea"}),e.jsx("option",{value:"Fiji",children:"ðŸ‡«ðŸ‡¯ Fiji"}),e.jsx("option",{value:"Solomon Islands",children:"ðŸ‡¸ðŸ‡§ Solomon Islands"}),e.jsx("option",{value:"Vanuatu",children:"ðŸ‡»ðŸ‡º Vanuatu"}),e.jsx("option",{value:"Samoa",children:"ðŸ‡¼ðŸ‡¸ Samoa"}),e.jsx("option",{value:"Tonga",children:"ðŸ‡¹ðŸ‡´ Tonga"}),e.jsx("option",{value:"remote",children:"ðŸŒ Remote"})]})}),e.jsx(f,{title:"ðŸ—ºï¸ Province",section:"province",children:e.jsxs("select",{value:t.province||"",onChange:p=>r({...t,province:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:s("search.allProvinces")}),Ar.map(p=>e.jsxs("option",{value:p.name,children:[p.name," (",p.abbr,")"]},p.abbr))]})}),e.jsxs(f,{title:"ðŸ“ City/Town",section:"location",children:[e.jsxs("select",{value:t.location||"",onChange:p=>r({...t,location:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 mb-3",children:[e.jsx("option",{value:"",children:"All Cities"}),S.map(p=>e.jsx("option",{value:p,children:p},p))]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:t.remote==="true",onChange:p=>r({...t,remote:p.target.checked?"true":""}),className:"text-primary-600 focus:ring-primary-500 rounded"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium",children:"ðŸŒ Remote only"})]})]}),e.jsx(f,{title:"ðŸ’¼ Job Type",section:"jobType",children:e.jsx("div",{className:"space-y-2",children:_.map(p=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:U(p.value),onChange:()=>C(p.value),className:"text-primary-600 focus:ring-primary-500 rounded"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:p.label})]},p.value))})}),e.jsx(f,{title:"ðŸ“ˆ Experience Level",section:"experience",children:e.jsxs("select",{value:t.experience||"",onChange:p=>r({...t,experience:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Levels"}),A.map(p=>e.jsx("option",{value:p,children:p},p))]})}),e.jsx(f,{title:"ðŸ’° Salary Range (PGK)",section:"salary",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Minimum"}),e.jsx("input",{type:"number",value:t.salary_min||"",onChange:p=>r({...t,salary_min:p.target.value}),placeholder:"e.g. 30000",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Maximum"}),e.jsx("input",{type:"number",value:t.salary_max||"",onChange:p=>r({...t,salary_max:p.target.value}),placeholder:"e.g. 100000",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})}),e.jsx(f,{title:"ðŸ•’ Date Posted",section:"date",children:e.jsxs("select",{value:t.date_posted||"",onChange:p=>r({...t,date_posted:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Any time"}),E.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))]})}),e.jsx(f,{title:"ðŸ¢ Company Size",section:"companySize",children:e.jsxs("select",{value:t.company_size||"",onChange:p=>r({...t,company_size:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Sizes"}),e.jsx("option",{value:"startup",children:"Startup (1-10)"}),e.jsx("option",{value:"small",children:"Small (11-50)"}),e.jsx("option",{value:"medium",children:"Medium (51-200)"}),e.jsx("option",{value:"large",children:"Large (201-1000)"}),e.jsx("option",{value:"enterprise",children:"Enterprise (1000+)"})]})}),e.jsx(f,{title:"ðŸ”¤ Company Name",section:"other",children:e.jsx("input",{type:"text",value:t.company||"",onChange:p=>r({...t,company:p.target.value}),placeholder:"Company name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})})]}),e.jsx("div",{className:"p-6 pt-0",children:e.jsx("button",{onClick:o,className:"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold shadow-sm",children:"Apply Filters"})})]})}function Lr(){const{user:t}=ge(),[r,o]=lt(),[c,s]=a.useState([]),[d,m]=a.useState(!0),[i,g]=a.useState({keyword:r.get("keyword")||r.get("q")||"",location:r.get("location")||"",category:r.get("category")||"",job_type:r.get("job_type")||"",experience:r.get("experience")||"",industry:r.get("industry")||"",salary_min:r.get("salary_min")||"",salary_max:r.get("salary_max")||"",date_posted:r.get("date_posted")||"",remote:r.get("remote")||"",country:r.get("country")||"",company:r.get("company")||"",company_size:r.get("company_size")||""}),[_,A]=a.useState("relevance"),[S,E]=a.useState({page:1,totalPages:1,total:0}),[R,F]=a.useState([]),[C,U]=a.useState(!1),[f,p]=a.useState(!1),[I,J]=a.useState(!1),H=a.useRef(null),[V,Y]=a.useState(!1),[B,X]=a.useState(""),[te,ne]=a.useState(!0),[K,D]=a.useState(!1);a.useEffect(()=>{n()},[]),a.useEffect(()=>{const u=L=>{H.current&&!H.current.contains(L.target)&&U(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const n=async(u=1,L=i,z=_)=>{m(!0);try{const G={...L,page:u,limit:20};z==="date"?(G.sort="created_at",G.order="desc"):z==="salary"&&(G.sort="salary_max",G.order="desc"),Object.keys(G).forEach(ce=>{G[ce]||delete G[ce]});const Z=await Oe.getAll(G);s(Z.data),E({page:Z.page,totalPages:Z.totalPages,total:Z.total})}catch(G){console.error("Search failed:",G)}finally{m(!1)}},$=async u=>{if(!u||u.length<2){F([]);return}try{const z=await(await fetch(`/api/jobs/suggestions?q=${encodeURIComponent(u)}&type=keyword`)).json();F(z.data||[]),U(!0)}catch(L){console.error("Suggestions failed:",L),F([])}},O=u=>{g({...i,keyword:u}),$(u)},se=u=>{g({...i,keyword:u}),U(!1),F([])},ee=u=>{n(u),window.scrollTo({top:0,behavior:"smooth"})},ie=async()=>{if(!(S.page>=S.totalPages||I)){J(!0);try{const u=S.page+1,L={...i,page:u,limit:20};_==="date"?(L.sort="created_at",L.order="desc"):_==="salary"&&(L.sort="salary_max",L.order="desc"),Object.keys(L).forEach(G=>{L[G]||delete L[G]});const z=await Oe.getAll(L);s(G=>[...G,...z.data]),E({page:z.page,totalPages:z.totalPages,total:z.total})}catch(u){console.error("Load more failed:",u)}finally{J(!1)}}},P=u=>{A(u),n(1,i,u)},w=()=>{const u=new URLSearchParams;Object.entries(i).forEach(([L,z])=>{z&&u.set(L,z)}),o(u),n(1)},W=()=>{const u={keyword:"",location:"",category:"",job_type:"",experience:"",industry:"",salary_min:"",salary_max:"",date_posted:"",remote:"",country:"",company:"",company_size:""};g(u),o(new URLSearchParams),n(1,u)},ae=u=>{let L={...i};u==="hot"?L.date_posted="1":u==="new"?L.date_posted="7":u==="remote"&&(L.remote=L.remote==="true"?"":"true"),g(L),n(1,L)},le=Object.values(i).some(u=>u),T=async()=>{if(B.trim()){D(!0);try{await Ga.create({name:B.trim(),query:i.keyword||"",category:i.category||"",location:i.location||"",experience_level:i.experience||"",salary_min:i.salary_min?Number(i.salary_min):null,salary_max:i.salary_max?Number(i.salary_max):null,notify:te}),Y(!1),X(""),alert("Search saved! View it in your dashboard.")}catch(u){alert(u.message||"Failed to save search")}finally{D(!1)}}},M=u=>{const L={...i,[u]:""};g(L),n(1,L)};return e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 min-h-screen",children:[e.jsx(we,{title:i.keyword?`${i.keyword} Jobs - Pacific Islands`:"Search Jobs in Papua New Guinea & the Pacific",description:`Browse ${S.total||""}+ job opportunities across Papua New Guinea, Fiji, and the Pacific Islands. Filter by country, category, location, salary, and more.`}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Find Your Next Opportunity"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover jobs across Papua New Guinea and the Pacific"})]}),e.jsx("div",{className:"mb-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",ref:H,children:[e.jsx("input",{type:"text",value:i.keyword||"",onChange:u=>O(u.target.value),onKeyDown:u=>u.key==="Enter"&&w(),onFocus:()=>R.length>0&&U(!0),placeholder:"ðŸ” Search by job title, keyword, or company...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-label":"Search by job title, keyword, or company",role:"combobox","aria-expanded":C&&R.length>0,"aria-autocomplete":"list"}),C&&R.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 max-h-64 overflow-y-auto",children:R.map((u,L)=>e.jsxs("button",{onClick:()=>se(u),className:"w-full px-4 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 last:border-0",children:["ðŸ” ",u]},L))})]}),e.jsx("button",{onClick:w,className:"px-8 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"Search"})]})}),e.jsxs("div",{className:"mb-6 flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>ae("hot"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${i.date_posted==="1"?"bg-red-100 text-red-700 border-2 border-red-300":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:border-red-300 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:[e.jsx(ta,{className:"w-4 h-4"}),"Hot Jobs"]}),e.jsxs("button",{onClick:()=>ae("new"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${i.date_posted==="7"?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:border-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20"}`,children:[e.jsx(sa,{className:"w-4 h-4"}),"New This Week"]}),e.jsxs("button",{onClick:()=>ae("remote"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-medium transition-all ${i.remote==="true"?"bg-green-100 text-green-700 border-2 border-green-300":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:border-green-300 hover:bg-green-50 dark:hover:bg-green-900/20"}`,children:[e.jsx(it,{className:"w-4 h-4"}),"Remote Only"]})]}),e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs("button",{onClick:()=>p(!f),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors min-h-[48px]",children:[e.jsx(aa,{className:"w-5 h-5"}),f?"Hide Filters":"Show Filters",Object.values(i).filter(u=>u).length>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full text-xs font-bold",children:Object.values(i).filter(u=>u).length})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:`lg:w-72 flex-shrink-0 ${f?"block":"hidden lg:block"}`,children:e.jsx("div",{className:"lg:sticky lg:top-6",children:e.jsx($r,{filters:i,setFilters:g,onSearch:()=>{w(),p(!1)},onClear:()=>{W(),p(!1)}})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 mb-6 border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx("div",{className:"text-gray-700",children:d?e.jsx("span",{children:"Searching..."}):e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-gray-900",children:S.total})," jobs found",i.keyword&&e.jsxs("span",{className:"text-gray-600",children:[' for "',i.keyword,'"']})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"sort-select",className:"text-sm text-gray-600",children:"Sort by:"}),e.jsxs("select",{id:"sort-select",value:_,onChange:u=>P(u.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"date",children:"Date Posted"}),e.jsx("option",{value:"salary",children:"Salary"})]})]})]}),t&&le&&e.jsx("div",{className:"mt-3",children:e.jsxs("button",{onClick:()=>Y(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-primary-700 bg-primary-50 rounded-lg hover:bg-primary-100 border border-primary-200 transition-colors",children:[e.jsx(ra,{className:"w-4 h-4"}),"Save this search"]})}),Object.entries(i).some(([u,L])=>u!=="keyword"&&L)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),i.location&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ“ ",i.location,e.jsx("button",{onClick:()=>M("location"),className:"ml-1 hover:text-primary-900","aria-label":`Remove location filter: ${i.location}`,children:"Ã—"})]}),i.category&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ“‚ ",i.category,e.jsx("button",{onClick:()=>M("category"),className:"ml-1 hover:text-primary-900","aria-label":`Remove category filter: ${i.category}`,children:"Ã—"})]}),i.job_type&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ’¼ ",i.job_type.split(",").join(", "),e.jsx("button",{onClick:()=>M("job_type"),className:"ml-1 hover:text-primary-900","aria-label":"Remove job type filter",children:"Ã—"})]}),i.experience&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ“ˆ ",i.experience,e.jsx("button",{onClick:()=>M("experience"),className:"ml-1 hover:text-primary-900","aria-label":"Remove experience filter",children:"Ã—"})]}),i.company&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ¢ ",i.company,e.jsx("button",{onClick:()=>M("company"),className:"ml-1 hover:text-primary-900","aria-label":"Remove company filter",children:"Ã—"})]}),i.company_size&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ¢ ",i.company_size.charAt(0).toUpperCase()+i.company_size.slice(1)," company",e.jsx("button",{onClick:()=>M("company_size"),className:"ml-1 hover:text-primary-900","aria-label":"Remove company size filter",children:"Ã—"})]}),(i.salary_min||i.salary_max)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ’° ",i.salary_min&&`Min ${i.salary_min}`,i.salary_min&&i.salary_max&&" - ",i.salary_max&&`Max ${i.salary_max}`,e.jsx("button",{onClick:()=>{const u={...i,salary_min:"",salary_max:""};g(u),n(1,u)},className:"ml-1 hover:text-primary-900",children:"Ã—"})]}),i.date_posted&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸ•’ Last ",i.date_posted==="1"?"24h":i.date_posted==="7"?"7 days":"30 days",e.jsx("button",{onClick:()=>M("date_posted"),className:"ml-1 hover:text-primary-900",children:"Ã—"})]}),i.country&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸŒ ",i.country,e.jsx("button",{onClick:()=>M("country"),className:"ml-1 hover:text-primary-900","aria-label":"Remove country filter",children:"Ã—"})]}),i.remote==="true"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm border border-primary-200",children:["ðŸŒ Remote",e.jsx("button",{onClick:()=>M("remote"),className:"ml-1 hover:text-primary-900",children:"Ã—"})]}),e.jsx("button",{onClick:W,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Clear all"})]})})]}),d?e.jsx(vr,{}):c.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-12 text-center border border-gray-100 dark:border-gray-700",role:"status","aria-label":"No results found",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(pe,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"No jobs match your search"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:i.keyword?`We couldn't find jobs matching "${i.keyword}". Try different keywords or broader filters.`:"Try adjusting your filters or broadening your search criteria."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:W,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium","aria-label":"Clear all search filters",children:"Clear All Filters"}),e.jsxs("a",{href:"/dashboard",className:"px-6 py-2 bg-white text-primary-600 border border-primary-200 rounded-lg hover:bg-primary-50 font-medium inline-flex items-center justify-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),"Create Job Alert"]})]}),i.keyword&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Popular searches:"}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:["Mining","IT","Nursing","Accounting","Teaching","Engineering"].map(u=>e.jsx("button",{onClick:()=>{g({...i,keyword:u}),n(1,{...i,keyword:u})},className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm hover:bg-primary-50 hover:text-primary-600 transition",children:u},u))})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4 mb-8",children:c.map(u=>e.jsx(be,{job:u},u.id))}),S.totalPages>1&&S.page<S.totalPages&&e.jsx("div",{className:"lg:hidden mb-4",children:e.jsx("button",{onClick:ie,disabled:I,className:"w-full px-6 py-4 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors min-h-[48px] flex items-center justify-center gap-2",children:I?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Loading..."]}):`Load More Jobs (${S.total-c.length} remaining)`})}),S.totalPages>1&&e.jsx("div",{className:"hidden lg:block bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",S.page," of ",S.totalPages]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ee(S.page-1),disabled:S.page===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors font-medium",children:"â† Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const{page:u,totalPages:L}=S,G=[...new Set([1,L,u-1,u,u+1])].filter(oe=>oe>=1&&oe<=L).sort((oe,fe)=>oe-fe),Z=[];let ce=0;for(const oe of G)oe-ce>1&&Z.push(e.jsx("span",{className:"px-2 py-2 text-gray-400",children:"â€¦"},`e${oe}`)),Z.push(e.jsx("button",{onClick:()=>ee(oe),className:`px-4 py-2 border rounded-lg transition-colors font-medium ${u===oe?"bg-primary-600 text-white border-primary-600":"border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:oe},oe)),ce=oe;return Z})()}),e.jsx("button",{onClick:()=>ee(S.page+1),disabled:S.page===S.totalPages,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors font-medium",children:"Next â†’"})]})]})})]})]})]})]}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-50 flex items-center justify-center p-4",onClick:()=>Y(!1),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full p-6",onClick:u=>u.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Save This Search"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search Name"}),e.jsx("input",{type:"text",value:B,onChange:u=>X(u.target.value),placeholder:"e.g. Engineering jobs in Port Moresby",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",autoFocus:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Search criteria:"}),i.keyword&&e.jsxs("p",{children:["Keywords: ",i.keyword]}),i.category&&e.jsxs("p",{children:["Category: ",i.category]}),i.location&&e.jsxs("p",{children:["Location: ",i.location]}),i.experience&&e.jsxs("p",{children:["Experience: ",i.experience]}),i.salary_min&&e.jsxs("p",{children:["Min salary: K",Number(i.salary_min).toLocaleString()]}),i.salary_max&&e.jsxs("p",{children:["Max salary: K",Number(i.salary_max).toLocaleString()]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:te,onChange:u=>ne(u.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Notify me when new matching jobs are posted"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:T,disabled:!B.trim()||K,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:K?"Saving...":"Save Search"})]})]})})]})}function Or(){var ut;const{id:t}=pa(),r=ye(),{user:o}=ge(),{showToast:c}=Kt(),[s,d]=a.useState(null),[m,i]=a.useState(!0),[g,_]=a.useState(!1),[A,S]=a.useState(""),[E,R]=a.useState(!1),[F,C]=a.useState(1),[U,f]=a.useState(!1),[p,I]=a.useState([]),[J,H]=a.useState({}),[V,Y]=a.useState([]),[B,X]=a.useState({name:"",email:"",phone:"",location:""}),[te,ne]=a.useState(""),[K,D]=a.useState(!1),[n,$]=a.useState([]),[O,se]=a.useState(null),[ee,ie]=a.useState({rating:0,count:0}),[P,w]=a.useState([]),[W,ae]=a.useState([]),[le,T]=a.useState(!1),[M,u]=a.useState(""),[L,z]=a.useState(""),[G,Z]=a.useState("similar"),[ce,oe]=a.useState(!1),[fe,ke]=a.useState(!1),[re,Ie]=a.useState({name:"",email:"",phone:"",cover_letter:""}),[ct,Qt]=a.useState(null),[Be,Zt]=a.useState(!1),[dt,mt]=a.useState(!1),[Ge,Xt]=a.useState(!1);a.useEffect(()=>{ts()},[t]),a.useEffect(()=>{s&&(ss(),as(),rs(),os(),o&&ns())},[s,o]);const es=l=>l&&{"full-time":"FULL_TIME",full_time:"FULL_TIME",fulltime:"FULL_TIME","part-time":"PART_TIME",part_time:"PART_TIME",parttime:"PART_TIME",contract:"CONTRACTOR",contractor:"CONTRACTOR",temporary:"TEMPORARY",temp:"TEMPORARY",intern:"INTERN",internship:"INTERN",volunteer:"VOLUNTEER",casual:"OTHER"}[l.toLowerCase()]||"FULL_TIME";a.useEffect(()=>{if(!s)return;const l={"@context":"https://schema.org/","@type":"JobPosting",title:s.title,description:s.description||s.excerpt||"",identifier:{"@type":"PropertyValue",name:"WantokJobs",value:String(s.id)},datePosted:s.created_at,validThrough:s.expires_at||s.application_deadline||new Date(Date.now()+30*24*60*60*1e3).toISOString(),employmentType:es(s.job_type),hiringOrganization:{"@type":"Organization",name:s.company_name||"Confidential",...s.logo_url&&{logo:s.logo_url},...s.website&&{sameAs:s.website}},jobLocation:{"@type":"Place",address:{"@type":"PostalAddress",addressLocality:s.location||"Papua New Guinea",addressCountry:s.country||"PG"}},directApply:!0};(s.salary_min||s.salary_max)&&(l.baseSalary={"@type":"MonetaryAmount",currency:s.salary_currency||s.currency||"PGK",value:{"@type":"QuantitativeValue",...s.salary_min&&{minValue:s.salary_min},...s.salary_max&&{maxValue:s.salary_max},...s.salary_min&&!s.salary_max&&{value:s.salary_min},unitText:s.salary_period==="monthly"?"MONTH":s.salary_period==="hourly"?"HOUR":"YEAR"}}),s.industry&&(l.industry=s.industry),s.experience_level&&(l.experienceRequirements=s.experience_level);const v=document.createElement("script");return v.type="application/ld+json",v.text=JSON.stringify(l),v.id="job-structured-data",document.head.appendChild(v),()=>{const Q=document.getElementById("job-structured-data");Q&&Q.remove()}},[s]);const ts=async()=>{try{const l=await Oe.getById(t);d(l),o&&D(!1),i(!1)}catch(l){console.error("Failed to load job:",l),i(!1)}},ss=async()=>{try{const l=await fetch(`/api/jobs/${t}/similar?limit=8`);if(l.ok){const v=await l.json();$(v.data||[])}}catch(l){console.error("Failed to load similar jobs:",l)}},as=async()=>{if(s.employer_id)try{const l=await fetch(`/api/companies/${s.employer_id}`);if(l.ok){const v=await l.json();se(v.company)}}catch(l){console.error("Failed to load company info:",l)}},rs=async()=>{if(s.employer_id)try{const l=await fetch(`/api/reviews/company/${s.employer_id}/summary`);if(l.ok){const v=await l.json();ie(v)}}catch(l){console.error("Failed to load company reviews:",l)}},os=async()=>{if(s.employer_id)try{const l=await Oe.getAll({employer_id:s.employer_id,limit:5});ae(l.data.filter(v=>v.id!==s.id).slice(0,4))}catch(l){console.error("Failed to load jobs by company:",l)}},ns=async()=>{if(!(!o||o.role!=="jobseeker"))try{const l=await fetch(`/api/jobs/${t}/skills-match`);if(l.ok){const v=await l.json();w(v)}}catch(l){console.error("Failed to load skills match:",l)}},is=async()=>{if(!o||o.role!=="jobseeker")return[];try{const l=await fetch("/api/profile");if(!l.ok)return["profile"];const v=await l.json(),Q=[];return!v.phone&&!v.profile_phone&&Q.push("phone"),!v.location&&!v.profile_location&&Q.push("location"),!v.cv_url&&!v.profile_cv_url&&Q.push("resume"),v.headline||Q.push("headline"),(!v.skills||(typeof v.skills=="string"?JSON.parse(v.skills):v.skills).length===0)&&Q.push("skills"),X({name:o.name||"",email:o.email||"",phone:v.phone||v.profile_phone||"",location:v.location||v.profile_location||""}),ne(v.cv_url||v.profile_cv_url||""),Q}catch(l){return console.error("Failed to check profile:",l),["profile"]}},ls=async()=>{if(s.screening_questions)try{const l=typeof s.screening_questions=="string"?JSON.parse(s.screening_questions):s.screening_questions;Y(l||[]);const v={};(l||[]).forEach((Q,de)=>{v[de]=""}),H(v)}catch(l){console.error("Failed to load screening questions:",l),Y([])}},Je=async()=>{if(!o){r("/login");return}if(s.application_method==="external"&&s.application_url){window.open(s.application_url,"_blank"),c("Opening external application page...","info");return}if(s.application_method==="email"&&s.application_email){window.location.href=`mailto:${s.application_email}?subject=Application for ${s.title}`,c("Opening email client...","info");return}const l=await is();I(l),await ls();const v=`application-draft-${t}`,Q=localStorage.getItem(v);if(Q)try{const de=JSON.parse(Q);S(de.coverLetter||""),H(de.screeningAnswers||{})}catch{}l.length>0?C(1):C(2),R(!0)},pt=()=>{const l=`application-draft-${t}`;localStorage.setItem(l,JSON.stringify({coverLetter:A,screeningAnswers:J,timestamp:Date.now()}))},ht=()=>{if(pt(),F===2&&(!B.phone||!B.location)){c("Please fill in all required contact information","error");return}if(F===3&&V.length>0&&V.find((v,Q)=>!J[Q]||J[Q].trim()==="")){c("Please answer all screening questions","error");return}F===2&&V.length===0?C(4):C(l=>l+1)},cs=()=>{pt(),F===4&&V.length===0?C(2):C(l=>l-1)},ds=async l=>{l.preventDefault(),_(!0);try{const v={job_id:parseInt(t),cover_letter:A,cv_url:te,phone:B.phone,location:B.location};V.length>0&&(v.screening_answers=Object.keys(J).map(de=>({question:V[parseInt(de)],answer:J[de]}))),await Ba.create(v);const Q=`application-draft-${t}`;localStorage.removeItem(Q),f(!0);try{await fetch("/api/activity/track-apply",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:parseInt(t)})})}catch{}}catch(v){c(v.message||"Failed to submit application","error")}finally{_(!1)}},He=()=>{R(!1),f(!1),C(1),S(""),H({}),I([])},xt=async()=>{if(!o){r("/login");return}try{K?(await Ct.unsave(t),D(!1),c("Job removed from saved","success")):(await Ct.save(t),D(!0),c("Job saved!","success"))}catch(l){c(l.message||"Failed to save job","error")}},ms=async()=>{const l={title:`${s.title} at ${s.company_name}`,text:`Check out this job opportunity: ${s.title} at ${s.company_name}`,url:window.location.href};if(navigator.share)try{await navigator.share(l),c("Shared successfully!","success")}catch(v){v.name!=="AbortError"&&console.error("Share failed:",v)}else gt()},ps=()=>{const l=encodeURIComponent(`Check out this job: ${s.title} at ${s.company_name} - ${window.location.href}`);window.open(`https://wa.me/?text=${l}`,"_blank")},hs=()=>{const l=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${l}`,"_blank","width=600,height=400")},xs=()=>{const l=encodeURIComponent(window.location.href);window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${l}`,"_blank","width=600,height=400")},gs=()=>{const l=encodeURIComponent(`Job: ${s.title}`),v=encodeURIComponent(`Check out this job at ${s.company_name}: ${window.location.href}`);window.location.href=`mailto:?subject=${l}&body=${v}`},gt=async()=>{const l=window.location.href;try{await sr(l),oe(!0),c("Link copied to clipboard!","success"),setTimeout(()=>oe(!1),3e3)}catch{c("Failed to copy link","error")}},us=async l=>{if(l.preventDefault(),!M){c("Please select a reason","error");return}try{if((await fetch("/api/jobs/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:parseInt(t),reason:M,details:L||null})})).ok)c("Report submitted. Thank you for helping keep WantokJobs safe.","success"),T(!1),u(""),z("");else throw new Error("Failed to submit report")}catch(v){c(v.message||"Failed to submit report","error")}},ys=async l=>{if(l.preventDefault(),!Be){c("Please agree to the terms to continue","error");return}if(!re.name||!re.email||!re.phone){c("Please fill in all required fields","error");return}mt(!0);try{const v=new FormData;v.append("job_id",t),v.append("name",re.name),v.append("email",re.email),v.append("phone",re.phone),re.cover_letter&&v.append("cover_letter",re.cover_letter),ct&&v.append("resume",ct);const Q=await fetch("/api/applications/quick-apply",{method:"POST",body:v}),de=await Q.json();if(!Q.ok)throw new Error(de.error||"Failed to submit application");Xt(!0),c("Application submitted successfully!","success")}catch(v){c(v.message||"Failed to submit application","error")}finally{mt(!1)}};if(m)return e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[e.jsx(we,{title:"Loading job...",description:"Loading job details on WantokJobs"}),e.jsx(wr,{})]});if(!s)return e.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[e.jsx(we,{title:"Job Not Found â€” WantokJobs",description:"This job listing could not be found."}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(pe,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Job Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"This job may have been filled, removed, or the link might be incorrect."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(k,{to:"/jobs",className:"px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"Browse All Jobs"}),e.jsx(k,{to:"/",className:"px-6 py-3 bg-white text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:"Go Home"})]})]})]});let De=[];try{De=s.requirements?JSON.parse(s.requirements):[]}catch(l){console.error("Failed to parse requirements:",l),De=[]}const bs=er(s.description);return e.jsxs("div",{className:"bg-gray-50 min-h-screen pb-20 lg:pb-0",children:[e.jsx("div",{className:"lg:hidden fixed bottom-16 left-0 right-0 z-30 bg-white border-t border-gray-200 p-3 shadow-lg safe-area-bottom",children:e.jsxs("div",{className:"flex gap-2",children:[(o==null?void 0:o.role)==="jobseeker"&&e.jsx("button",{onClick:Je,className:"flex-1 px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors min-h-[48px]",children:"Apply Now"}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(k,{to:"/login",className:"flex-1 text-center px-4 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors min-h-[48px]",children:"Login to Apply"}),e.jsx("button",{onClick:()=>ke(!fe),className:"px-4 py-3 bg-white border-2 border-primary-600 text-primary-600 font-semibold rounded-lg hover:bg-primary-50 transition-colors min-h-[48px] text-sm",children:"âš¡ Quick"})]}),o&&e.jsx("button",{onClick:xt,className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors min-h-[48px]",children:K?"â¤ï¸":"ðŸ¤"})]})}),s&&e.jsx(we,{title:`${s.title}${s.company_name?` at ${s.company_name}`:""} â€” ${s.location||"PNG"}`,description:`Apply for ${s.title}${s.company_name?` at ${s.company_name}`:""} in ${s.location||"Papua New Guinea"}. ${s.job_type||"Full-time"}${s.salary_min?` â€¢ ${s.salary_currency||"PGK"} ${s.salary_min.toLocaleString()}${s.salary_max?`-${s.salary_max.toLocaleString()}`:""}`:""}`,type:"article",image:s.logo_url}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx(k,{to:"/jobs",className:"text-primary-600 hover:text-primary-700 mb-4 inline-flex items-center gap-1 font-medium",children:"â† Back to jobs"}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.logo_url&&e.jsx(qt,{src:s.logo_url,alt:s.company_name,width:64,height:64,className:"w-16 h-16 rounded-lg object-cover border-2 border-gray-100",eager:!0}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[s.title,s.is_featured&&(!s.featured_until||new Date(s.featured_until)>new Date)?e.jsx("span",{className:"ml-3 inline-flex items-center px-3 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white text-sm font-semibold rounded-full shadow-sm",children:"â­ Featured"}):null]}),s.company_name&&s.company_name!=="Various Employers"&&e.jsxs("p",{className:"text-lg text-gray-700 font-medium flex items-center gap-2",children:[s.company_name,(s.employer_verified||s.company_verified)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full",children:[e.jsx(me,{className:"w-3 h-3"}),"Verified"]})]}),(()=>{const l=Ae(s.source);return l?e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full",children:l.label})}):null})()]})})})]}),s.applications_count>0||s.views_count>0?e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 pb-4 border-b border-gray-100",children:[s.applications_count>0?e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ve,{className:"w-4 h-4 text-primary-600"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.applications_count," ",s.applications_count===1?"applicant":"applicants"]})]}):null,s.views_count>0?e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Re,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:[s.views_count," views"]})]}):null,ee.count>0?e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Ce,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsxs("span",{className:"text-sm font-medium",children:[ee.rating.toFixed(1)," (",ee.count," reviews)"]})]}):null]}):null,e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 pb-6 border-b border-gray-100",children:[s.location&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"ðŸ“"}),e.jsxs("span",{className:"font-medium",children:[s.location,", ",s.country]})]}),s.job_type&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’¼"}),e.jsx("span",{className:"font-medium capitalize",children:s.job_type})]}),s.salary_min&&s.salary_max&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"ðŸ’°"}),e.jsxs("span",{className:"font-medium",children:[s.salary_currency||"PGK"," ",s.salary_min.toLocaleString()," - ",s.salary_max.toLocaleString()]})]}),s.company_size&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"ðŸ¢"}),e.jsxs("span",{className:"font-medium",children:[s.company_size," employees"]})]}),s.created_at&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"ðŸ•’"}),e.jsxs("span",{className:"font-medium",children:["Posted ",Ht(s.created_at)]})]}),s.application_deadline&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"â°"}),e.jsxs("span",{className:"font-medium",children:["Closes ",new Date(s.application_deadline).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"lg:hidden",children:[(o==null?void 0:o.role)==="jobseeker"&&e.jsx("button",{onClick:Je,className:"w-full px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"Apply Now"}),!o&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{to:"/login",className:"block w-full text-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"Login to Apply"}),e.jsx("button",{onClick:()=>ke(!fe),className:"w-full text-center px-6 py-3 bg-white border-2 border-primary-600 text-primary-600 font-semibold rounded-lg hover:bg-primary-50 transition-colors",children:"âš¡ Quick Apply (no account needed)"})]})]})]}),!o&&fe&&!Ge&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border-2 border-primary-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:"âš¡ Quick Apply"}),e.jsx("button",{onClick:()=>ke(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(xe,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Apply without creating an account. Fill in your details below."}),e.jsxs("form",{onSubmit:ys,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:re.name,onChange:l=>Ie({...re,name:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-base",placeholder:"Your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:re.email,onChange:l=>Ie({...re,email:l.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-base",placeholder:"your@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",value:re.phone,onChange:l=>Ie({...re,phone:l.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-base",placeholder:"+675 ...",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CV/Resume (optional)"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:l=>Qt(l.target.files[0]||null),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-base file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, or DOCX (max 10MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cover Letter (optional)"}),e.jsx("textarea",{value:re.cover_letter,onChange:l=>{l.target.value.length<=500&&Ie({...re,cover_letter:l.target.value})},rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-base",placeholder:"Tell the employer why you're a great fit..."}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[re.cover_letter.length,"/500"]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Be,onChange:l=>Zt(l.target.checked),className:"mt-1 w-5 h-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["I agree to the ",e.jsx(k,{to:"/terms",className:"text-primary-600 underline",children:"Terms of Service"})," and consent to my information being shared with the employer."]})]}),e.jsx("button",{type:"submit",disabled:dt||!Be,className:"w-full px-6 py-4 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-base min-h-[48px] flex items-center justify-center gap-2",children:dt?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-5 h-5"}),"Submit Application"]})})]})]}),!o&&Ge&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 border-2 border-green-200 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(me,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Application Submitted!"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Your application for ",e.jsx("span",{className:"font-semibold",children:s.title})," has been sent to ",s.company_name,"."]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["A confirmation email has been sent to ",e.jsx("span",{className:"font-semibold",children:re.email}),"."]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"ðŸ’¡ Create an account to track your application status and get notified of updates."})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(k,{to:"/register",className:"px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"Create Account to Track Application"}),e.jsx(k,{to:"/jobs",className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Browse More Jobs"})]})]}),P.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-blue-600"}),"How you match"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Skills match"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[P.filter(l=>l.matched).length,"/",P.length]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((l,v)=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${l.matched?"bg-green-100 text-green-800 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[l.matched&&"âœ“ ",l.name]},v))}),P.filter(l=>!l.matched).length>0&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"ðŸ’¡ Add missing skills to your profile to increase your match score"})]})]}),(s.salary_min||s.experience_level||s.job_type)&&e.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-green-50 rounded-xl p-6 border border-primary-100",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"âœ¨ Job Highlights"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.salary_min&&s.salary_max&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’°"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Competitive Salary"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[s.salary_currency||"PGK"," ",s.salary_min.toLocaleString()," - ",s.salary_max.toLocaleString()]})]})]}),s.job_type&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¼"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Job Type"}),e.jsx("div",{className:"text-sm text-gray-700 capitalize",children:s.job_type})]})]}),s.experience_level&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“ˆ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Experience Level"}),e.jsx("div",{className:"text-sm text-gray-700",children:s.experience_level})]})]}),s.industry&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ¢"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Industry"}),e.jsx("div",{className:"text-sm text-gray-700",children:s.industry})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About the Role"}),bs?e.jsx("div",{className:"prose prose-sm max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:tr(s.description)}}):e.jsx("div",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:s.description})]}),De.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Key Requirements"}),e.jsx("ul",{className:"space-y-3",children:De.map((l,v)=>e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:"text-primary-600 mt-1",children:"âœ“"}),e.jsx("span",{children:l})]},v))})]}),(O||s.company_description||s.website)&&s.company_name!=="Various Employers"&&!((ut=s.company_description)!=null&&ut.includes("System account for imported"))&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["About ",s.company_name]}),!!(O!=null&&O.verified)&&e.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:"âœ“ Verified"})]}),O&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[O.company_size&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Company Size"}),e.jsx("div",{className:"font-semibold text-gray-900",children:O.company_size})]}),O.industry&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Industry"}),e.jsx("div",{className:"font-semibold text-gray-900",children:O.industry})]}),ee.count>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Rating"}),e.jsxs("div",{className:"font-semibold text-gray-900 flex items-center gap-1",children:[e.jsx(Ce,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),ee.rating.toFixed(1)]})]}):null,O.total_jobs_posted>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Jobs Posted"}),e.jsx("div",{className:"font-semibold text-gray-900",children:O.total_jobs_posted})]}):null]}),(s.company_description||(O==null?void 0:O.description))&&e.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:(O==null?void 0:O.description)||s.company_description}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[(s.website||(O==null?void 0:O.website))&&e.jsx("a",{href:(O==null?void 0:O.website)||s.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"ðŸŒ Visit Website"}),W.length>0&&e.jsxs(k,{to:`/jobs?employer_id=${s.employer_id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-100 text-primary-700 rounded-lg hover:bg-primary-200 transition-colors font-medium",children:[e.jsx(pe,{className:"w-4 h-4"}),"See ",W.length,"+ more jobs"]}),ee.count>0?e.jsxs(k,{to:`/company/${s.employer_id}/reviews`,className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors font-medium",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Read ",ee.count," reviews"]}):null]})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 text-sm text-gray-600",children:e.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Job ID:"})," #",s.id]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Views:"})," ",s.views_count||0]})]})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 sticky top-6",children:e.jsxs("div",{className:"space-y-3",children:[(o==null?void 0:o.role)==="jobseeker"&&e.jsx("button",{onClick:Je,className:"w-full px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors shadow-sm",children:"Apply Now"}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(k,{to:"/login",className:"block w-full text-center px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors shadow-sm",children:"Login to Apply"}),e.jsx("button",{onClick:()=>ke(!fe),className:"w-full text-center px-6 py-3 bg-white border-2 border-primary-600 text-primary-600 font-semibold rounded-lg hover:bg-primary-50 transition-colors",children:"âš¡ Quick Apply (no account needed)"})]}),o&&e.jsx("button",{onClick:xt,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:K?"â¤ï¸ Saved":"ðŸ¤ Save Job"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Share this job"}),e.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[e.jsx("button",{onClick:ps,className:"flex items-center justify-center px-3 py-3 bg-[#25D366] text-white rounded-lg hover:bg-[#20BA5A] transition-colors shadow-sm",title:"Share on WhatsApp",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),e.jsx("button",{onClick:hs,className:"flex items-center justify-center px-3 py-3 bg-[#1877F2] text-white rounded-lg hover:bg-[#0C63D4] transition-colors shadow-sm",title:"Share on Facebook",children:e.jsx(oa,{className:"w-5 h-5"})}),e.jsx("button",{onClick:xs,className:"flex items-center justify-center px-3 py-3 bg-[#0A66C2] text-white rounded-lg hover:bg-[#004182] transition-colors shadow-sm",title:"Share on LinkedIn",children:e.jsx(na,{className:"w-5 h-5"})}),e.jsx("button",{onClick:gs,className:"flex items-center justify-center px-3 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors shadow-sm",title:"Share via Email",children:e.jsx(Qe,{className:"w-5 h-5"})}),e.jsx("button",{onClick:gt,className:"flex items-center justify-center px-3 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors shadow-sm",title:"Copy Link",children:ce?e.jsx(ia,{className:"w-5 h-5 text-green-600"}):e.jsx(la,{className:"w-5 h-5"})})]}),navigator.share&&e.jsxs("button",{onClick:ms,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[e.jsx(ca,{className:"w-4 h-4"}),"More sharing options"]})]}),e.jsxs("button",{onClick:()=>T(!0),className:"w-full px-4 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(wt,{className:"w-4 h-4"}),"Report this job"]})]})}),s.location||s.company_name?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Company Snapshot"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[s.company_name?e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 min-w-[24px]",children:"ðŸ¢"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Company"}),s.company_name!=="Various Employers"&&s.employer_id?e.jsx(k,{to:`/companies/${s.employer_id}`,className:"font-medium text-primary-600 hover:text-primary-700 hover:underline",children:s.company_name}):e.jsx("div",{className:"font-medium text-gray-900",children:s.source?"Imported Job":s.company_name})]})]}):null,s.location&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 min-w-[24px]",children:"ðŸ“"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Location"}),e.jsxs("div",{className:"font-medium text-gray-900",children:[s.location,", ",s.country]})]})]}),s.industry&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 min-w-[24px]",children:"ðŸ­"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Industry"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.industry})]})]}),s.website&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-500 min-w-[24px]",children:"ðŸŒ"}),e.jsx("div",{children:e.jsx("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Visit Website â†’"})})]})]})]}):null,(n.length>0||W.length>0)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[W.length>0&&n.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 mb-4 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>Z("similar"),className:`pb-2 px-1 font-semibold text-sm transition-colors ${G==="similar"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-gray-900"}`,children:"Similar Jobs"}),e.jsxs("button",{onClick:()=>Z("company"),className:`pb-2 px-1 font-semibold text-sm transition-colors ${G==="company"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-gray-900"}`,children:["More from ",s.company_name]})]}),e.jsxs("div",{className:"space-y-3",children:[G==="similar"&&n.map(l=>e.jsx(be,{job:l,compact:!0},l.id)),G==="company"&&W.map(l=>e.jsx(be,{job:l,compact:!0},l.id))]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:W.length>0?`More from ${s.company_name}`:"Similar Jobs"}),e.jsx("div",{className:"space-y-3",children:(W.length>0?W:n).map(l=>e.jsx(be,{job:l,compact:!0},l.id))})]}),e.jsx(k,{to:W.length>0&&G==="company"?`/jobs?employer_id=${s.employer_id}`:"/jobs",className:"block text-center mt-4 text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all jobs â†’"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Get Similar Jobs"}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Receive email notifications when similar jobs are posted"}),e.jsx(k,{to:"/job-alerts",className:"block text-center w-full px-4 py-2 bg-white text-primary-600 font-semibold rounded-lg hover:bg-gray-50 transition-colors border border-primary-200",children:"Create Job Alert"})]})]})]})]}),E&&!U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 md:flex md:items-center md:justify-center z-50 md:p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white md:rounded-xl md:max-w-3xl w-full h-full md:h-auto md:max-h-[90vh] md:shadow-2xl md:my-8 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Apply to ",s.company_name]}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.title})]}),e.jsx("button",{onClick:He,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(xe,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"px-6 pt-6",children:e.jsx("div",{className:"flex items-center justify-between mb-2",children:[{step:1,label:"Profile"},{step:2,label:"Contact"},...V.length>0?[{step:3,label:"Questions"}]:[],{step:V.length>0?4:3,label:"Review"}].map((l,v,Q)=>e.jsxs("div",{className:"flex-1 flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${F>=l.step?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"}`,children:F>l.step?e.jsx(me,{className:"w-5 h-5"}):l.step}),e.jsx("span",{className:`text-xs mt-2 font-medium ${F>=l.step?"text-primary-600":"text-gray-500"}`,children:l.label})]}),v<Q.length-1&&e.jsx("div",{className:`h-0.5 flex-1 -mt-8 transition-all ${F>l.step?"bg-primary-600":"bg-gray-200"}`})]},l.step))})}),e.jsxs("div",{className:"p-6",children:[F===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Check Your Profile"}),e.jsx("p",{className:"text-gray-600",children:"Make sure your profile is complete before applying"})]}),p.length>0?e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(ze,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Profile Incomplete"}),e.jsx("p",{className:"text-sm text-amber-800 mb-3",children:"Complete your profile to improve your application success rate by 40%"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[p.includes("phone")&&e.jsxs("li",{className:"flex items-center gap-2 text-amber-900",children:[e.jsx(Ze,{className:"w-4 h-4"}),"Phone number is required"]}),p.includes("location")&&e.jsxs("li",{className:"flex items-center gap-2 text-amber-900",children:[e.jsx(st,{className:"w-4 h-4"}),"Location is required"]}),p.includes("resume")&&e.jsxs("li",{className:"flex items-center gap-2 text-amber-900",children:[e.jsx(Pe,{className:"w-4 h-4"}),"Resume/CV is required"]}),p.includes("headline")&&e.jsxs("li",{className:"flex items-center gap-2 text-amber-900",children:[e.jsx(pe,{className:"w-4 h-4"}),"Professional headline is recommended"]}),p.includes("skills")&&e.jsxs("li",{className:"flex items-center gap-2 text-amber-900",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Add at least 3 skills"]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(k,{to:"/dashboard/profile",className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 font-medium transition-colors",children:"Complete Profile"}),e.jsx("button",{onClick:ht,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors",children:"Continue Anyway"})]})]}):e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(me,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Profile Complete!"}),e.jsx("p",{className:"text-sm text-green-800",children:"Your profile looks great. You're ready to apply."})]})]})}),P.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Your Match Score"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[Math.round(P.filter(l=>l.matched).length/P.length*100),"%"]}),e.jsxs("div",{className:"text-sm text-blue-800",children:[P.filter(l=>l.matched).length," of ",P.length," skills match"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P.slice(0,5).map((l,v)=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l.matched?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[l.matched&&"âœ“ ",l.name]},v))})]})]}),F===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Contact Information"}),e.jsx("p",{className:"text-gray-600",children:"Verify your contact details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:B.name,onChange:l=>X({...B,name:l.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-gray-50",disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qe,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:B.email,onChange:l=>X({...B,email:l.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-gray-50",disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",value:B.phone,onChange:l=>X({...B,phone:l.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"+675 ...",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(st,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:B.location,onChange:l=>X({...B,location:l.target.value}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Port Moresby, PNG",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resume/CV *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"url",value:te,onChange:l=>ne(l.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://...",required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"URL to your CV (Dropbox, Google Drive, etc.)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter (Optional)"}),e.jsx("textarea",{value:A,onChange:l=>S(l.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Tell us why you're a great fit for this role..."}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Optional, but recommended â€” applications with cover letters receive 40% more responses"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[A.length," chars"]})]})]})]}),F===3&&V.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Screening Questions"}),e.jsxs("p",{className:"text-gray-600",children:["The employer has ",V.length," additional questions"]})]}),V.map((l,v)=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[v+1,". ",l]}),e.jsx("textarea",{value:J[v]||"",onChange:Q=>H({...J,[v]:Q.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white",placeholder:"Your answer...",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[(J[v]||"").length," characters"]})]},v))]}),F===(V.length>0?4:3)&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Review Your Application"}),e.jsx("p",{className:"text-gray-600",children:"Check everything before submitting"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:B.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:B.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:B.phone})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-medium",children:B.location})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Resume/CV"}),e.jsxs("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-700 underline flex items-center gap-2",children:[e.jsx(Pe,{className:"w-4 h-4"}),"View Resume"]})]}),A.trim()&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Cover Letter"}),e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:A})]}),V.length>0&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Screening Answers"}),e.jsx("div",{className:"space-y-4",children:V.map((l,v)=>e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-1",children:[v+1,". ",l]}),e.jsx("p",{className:"text-sm text-gray-700 pl-4",children:J[v]})]},v))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ze,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Before you submit:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[e.jsx("li",{children:"Double-check all information is correct"}),e.jsx("li",{children:"Your application cannot be edited after submission"}),e.jsx("li",{children:"You'll receive a confirmation email shortly"})]})]})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("div",{children:F>1&&e.jsxs("button",{onClick:cs,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:[e.jsx(zt,{className:"w-4 h-4"}),"Back"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:He,className:"px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Save Draft & Close"}),F<(V.length>0?4:3)?e.jsxs("button",{onClick:ht,className:"inline-flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium transition-colors",children:["Next",e.jsx(Te,{className:"w-4 h-4"})]}):e.jsx("button",{onClick:ds,disabled:g,className:"inline-flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-4 h-4"}),"Submit Application"]})})]})]})]})}),E&&U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 md:flex md:items-center md:justify-center z-50 md:p-4 overflow-y-auto",children:e.jsx("div",{className:"bg-white md:rounded-xl md:max-w-2xl w-full h-full md:h-auto p-6 md:p-8 md:shadow-2xl overflow-y-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(me,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Application Submitted!"}),e.jsxs("p",{className:"text-gray-600 mb-2",children:["Your application for ",e.jsx("span",{className:"font-semibold",children:s.title})," at"," ",e.jsx("span",{className:"font-semibold",children:s.company_name})," has been submitted."]}),e.jsxs("p",{className:"text-gray-600 mb-8",children:["You'll receive a confirmation email at ",e.jsx("span",{className:"font-semibold",children:B.email})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8 text-left",children:[e.jsxs("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(da,{className:"w-5 h-5"}),"What happens next?"]}),e.jsxs("ol",{className:"space-y-2 text-sm text-blue-900",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold",children:"1."}),e.jsx("span",{children:"The employer will review your application"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold",children:"2."}),e.jsx("span",{children:"You'll be notified if they want to schedule an interview"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-semibold",children:"3."}),e.jsx("span",{children:"Track your application status in your dashboard"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(k,{to:"/dashboard/applications",className:"px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors",children:"View My Applications"}),e.jsx(k,{to:"/jobs",className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Browse More Jobs"}),e.jsx("button",{onClick:He,className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})]}),n.length>0&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Apply to similar jobs"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.slice(0,2).map(l=>e.jsxs(k,{to:`/jobs/${l.id}`,className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors group",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-primary-600",children:l.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.company_name," â€¢ ",l.location]})]}),e.jsx(Te,{className:"w-5 h-5 text-gray-400 group-hover:text-primary-600"})]},l.id))})]})]})})}),le&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full p-8 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wt,{className:"w-6 h-6 text-red-600"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Report this job"})]}),e.jsx("button",{onClick:()=>{T(!1),u(""),z("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(xe,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Help us keep WantokJobs safe. Tell us why this job should be reviewed."}),e.jsxs("form",{onSubmit:us,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for reporting *"}),e.jsxs("select",{value:M,onChange:l=>u(l.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a reason..."}),e.jsx("option",{value:"scam",children:"Scam or fraudulent"}),e.jsx("option",{value:"misleading",children:"Misleading information"}),e.jsx("option",{value:"inappropriate",children:"Inappropriate content"}),e.jsx("option",{value:"duplicate",children:"Duplicate posting"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional details (optional)"}),e.jsx("textarea",{value:L,onChange:l=>z(l.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Provide more context about your report..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Reports are confidential and reviewed within 24-48 hours"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{T(!1),u(""),z("")},className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",children:"Submit Report"})]})]})]})}),s&&(o==null?void 0:o.role)==="jobseeker"&&!U&&e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-30 shadow-lg safe-area-bottom",children:e.jsxs("button",{onClick:Je,className:"w-full bg-primary-600 text-white py-4 rounded-lg font-semibold shadow-md active:bg-primary-700 min-h-[48px] flex items-center justify-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Apply for this job"]})}),s&&!o&&!U&&!Ge&&e.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-3 z-30 shadow-lg safe-area-bottom",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{to:"/login",className:"flex-1 bg-primary-600 text-white py-3 rounded-lg font-semibold shadow-md active:bg-primary-700 min-h-[48px] flex items-center justify-center gap-1 text-sm",children:"Login to Apply"}),e.jsx("button",{onClick:()=>{ke(!0),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 bg-white border-2 border-primary-600 text-primary-600 py-3 rounded-lg font-semibold shadow-md active:bg-primary-50 min-h-[48px] flex items-center justify-center gap-1 text-sm",children:"âš¡ Quick Apply"})]})})]})}function Rr(){const t=ye(),{login:r}=ge(),[o]=lt(),[c,s]=a.useState({email:"",password:"",rememberMe:!1}),[d,m]=a.useState(!1),[i,g]=a.useState(!1),[_,A]=a.useState(""),[S,E]=a.useState(!1),[R,F]=a.useState(!1),[C,U]=a.useState(0),[f,p]=a.useState(!1),[I,J]=a.useState(!1),[H,V]=a.useState([]);a.useEffect(()=>{o.get("expired")==="true"&&(p(!0),A("Your session has expired. Please log in again."))},[o]),a.useEffect(()=>{const D=localStorage.getItem("rememberedEmail");D&&s(n=>({...n,email:D,rememberMe:!0}))},[]),a.useEffect(()=>{fetch("/api/auth/oauth/providers").then(D=>D.json()).then(D=>V(D.providers||[])).catch(D=>console.error("Failed to load OAuth providers:",D))},[]),a.useEffect(()=>{if(H.some(n=>n.name==="google")&&!window.google){const n=document.createElement("script");n.src="https://accounts.google.com/gsi/client",n.async=!0,n.defer=!0,document.body.appendChild(n)}},[H]),a.useEffect(()=>{if(H.some(n=>n.name==="facebook")&&!window.FB){window.fbAsyncInit=function(){const $=H.find(O=>O.name==="facebook");window.FB.init({appId:$==null?void 0:$.appId,cookie:!0,xfbml:!0,version:"v18.0"})};const n=document.createElement("script");n.src="https://connect.facebook.net/en_US/sdk.js",n.async=!0,n.defer=!0,document.body.appendChild(n)}},[H]),a.useEffect(()=>{if(C>0){const D=setTimeout(()=>{U(n=>n-1),C===1&&F(!1)},1e3);return()=>clearTimeout(D)}},[C]);const Y=async D=>{D.preventDefault(),A(""),m(!0);try{const n=await Le.login({email:c.email,password:c.password});if(n.forceReset){J(!0),A(n.message||"Your account needs a password reset."),m(!1);return}c.rememberMe?localStorage.setItem("rememberedEmail",c.email):localStorage.removeItem("rememberedEmail"),r(n.token,n.user),n.user.role==="admin"?t("/dashboard/admin"):n.user.role==="employer"?t("/dashboard/employer"):t("/dashboard/jobseeker")}catch(n){const $=n.message||"Login failed";A($),(n.status===429||$.toLowerCase().includes("too many")||$.toLowerCase().includes("rate limit"))&&(F(!0),U(60))}finally{m(!1)}},B=()=>{A(""),g(!0);const D=H.find(n=>n.name==="google");if(!D){A("Google login not configured"),g(!1);return}window.google.accounts.id.initialize({client_id:D.clientId,callback:async n=>{try{const $=await fetch("/api/auth/oauth/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:n.credential})}),O=await $.json();if(!$.ok)throw new Error(O.error||"Google login failed");r(O.token,O.user),O.user.role==="admin"?t("/dashboard/admin"):O.user.role==="employer"?t("/dashboard/employer"):t("/dashboard/jobseeker")}catch($){console.error("Google OAuth error:",$),A($.message||"Google login failed")}finally{g(!1)}}}),window.google.accounts.id.prompt(n=>{(n.isNotDisplayed()||n.isSkippedMoment())&&g(!1)})},X=()=>{if(A(""),g(!0),!window.FB){A("Facebook SDK not loaded"),g(!1);return}window.FB.login(async D=>{if(D.authResponse)try{const n=await fetch("/api/auth/oauth/facebook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:D.authResponse.accessToken})}),$=await n.json();if(!n.ok)throw new Error($.error||"Facebook login failed");r($.token,$.user),$.user.role==="admin"?t("/dashboard/admin"):$.user.role==="employer"?t("/dashboard/employer"):t("/dashboard/jobseeker")}catch(n){console.error("Facebook OAuth error:",n),A(n.message||"Facebook login failed")}finally{g(!1)}else g(!1)},{scope:"public_profile,email"})},te=H.some(D=>D.name==="google"),ne=H.some(D=>D.name==="facebook"),K=te||ne;return e.jsx("div",{className:"min-h-[calc(100vh-300px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(k,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),K&&e.jsxs("div",{className:"space-y-3",children:[te&&e.jsxs("button",{type:"button",onClick:B,disabled:i,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Continue with Google"})]}),ne&&e.jsxs("button",{type:"button",onClick:X,disabled:i,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-transparent rounded-md shadow-sm bg-[#1877F2] hover:bg-[#166FE5] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"white",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Continue with Facebook"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or sign in with email"})})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:Y,children:[I&&e.jsxs("div",{className:"border px-4 py-3 rounded bg-amber-50 border-amber-400 text-amber-800",children:[e.jsx(ze,{className:"w-5 h-5 inline mr-2"}),e.jsx("strong",{children:"Password Reset Required"}),e.jsx("p",{className:"mt-2 text-sm",children:"Your account was imported from our previous system and needs a password reset for security."}),e.jsx(k,{to:"/forgot-password",className:"mt-3 inline-block w-full text-center py-2 px-4 bg-amber-600 text-white rounded-md hover:bg-amber-700 font-medium text-sm",children:"Reset Your Password"})]}),_&&!I&&e.jsxs("div",{className:`border px-4 py-3 rounded flex items-start gap-2 ${f?"bg-blue-100 border-blue-400 text-blue-700":R?"bg-orange-100 border-orange-400 text-orange-700":"bg-red-100 border-red-400 text-red-700"}`,children:[e.jsx(ze,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{children:_}),R&&C>0&&e.jsxs("p",{className:"text-sm mt-1",children:["Please wait ",e.jsx("strong",{children:C})," seconds before trying again."]})]})]}),e.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:D=>s({...c,email:D.target.value}),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:S?"text":"password",required:!0,value:c.password,onChange:D=>s({...c,password:D.target.value}),className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Password"}),e.jsx("button",{type:"button",onClick:()=>E(!S),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:S?e.jsx(Wt,{className:"w-5 h-5"}):e.jsx(Re,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:c.rememberMe,onChange:D=>s({...c,rememberMe:D.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(k,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d||R||i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Signing in...":R?`Wait ${C}s`:"Sign in"})})]})]})})}function Ir(){const t=ye(),[r]=lt(),{login:o}=ge(),{showToast:c}=Kt(),[s,d]=a.useState({name:"",email:"",password:"",confirmPassword:"",role:"jobseeker",captcha_answer:""}),[m,i]=a.useState(null),[g,_]=a.useState(!1),[A,S]=a.useState(!1),[E,R]=a.useState(!1),[F,C]=a.useState(""),[U,f]=a.useState(!1),[p,I]=a.useState(!1),[J,H]=a.useState([]),[V,Y]=a.useState(!1),[B,X]=a.useState(null),te=r.get("ref");a.useEffect(()=>{te&&Ha.track(te).catch(()=>{})},[te]);const ne=async()=>{_(!0);try{const w=await(await fetch("/api/auth/captcha")).json();i(w),d(W=>({...W,captcha_answer:""}))}catch(P){console.error("Failed to load CAPTCHA:",P)}finally{_(!1)}};a.useEffect(()=>{ne()},[]),a.useEffect(()=>{fetch("/api/auth/oauth/providers").then(P=>P.json()).then(P=>H(P.providers||[])).catch(P=>console.error("Failed to load OAuth providers:",P))},[]),a.useEffect(()=>{if(J.some(w=>w.name==="google")&&!window.google){const w=document.createElement("script");w.src="https://accounts.google.com/gsi/client",w.async=!0,w.defer=!0,document.body.appendChild(w)}},[J]),a.useEffect(()=>{if(J.some(w=>w.name==="facebook")&&!window.FB){window.fbAsyncInit=function(){const W=J.find(ae=>ae.name==="facebook");window.FB.init({appId:W==null?void 0:W.appId,cookie:!0,xfbml:!0,version:"v18.0"})};const w=document.createElement("script");w.src="https://connect.facebook.net/en_US/sdk.js",w.async=!0,w.defer=!0,document.body.appendChild(w)}},[J]);const K=a.useMemo(()=>{const P=s.password;if(!P)return{score:0,label:"",color:"bg-gray-200"};let w=0;const W={length:P.length>=8,uppercase:/[A-Z]/.test(P),lowercase:/[a-z]/.test(P),number:/[0-9]/.test(P),special:/[^A-Za-z0-9]/.test(P)};return w+=W.length?2:0,w+=W.uppercase?1:0,w+=W.lowercase?1:0,w+=W.number?1:0,w+=W.special?1:0,w<=2?{score:w,label:"Weak",color:"bg-red-500",checks:W}:w<=4?{score:w,label:"Fair",color:"bg-yellow-500",checks:W}:w<=5?{score:w,label:"Good",color:"bg-green-500",checks:W}:{score:w,label:"Strong",color:"bg-green-600",checks:W}},[s.password]),D=async P=>{if(P.preventDefault(),C(""),s.password!==s.confirmPassword){C("Passwords do not match");return}if(s.password.length<6){C("Password must be at least 6 characters");return}S(!0);try{const w=await Le.register({name:s.name,email:s.email,password:s.password,role:s.role,captcha_id:m==null?void 0:m.id,captcha_answer:s.captcha_answer,...s.role==="employer"&&s.isAgency?{account_type:"agency"}:{},...te?{referral_code:te}:{}});o(w.token,w.user),c("Welcome to WantokJobs! Complete your profile to get started.","success"),w.user.role==="employer"?t("/dashboard/employer/profile"):t("/dashboard/jobseeker/profile")}catch(w){C(w.message||"Registration failed")}finally{S(!1)}},n=()=>{C(""),R(!0);const P=J.find(w=>w.name==="google");if(!P){C("Google registration not configured"),R(!1);return}window.google.accounts.id.initialize({client_id:P.clientId,callback:async w=>{X({provider:"google",idToken:w.credential}),Y(!0),R(!1)}}),window.google.accounts.id.prompt(w=>{(w.isNotDisplayed()||w.isSkippedMoment())&&R(!1)})},$=()=>{if(C(""),R(!0),!window.FB){C("Facebook SDK not loaded"),R(!1);return}window.FB.login(async P=>{P.authResponse&&(X({provider:"facebook",accessToken:P.authResponse.accessToken}),Y(!0)),R(!1)},{scope:"public_profile,email"})},O=async P=>{if(B){R(!0);try{const w=B.provider==="google"?"/api/auth/oauth/google":"/api/auth/oauth/facebook",W=B.provider==="google"?{idToken:B.idToken,role:P}:{accessToken:B.accessToken,role:P},ae=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),le=await ae.json();if(!ae.ok)throw new Error(le.error||"Registration failed");o(le.token,le.user),c("Welcome to WantokJobs!","success"),le.user.role==="employer"?t("/dashboard/employer/profile"):t("/dashboard/jobseeker/profile")}catch(w){console.error("OAuth registration error:",w),C(w.message||"Registration failed")}finally{R(!1),Y(!1),X(null)}}},se=J.some(P=>P.name==="google"),ee=J.some(P=>P.name==="facebook"),ie=se||ee;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-[calc(100vh-300px)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(k,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to existing account"})]})]}),ie&&e.jsxs("div",{className:"space-y-3",children:[se&&e.jsxs("button",{type:"button",onClick:n,disabled:E,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Continue with Google"})]}),ee&&e.jsxs("button",{type:"button",onClick:$,disabled:E,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-transparent rounded-md shadow-sm bg-[#1877F2] hover:bg-[#166FE5] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"white",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Continue with Facebook"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or register with email"})})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:D,children:[F&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:F}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"I am a"}),e.jsxs("select",{id:"role",name:"role",value:s.role,onChange:P=>d({...s,role:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"jobseeker",children:"Job Seeker"}),e.jsx("option",{value:"employer",children:"Employer"})]})]}),s.role==="employer"&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("input",{type:"checkbox",id:"isAgency",checked:s.isAgency||!1,onChange:P=>d({...s,isAgency:P.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),e.jsxs("label",{htmlFor:"isAgency",className:"text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Are you a recruitment agency?"}),e.jsx("span",{className:"block text-xs text-gray-500",children:"Enables client management â€” post jobs on behalf of multiple companies"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:s.name,onChange:P=>d({...s,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"John Smith"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:P=>d({...s,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:U?"text":"password",required:!0,value:s.password,onChange:P=>d({...s,password:P.target.value}),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Minimum 8 characters"}),e.jsx("button",{type:"button",onClick:()=>f(!U),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:U?e.jsx(Wt,{className:"w-5 h-5"}):e.jsx(Re,{className:"w-5 h-5"})})]}),s.password&&e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${K.color} transition-all`,style:{width:`${K.score/6*100}%`}})}),e.jsx("span",{className:`text-xs font-medium ${K.score<=2?"text-red-600":K.score<=4?"text-yellow-600":"text-green-600"}`,children:K.label})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsxs("div",{className:`flex items-center gap-1 ${K.checks.length?"text-green-600":"text-gray-400"}`,children:[K.checks.length?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(xe,{className:"w-3 h-3"}),"8+ characters"]}),e.jsxs("div",{className:`flex items-center gap-1 ${K.checks.uppercase?"text-green-600":"text-gray-400"}`,children:[K.checks.uppercase?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(xe,{className:"w-3 h-3"}),"Uppercase letter"]}),e.jsxs("div",{className:`flex items-center gap-1 ${K.checks.lowercase?"text-green-600":"text-gray-400"}`,children:[K.checks.lowercase?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(xe,{className:"w-3 h-3"}),"Lowercase letter"]}),e.jsxs("div",{className:`flex items-center gap-1 ${K.checks.number?"text-green-600":"text-gray-400"}`,children:[K.checks.number?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(xe,{className:"w-3 h-3"}),"Number"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:s.confirmPassword,onChange:P=>d({...s,confirmPassword:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Confirm password"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[e.jsx("label",{htmlFor:"captcha",className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Check"}),m?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-lg font-medium text-gray-900",children:m.question}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"captcha",name:"captcha_answer",type:"text",required:!0,value:s.captcha_answer,onChange:P=>d({...s,captcha_answer:P.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Your answer"}),e.jsx("button",{type:"button",onClick:ne,disabled:g,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:"ðŸ”„ Refresh"})]})]}):e.jsx("div",{className:"text-center text-gray-500 py-2",children:"Loading..."})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:A||E||!m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:A?"Creating account...":"Create account"})})]})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select your role"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you looking for a job or hiring?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>O("jobseeker"),disabled:E,className:"w-full px-4 py-3 border-2 border-primary-600 rounded-md hover:bg-primary-50 transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"font-medium",children:"Job Seeker"}),e.jsx("div",{className:"text-sm text-gray-600",children:"I'm looking for work"})]}),e.jsxs("button",{onClick:()=>O("employer"),disabled:E,className:"w-full px-4 py-3 border-2 border-primary-600 rounded-md hover:bg-primary-50 transition-colors disabled:opacity-50",children:[e.jsx("div",{className:"font-medium",children:"Employer"}),e.jsx("div",{className:"text-sm text-gray-600",children:"I'm hiring"})]})]}),!E&&e.jsx("button",{onClick:()=>{Y(!1),X(null)},className:"w-full mt-3 px-4 py-2 text-sm text-gray-600 hover:text-gray-900",children:"Cancel"})]})})]})}function Jr(){const t=ye();return e.jsxs(e.Fragment,{children:[e.jsx(we,{title:"Page Not Found â€” WantokJobs",description:"The page you're looking for doesn't exist. Browse jobs or return to the homepage."}),e.jsx("main",{className:"min-h-[calc(100vh-300px)] flex items-center justify-center px-4 py-12",role:"main","aria-labelledby":"not-found-heading",children:e.jsxs("div",{className:"text-center max-w-lg",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("h1",{className:"text-[10rem] sm:text-[12rem] font-extrabold text-primary-100 leading-none select-none","aria-hidden":"true",children:"404"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-6xl",role:"img","aria-label":"Confused face",children:"ðŸ¤”"})})]}),e.jsx("h2",{id:"not-found-heading",className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Page Not Found"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Sorry, we couldn't find that page. It may have been moved or deleted. Let's get you back on track!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 mb-8",children:[e.jsxs(k,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors shadow-sm w-full sm:w-auto justify-center","aria-label":"Go to homepage",children:[e.jsx(nt,{className:"w-5 h-5"}),"Go Home"]}),e.jsxs(k,{to:"/jobs",className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-primary-600 font-semibold rounded-lg hover:bg-primary-50 transition-colors border border-primary-200 w-full sm:w-auto justify-center","aria-label":"Browse all jobs",children:[e.jsx(pe,{className:"w-5 h-5"}),"Browse Jobs"]}),e.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 px-6 py-3 text-gray-600 font-medium rounded-lg hover:bg-gray-100 transition-colors w-full sm:w-auto justify-center","aria-label":"Go back to previous page",children:[e.jsx(zt,{className:"w-5 h-5"}),"Go Back"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Popular categories:"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:[{label:"ðŸ—ï¸ Construction",slug:"construction"},{label:"ðŸ’¼ Accounting",slug:"accounting-finance"},{label:"ðŸ‘¨â€ðŸ« Teaching",slug:"education-training"},{label:"â›ï¸ Mining",slug:"mining-resources"},{label:"ðŸ¥ Health",slug:"healthcare"},{label:"ðŸ’» IT",slug:"information-technology"}].map(({label:r,slug:o})=>e.jsx(k,{to:`/category/${o}`,className:"px-3 py-1.5 bg-white border border-gray-200 rounded-full text-sm text-gray-700 hover:border-primary-300 hover:text-primary-600 transition-colors",children:r},o))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Looking for a specific job? Try searching:"}),e.jsxs("form",{onSubmit:r=>{r.preventDefault();const o=r.target.elements.q.value.trim();o&&t(`/jobs?q=${encodeURIComponent(o)}`)},className:"flex gap-2",role:"search","aria-label":"Search jobs",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400","aria-hidden":"true"}),e.jsx("input",{name:"q",type:"search",placeholder:"e.g. Accountant, Engineer, Teacher...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm","aria-label":"Search for jobs"})]}),e.jsx("button",{type:"submit",className:"px-5 py-3 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors text-sm whitespace-nowrap",children:"Search"})]})]})]})})]})}const Dr=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),j=({component:t})=>e.jsx(ur,{children:e.jsx(a.Suspense,{fallback:e.jsx(Dr,{}),children:e.jsx(t,{})})}),Mr=a.lazy(()=>N(()=>import("./About-BGsYyKq0.js"),__vite__mapDeps([0,1,2]))),Fr=a.lazy(()=>N(()=>import("./Contact-Cx0doDGK.js"),__vite__mapDeps([3,1,2]))),zr=a.lazy(()=>N(()=>import("./Privacy-Tt5J6gR9.js"),__vite__mapDeps([4,1,2]))),Wr=a.lazy(()=>N(()=>import("./Terms-9gyrle9K.js"),__vite__mapDeps([5,1,2]))),Vr=a.lazy(()=>N(()=>import("./Pricing-BA5wt34o.js"),__vite__mapDeps([6,1,2]))),Br=a.lazy(()=>N(()=>import("./FAQ-DHSM_T2U.js"),__vite__mapDeps([7,1,2]))),Gr=a.lazy(()=>N(()=>import("./HelpCenter-Bz6kF1yb.js"),__vite__mapDeps([8,1,2]))),Hr=a.lazy(()=>N(()=>import("./ForgotPassword-BfCUnn7T.js"),__vite__mapDeps([9,1,2]))),qr=a.lazy(()=>N(()=>import("./ResetPassword-_mHUmEGy.js"),__vite__mapDeps([10,1,2]))),Ur=a.lazy(()=>N(()=>import("./VerifyEmail-DdReKrIL.js"),__vite__mapDeps([11,1,2]))),Kr=a.lazy(()=>N(()=>import("./Categories-BJKJNhaa.js"),__vite__mapDeps([12,1,2]))),Yr=a.lazy(()=>N(()=>import("./CategoryLanding-D0owYoYc.js"),__vite__mapDeps([13,1,2]))),Qr=a.lazy(()=>N(()=>import("./Companies-B0C7Ss96.js"),__vite__mapDeps([14,1,2]))),Zr=a.lazy(()=>N(()=>import("./CompanyProfile-BqGurnQR.js"),__vite__mapDeps([15,1,2]))),Xr=a.lazy(()=>N(()=>import("./CompanyReviews-CwlmC3oj.js"),__vite__mapDeps([16,1,2]))),eo=a.lazy(()=>N(()=>import("./Blog-CHBGkQWg.js"),__vite__mapDeps([17,1,2]))),to=a.lazy(()=>N(()=>import("./BlogPost-XEVJV3xs.js"),__vite__mapDeps([18,1,2]))),so=a.lazy(()=>N(()=>import("./Stats-DZKHfo9-.js"),__vite__mapDeps([19,1,2]))),ao=a.lazy(()=>N(()=>import("./Training-DCauLJqb.js"),__vite__mapDeps([20,1,2]))),ro=a.lazy(()=>N(()=>import("./ReferenceResponse-JXVfeL10.js"),__vite__mapDeps([21,1,2]))),oo=a.lazy(()=>N(()=>import("./SalaryCalculator-Dq5A5XR3.js"),__vite__mapDeps([22,1,2]))),no=a.lazy(()=>N(()=>import("./CompareJobs-0oKNU8ze.js"),__vite__mapDeps([23,1,2]))),io=a.lazy(()=>N(()=>import("./SuccessStories-BohWV_Ie.js"),__vite__mapDeps([24,1,2]))),lo=a.lazy(()=>N(()=>import("./IndustryLanding-DII2tH_Z.js"),__vite__mapDeps([25,1,2]))),co=a.lazy(()=>N(()=>import("./Transparency-7CPFTAeh.js"),__vite__mapDeps([26,1,2]))),mo=a.lazy(()=>N(()=>import("./Features-BC0-4R5o.js"),__vite__mapDeps([27,1,2]))),tt=a.lazy(()=>N(()=>import("./ChangePassword-BoIgSazQ.js"),__vite__mapDeps([28,1,2]))),po=a.lazy(()=>N(()=>import("./Overview-Bu6Ah1SN.js"),__vite__mapDeps([29,1,2,30,31,32,33]))),ho=a.lazy(()=>N(()=>import("./MyApplications-D4CFhu7q.js"),__vite__mapDeps([34,1,2]))),Lt=a.lazy(()=>N(()=>import("./MyOffers-WTadVw3I.js"),__vite__mapDeps([35,1,2]))),xo=a.lazy(()=>N(()=>import("./SavedJobs-0mkk08BY.js"),__vite__mapDeps([36,1,2]))),go=a.lazy(()=>N(()=>import("./Profile-CKMblTdb.js"),__vite__mapDeps([37,1,2,33]))),uo=a.lazy(()=>N(()=>import("./JobAlerts-BYl6GNPE.js"),__vite__mapDeps([38,1,2]))),yo=a.lazy(()=>N(()=>import("./Messages-DPEs0mAe.js"),__vite__mapDeps([39,1,2]))),bo=a.lazy(()=>N(()=>import("./Recommendations-D2iRWwYB.js"),__vite__mapDeps([40,1,2]))),fo=a.lazy(()=>N(()=>import("./Settings-DUNUaSC7.js"),__vite__mapDeps([41,1,2]))),jo=a.lazy(()=>N(()=>import("./FollowedCompanies-CCwZOrsK.js"),__vite__mapDeps([42,1,2]))),vo=a.lazy(()=>N(()=>import("./Wallet-CoRDdC2j.js"),__vite__mapDeps([43,1,2]))),wo=a.lazy(()=>N(()=>import("./ResumeBuilder-BPwsBuZh.js"),__vite__mapDeps([44,1,2]))),No=a.lazy(()=>N(()=>import("./Interviews-DkywIbCu.js"),__vite__mapDeps([45,1,2]))),ko=a.lazy(()=>N(()=>import("./SavedSearches-DwrMRvTj.js"),__vite__mapDeps([46,1,2]))),_o=a.lazy(()=>N(()=>import("./Analytics-CkadiFS1.js"),__vite__mapDeps([47,1,2]))),So=a.lazy(()=>N(()=>import("./Overview-Me0IDseS.js"),__vite__mapDeps([48,1,2,30,32]))),Co=a.lazy(()=>N(()=>import("./MyJobs-Bx3mgDrJ.js"),__vite__mapDeps([49,1,2]))),Ot=a.lazy(()=>N(()=>import("./PostJob-lNLK-ayE.js"),__vite__mapDeps([50,1,2]))),Rt=a.lazy(()=>N(()=>import("./Applicants-BsC8w8KV.js"),__vite__mapDeps([51,1,2,31]))),Po=a.lazy(()=>N(()=>import("./CompareApplicants-BYT_WJvD.js"),__vite__mapDeps([52,1,2,31]))),It=a.lazy(()=>N(()=>import("./OfferLetters-D6XBRXkG.js"),__vite__mapDeps([53,1,2]))),Eo=a.lazy(()=>N(()=>import("./CompanyProfile-5HEhVPUk.js"),__vite__mapDeps([54,1,2]))),To=a.lazy(()=>N(()=>import("./CandidateSearch-CyIVLQ2A.js"),__vite__mapDeps([55,1,2]))),Ao=a.lazy(()=>N(()=>import("./SavedCandidates-Bo3mbLkw.js"),__vite__mapDeps([56,1,2]))),$o=a.lazy(()=>N(()=>import("./Onboarding-DEzuYV-d.js"),__vite__mapDeps([57,1,2]))),Lo=a.lazy(()=>N(()=>import("./Analytics-ClibWihA.js"),__vite__mapDeps([58,1,2,30]))),Oo=a.lazy(()=>N(()=>import("./OrdersBilling-C5vBhFQM.js"),__vite__mapDeps([59,1,2]))),Ro=a.lazy(()=>N(()=>import("./Messages-BPXHwv3E.js"),__vite__mapDeps([60,1,2]))),Io=a.lazy(()=>N(()=>import("./AgencyClients-N45a2aPP.js"),__vite__mapDeps([61,1,2]))),Jo=a.lazy(()=>N(()=>import("./Wallet-C28oz4VT.js"),__vite__mapDeps([62,1,2]))),Do=a.lazy(()=>N(()=>import("./Interviews-B4GXHXvZ.js"),__vite__mapDeps([63,1,2]))),Mo=a.lazy(()=>N(()=>import("./Settings-tCDLzoZ0.js"),__vite__mapDeps([64,1,2]))),Fo=a.lazy(()=>N(()=>import("./Overview-CRShu5QL.js"),__vite__mapDeps([65,1,2]))),zo=a.lazy(()=>N(()=>import("./ManageUsers-D-1j0zT0.js"),__vite__mapDeps([66,1,2]))),Wo=a.lazy(()=>N(()=>import("./ManageJobs-b-V1ZabH.js"),__vite__mapDeps([67,1,2]))),Vo=a.lazy(()=>N(()=>import("./Settings-6pUbM_WB.js"),__vite__mapDeps([68,1,2]))),Bo=a.lazy(()=>N(()=>import("./Orders-CDM-iYdQ.js"),__vite__mapDeps([69,1,2]))),Go=a.lazy(()=>N(()=>import("./Plans-2B5h18t9.js"),__vite__mapDeps([70,1,2]))),Ho=a.lazy(()=>N(()=>import("./Categories-DbUzVwTz.js"),__vite__mapDeps([71,1,2]))),qo=a.lazy(()=>N(()=>import("./Reports-C6teC4GV.js"),__vite__mapDeps([72,1,2]))),Uo=a.lazy(()=>N(()=>import("./Banners-CuQ6v-OM.js"),__vite__mapDeps([73,1,2]))),Ko=a.lazy(()=>N(()=>import("./Articles-CnXo-O2z.js"),__vite__mapDeps([74,1,2]))),Yo=a.lazy(()=>N(()=>import("./Newsletter-BeFf4jTc.js"),__vite__mapDeps([75,1,2]))),Qo=a.lazy(()=>N(()=>import("./Messages-twEZqwDG.js"),__vite__mapDeps([76,1,2]))),Zo=a.lazy(()=>N(()=>import("./ContactMessages-CXboQd6t.js"),__vite__mapDeps([77,1,2]))),Xo=a.lazy(()=>N(()=>import("./AIAgents-C-yl-omW.js"),__vite__mapDeps([78,1,2]))),en=a.lazy(()=>N(()=>import("./FraudSecurity-BlCRbOaZ.js"),__vite__mapDeps([79,1,2]))),tn=a.lazy(()=>N(()=>import("./RateLimits-BZ3qLQqR.js"),__vite__mapDeps([80,1,2]))),sn=a.lazy(()=>N(()=>import("./JeanSettings-CkWqhZwU.js"),__vite__mapDeps([81,1,2]))),an=a.lazy(()=>N(()=>import("./WalletAdmin-BHOuQq7y.js"),__vite__mapDeps([82,1,2]))),rn=a.lazy(()=>N(()=>import("./ReviewManagement-C7lncaI9.js"),__vite__mapDeps([83,1,2]))),on=a.lazy(()=>N(()=>import("./FeatureRequests-Rp27zH81.js"),__vite__mapDeps([84,1,2])));function nn(){return e.jsx(Va,{children:e.jsx(ba,{children:e.jsx(yr,{children:e.jsx(ha,{children:e.jsx(xa,{children:e.jsxs(b,{path:"/",element:e.jsx(xr,{}),children:[e.jsx(b,{index:!0,element:e.jsx(Tr,{})}),e.jsx(b,{path:"jobs",element:e.jsx(Lr,{})}),e.jsx(b,{path:"jobs/:id",element:e.jsx(Or,{})}),e.jsx(b,{path:"login",element:e.jsx(Rr,{})}),e.jsx(b,{path:"register",element:e.jsx(Ir,{})}),e.jsx(b,{path:"about",element:e.jsx(j,{component:Mr})}),e.jsx(b,{path:"transparency",element:e.jsx(j,{component:co})}),e.jsx(b,{path:"contact",element:e.jsx(j,{component:Fr})}),e.jsx(b,{path:"privacy",element:e.jsx(j,{component:zr})}),e.jsx(b,{path:"terms",element:e.jsx(j,{component:Wr})}),e.jsx(b,{path:"pricing",element:e.jsx(j,{component:Vr})}),e.jsx(b,{path:"faq",element:e.jsx(j,{component:Br})}),e.jsx(b,{path:"help",element:e.jsx(j,{component:Gr})}),e.jsx(b,{path:"categories",element:e.jsx(j,{component:Kr})}),e.jsx(b,{path:"category/:slug",element:e.jsx(j,{component:Yr})}),e.jsx(b,{path:"industries/:slug",element:e.jsx(j,{component:lo})}),e.jsx(b,{path:"companies",element:e.jsx(j,{component:Qr})}),e.jsx(b,{path:"companies/:id",element:e.jsx(j,{component:Zr})}),e.jsx(b,{path:"companies/:id/reviews",element:e.jsx(j,{component:Xr})}),e.jsx(b,{path:"blog",element:e.jsx(j,{component:eo})}),e.jsx(b,{path:"blog/:slug",element:e.jsx(j,{component:to})}),e.jsx(b,{path:"stats",element:e.jsx(j,{component:so})}),e.jsx(b,{path:"training",element:e.jsx(j,{component:ao})}),e.jsx(b,{path:"forgot-password",element:e.jsx(j,{component:Hr})}),e.jsx(b,{path:"reset-password",element:e.jsx(j,{component:qr})}),e.jsx(b,{path:"verify-email",element:e.jsx(j,{component:Ur})}),e.jsx(b,{path:"compare",element:e.jsx(j,{component:no})}),e.jsx(b,{path:"references/respond/:token",element:e.jsx(j,{component:ro})}),e.jsx(b,{path:"salary-calculator",element:e.jsx(j,{component:oo})}),e.jsx(b,{path:"success-stories",element:e.jsx(j,{component:io})}),e.jsx(b,{path:"features",element:e.jsx(j,{component:mo})}),e.jsxs(b,{path:"dashboard/jobseeker",element:e.jsx(et,{role:"jobseeker"}),children:[e.jsx(b,{index:!0,element:e.jsx(j,{component:po})}),e.jsx(b,{path:"applications",element:e.jsx(j,{component:ho})}),e.jsx(b,{path:"offers",element:e.jsx(j,{component:Lt})}),e.jsx(b,{path:"offers/:id",element:e.jsx(j,{component:Lt})}),e.jsx(b,{path:"saved",element:e.jsx(j,{component:xo})}),e.jsx(b,{path:"job-alerts",element:e.jsx(j,{component:uo})}),e.jsx(b,{path:"saved-searches",element:e.jsx(j,{component:ko})}),e.jsx(b,{path:"recommendations",element:e.jsx(j,{component:bo})}),e.jsx(b,{path:"messages",element:e.jsx(j,{component:yo})}),e.jsx(b,{path:"profile",element:e.jsx(j,{component:go})}),e.jsx(b,{path:"settings",element:e.jsx(j,{component:fo})}),e.jsx(b,{path:"followed-companies",element:e.jsx(j,{component:jo})}),e.jsx(b,{path:"wallet",element:e.jsx(j,{component:vo})}),e.jsx(b,{path:"resume-builder",element:e.jsx(j,{component:wo})}),e.jsx(b,{path:"interviews",element:e.jsx(j,{component:No})}),e.jsx(b,{path:"analytics",element:e.jsx(j,{component:_o})}),e.jsx(b,{path:"change-password",element:e.jsx(j,{component:tt})})]}),e.jsxs(b,{path:"dashboard/employer",element:e.jsx(et,{role:"employer"}),children:[e.jsx(b,{index:!0,element:e.jsx(j,{component:So})}),e.jsx(b,{path:"jobs",element:e.jsx(j,{component:Co})}),e.jsx(b,{path:"post-job",element:e.jsx(j,{component:Ot})}),e.jsx(b,{path:"edit-job/:id",element:e.jsx(j,{component:Ot})}),e.jsx(b,{path:"applicants",element:e.jsx(j,{component:Rt})}),e.jsx(b,{path:"applicants/:jobId",element:e.jsx(j,{component:Rt})}),e.jsx(b,{path:"compare-applicants",element:e.jsx(j,{component:Po})}),e.jsx(b,{path:"offer-letters",element:e.jsx(j,{component:It})}),e.jsx(b,{path:"offer-letters/:id",element:e.jsx(j,{component:It})}),e.jsx(b,{path:"candidate-search",element:e.jsx(j,{component:To})}),e.jsx(b,{path:"saved-candidates",element:e.jsx(j,{component:Ao})}),e.jsx(b,{path:"analytics",element:e.jsx(j,{component:Lo})}),e.jsx(b,{path:"orders-billing",element:e.jsx(j,{component:Oo})}),e.jsx(b,{path:"messages",element:e.jsx(j,{component:Ro})}),e.jsx(b,{path:"clients",element:e.jsx(j,{component:Io})}),e.jsx(b,{path:"wallet",element:e.jsx(j,{component:Jo})}),e.jsx(b,{path:"interviews",element:e.jsx(j,{component:Do})}),e.jsx(b,{path:"profile",element:e.jsx(j,{component:Eo})}),e.jsx(b,{path:"onboarding",element:e.jsx(j,{component:$o})}),e.jsx(b,{path:"settings",element:e.jsx(j,{component:Mo})}),e.jsx(b,{path:"change-password",element:e.jsx(j,{component:tt})})]}),e.jsxs(b,{path:"dashboard/admin",element:e.jsx(et,{role:"admin"}),children:[e.jsx(b,{index:!0,element:e.jsx(j,{component:Fo})}),e.jsx(b,{path:"users",element:e.jsx(j,{component:zo})}),e.jsx(b,{path:"jobs",element:e.jsx(j,{component:Wo})}),e.jsx(b,{path:"orders",element:e.jsx(j,{component:Bo})}),e.jsx(b,{path:"plans",element:e.jsx(j,{component:Go})}),e.jsx(b,{path:"categories",element:e.jsx(j,{component:Ho})}),e.jsx(b,{path:"reports",element:e.jsx(j,{component:qo})}),e.jsx(b,{path:"banners",element:e.jsx(j,{component:Uo})}),e.jsx(b,{path:"articles",element:e.jsx(j,{component:Ko})}),e.jsx(b,{path:"newsletter",element:e.jsx(j,{component:Yo})}),e.jsx(b,{path:"messages",element:e.jsx(j,{component:Qo})}),e.jsx(b,{path:"contact-messages",element:e.jsx(j,{component:Zo})}),e.jsx(b,{path:"ai-agents",element:e.jsx(j,{component:Xo})}),e.jsx(b,{path:"jean",element:e.jsx(j,{component:sn})}),e.jsx(b,{path:"security",element:e.jsx(j,{component:en})}),e.jsx(b,{path:"reviews",element:e.jsx(j,{component:rn})}),e.jsx(b,{path:"rate-limits",element:e.jsx(j,{component:tn})}),e.jsx(b,{path:"wallet",element:e.jsx(j,{component:an})}),e.jsx(b,{path:"feature-requests",element:e.jsx(j,{component:on})}),e.jsx(b,{path:"settings",element:e.jsx(j,{component:Vo})}),e.jsx(b,{path:"change-password",element:e.jsx(j,{component:tt})})]}),e.jsx(b,{path:"*",element:e.jsx(Jr,{})})]})})})})})})}at.createRoot(document.getElementById("root")).render(e.jsx(ga.StrictMode,{children:e.jsx(nn,{})}));export{kn as A,Nn as B,An as C,gr as D,fn as E,vn as F,be as J,qt as O,we as P,q as S,N as _,qa as a,Tn as b,Kt as c,jn as d,Le as e,En as f,Ba as g,yn as h,Ha as i,Oe as j,Pn as k,Sn as l,Ga as m,pn as n,Ht as o,mn as p,bn as q,_n as r,Ct as s,Cn as t,ge as u,hn as v,un as w,gn as x,xn as y,wn as z};
