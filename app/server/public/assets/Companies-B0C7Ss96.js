import{j as e,S as f,w as u,aC as N,u as g,C as w,t as C}from"./vendor-ui-K43rUeTs.js";import{u as P,r as s}from"./vendor-react-Dlyf-RJj.js";import{a as S,P as k,b as T,O as E}from"./index-CAGaxXNg.js";function B(){const c=P(),[d,p]=s.useState([]),[y,m]=s.useState(!0),[n,j]=s.useState(null),[a,x]=s.useState({search:"",industry:"",location:"",employerType:"",transparencyOnly:!1});s.useEffect(()=>{h(),fetch("/api/stats").then(t=>t.json()).then(t=>j(t.data||t)).catch(()=>{})},[]);const h=async()=>{m(!0);try{const t=new URLSearchParams;a.search&&t.append("search",a.search),a.industry&&t.append("industry",a.industry),a.location&&t.append("location",a.location),a.employerType&&t.append("employer_type",a.employerType),a.transparencyOnly&&t.append("transparency_only","true");const r=await S.get(`/companies?${t.toString()}`);p(r.data.data||r.data.companies||[])}catch(t){console.error("Failed to fetch companies:",t),p(M())}finally{m(!1)}},i=t=>{x({...a,[t.target.name]:t.target.value})},b=t=>{t.preventDefault(),h()};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Top Employers in Papua New Guinea",description:"Browse companies hiring in Papua New Guinea. Discover top employers and find your next career opportunity."}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Company Directory"}),e.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:["Discover ",n?`${n.totalEmployers.toLocaleString()}+`:""," verified employers hiring across Papua New Guinea and the Pacific region.",e.jsx("br",{}),e.jsx("span",{className:"text-primary-600 font-semibold",children:"112 employers with transparent hiring â€¢ 65 government bodies"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",name:"search",value:a.search,onChange:i,placeholder:"Search companies...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("select",{name:"employerType",value:a.employerType,onChange:i,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Employer Types"}),e.jsx("option",{value:"government",children:"ðŸ›ï¸ Government"}),e.jsx("option",{value:"soe",children:"ðŸ¢ State-Owned Enterprise"}),e.jsx("option",{value:"statutory",children:"âš–ï¸ Statutory Authority"}),e.jsx("option",{value:"ngo",children:"ðŸ¤ NGO"}),e.jsx("option",{value:"private",children:"ðŸª Private Company"}),e.jsx("option",{value:"listed",children:"ðŸ“ˆ Publicly Listed"})]}),e.jsxs("select",{name:"industry",value:a.industry,onChange:i,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Industries"}),e.jsx("option",{value:"mining",children:"Mining & Resources"}),e.jsx("option",{value:"healthcare",children:"Healthcare"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"it",children:"Information Technology"}),e.jsx("option",{value:"finance",children:"Banking & Finance"}),e.jsx("option",{value:"construction",children:"Construction"}),e.jsx("option",{value:"retail",children:"Retail"}),e.jsx("option",{value:"hospitality",children:"Hospitality"})]}),e.jsxs("select",{name:"location",value:a.location,onChange:i,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"port-moresby",children:"Port Moresby, NCD"}),e.jsx("option",{value:"lae",children:"Lae, Morobe"}),e.jsx("option",{value:"mt-hagen",children:"Mt Hagen, Western Highlands"}),e.jsx("option",{value:"kokopo",children:"Kokopo, East New Britain"}),e.jsx("option",{value:"madang",children:"Madang"}),e.jsx("option",{value:"goroka",children:"Goroka, Eastern Highlands"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"transparencyOnly",checked:a.transparencyOnly,onChange:t=>x({...a,transparencyOnly:t.target.checked}),className:"w-4 h-4 text-primary-600 rounded"}),e.jsx(u,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Transparent employers only"})]}),e.jsxs("button",{type:"submit",className:"bg-primary-600 text-white px-8 py-2 rounded-lg font-semibold hover:bg-primary-700 transition",children:[e.jsx(N,{className:"w-4 h-4 inline mr-2"}),"Search Companies"]})]})]})}),y?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((t,r)=>e.jsx(T,{},r))}):e.jsx(e.Fragment,{children:d.length>0?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(t=>{const o=(l=>!l&&l!==0?null:l>=80?{emoji:"ðŸŸ¢",label:"Excellent",color:"text-green-600"}:l>=50?{emoji:"ðŸŸ¡",label:"Improving",color:"text-yellow-600"}:{emoji:"ðŸ”´",label:"Needs Work",color:"text-red-600"})(t.transparency_score),v=t.requires_transparency||t.transparency_score>=50;return e.jsxs("button",{onClick:()=>c(`/companies/${t.id}`),className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-all hover:-translate-y-1 text-left group relative",children:[v&&e.jsxs("div",{className:"absolute top-3 right-3 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3"}),"Transparent"]}),e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-primary-50 transition",children:t.logo?e.jsx(E,{src:t.logo,alt:t.name,width:64,height:64,className:"w-16 h-16 object-contain"}):e.jsx(g,{className:"w-10 h-10 text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-primary-600 transition",children:t.name}),!!t.verified&&e.jsx(w,{className:"w-5 h-5 text-primary-600",title:"Verified Employer"})]}),t.employer_type&&e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded mb-2",children:t.employer_type==="government"?"ðŸ›ï¸ Government":t.employer_type==="soe"?"ðŸ¢ SOE":t.employer_type==="statutory"?"âš–ï¸ Statutory":t.employer_type==="ngo"?"ðŸ¤ NGO":t.employer_type==="listed"?"ðŸ“ˆ Listed":"ðŸª Private"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.industry}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:t.location})]}),o&&e.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:o.emoji}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700",children:o.label}),e.jsxs("div",{className:`text-xs ${o.color}`,children:["Score: ",t.transparency_score]})]})]}),e.jsx("div",{className:"w-full pt-4 border-t border-gray-100",children:e.jsxs("span",{className:"text-primary-600 font-semibold",children:[t.activeJobs," active ",t.activeJobs===1?"job":"jobs"]})})]})]},t.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No companies found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search terms."})]})}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-8 text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Is Your Company Listed?"}),e.jsxs("p",{className:"text-primary-100 mb-6 max-w-2xl mx-auto",children:["Join ",n?`${n.totalEmployers.toLocaleString()}+`:""," employers finding great talent on WantokJobs. Post jobs, build your employer brand, and connect with qualified candidates."]}),e.jsx("button",{onClick:()=>c("/register?type=employer"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Register as Employer"})]})]})})]})}function M(){return[{id:1,name:"PNG Mining Corp",industry:"Mining & Resources",location:"Port Moresby, NCD",activeJobs:12,verified:!0},{id:2,name:"Pacific Healthcare",industry:"Healthcare",location:"Lae, Morobe",activeJobs:8,verified:!0},{id:3,name:"National Bank PNG",industry:"Banking & Finance",location:"Port Moresby, NCD",activeJobs:5,verified:!0},{id:4,name:"TechSolutions PNG",industry:"Information Technology",location:"Port Moresby, NCD",activeJobs:6,verified:!1},{id:5,name:"Build PNG Construction",industry:"Construction",location:"Mt Hagen, WHP",activeJobs:15,verified:!0},{id:6,name:"Paradise Hotels",industry:"Hospitality & Tourism",location:"Kokopo, ENBP",activeJobs:7,verified:!0}]}export{B as default};
