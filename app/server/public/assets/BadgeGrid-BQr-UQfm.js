import{j as r,a4 as x}from"./vendor-ui-K43rUeTs.js";import{r as l}from"./vendor-react-Dlyf-RJj.js";import{f as d}from"./index-CAGaxXNg.js";function f({userId:s,compact:o=!1}){const[t,n]=l.useState([]),[i,c]=l.useState(!0);l.useEffect(()=>{g()},[s]);const g=async()=>{try{if(s){const e=await d.getForUser(s);n((e.badges||[]).map(a=>({...a,earned:!0})))}else{const e=await d.getMy();n(e.badges||[])}}catch{n([])}finally{c(!1)}};if(i)return r.jsx("div",{className:"animate-pulse grid grid-cols-5 gap-3",children:Array.from({length:10}).map((e,a)=>r.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded-lg"},a))});const m=t.filter(e=>e.earned).length;if(o){const e=t.filter(a=>a.earned);return e.length===0?null:r.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.map(a=>r.jsx("span",{title:`${a.badge_name||a.name} â€” ${a.description}`,className:"text-xl cursor-default hover:scale-125 transition-transform",children:a.icon},a.badge_type||a.type))})}return r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(x,{className:"w-5 h-5 text-yellow-500"}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Achievement Badges"}),r.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-auto",children:[m,"/",t.length," earned"]})]}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:t.map(e=>r.jsxs("div",{className:`relative flex flex-col items-center gap-1.5 p-3 rounded-xl border transition-all ${e.earned?"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-700 shadow-sm":"bg-gray-50 dark:bg-gray-900 border-gray-200 dark:border-gray-700 opacity-40 grayscale"}`,title:e.earned?`Earned: ${e.earned_at?new Date(e.earned_at).toLocaleDateString():""}`:"Not yet earned",children:[r.jsx("span",{className:"text-2xl",children:e.icon}),r.jsx("span",{className:`text-xs font-medium text-center leading-tight ${e.earned?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:e.name||e.badge_name}),e.earned&&r.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},e.type||e.badge_type))})]})}export{f as B};
