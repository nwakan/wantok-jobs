import{j as e,aq as v,n as S,s as p,X as k,a6 as g}from"./vendor-ui-K43rUeTs.js";import{r}from"./vendor-react-Dlyf-RJj.js";import{u as q,a as u,P as C}from"./index-CAGaxXNg.js";function J({rating:t}){return e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(l=>e.jsx(g,{className:`w-4 h-4 ${l<=t?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},l))})}function h({t,featured:l}){return e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 ${l?"md:col-span-2 lg:col-span-2":""}`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[t.photo_url?e.jsx("img",{src:t.photo_url,alt:t.name,className:"w-14 h-14 rounded-full object-cover"}):e.jsx("div",{className:"w-14 h-14 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold text-lg",children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.role,t.company?` at ${t.company}`:""]}),e.jsx(J,{rating:t.rating})]})]}),e.jsxs("blockquote",{className:`text-gray-700 ${l?"text-lg":""} leading-relaxed`,children:['"',t.quote,'"']})]})}function $(){const{user:t}=q()||{},[l,y]=r.useState([]),[b,j]=r.useState(!0),[n,o]=r.useState(!1),[a,i]=r.useState({name:"",role:"Jobseeker",company:"",quote:"",rating:5}),[c,d]=r.useState(!1),[f,N]=r.useState(!1);r.useEffect(()=>{u.get("/testimonials").then(s=>y(s.testimonials||[])).catch(()=>{}).finally(()=>j(!1))},[]);const m=l.filter(s=>s.featured),x=l.filter(s=>!s.featured),w=async s=>{s.preventDefault(),d(!0);try{await u.post("/testimonials",a),N(!0),o(!1),i({name:"",role:"Jobseeker",company:"",quote:"",rating:5})}catch{alert("Failed to submit. Please try again.")}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Success Stories | WantokJobs",description:"Read how WantokJobs has helped Papua New Guineans find jobs and employers find talent."}),e.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-teal-700 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-4 opacity-80"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Success Stories"}),e.jsx("p",{className:"text-xl text-primary-100 max-w-2xl mx-auto",children:"Real stories from Papua New Guineans who found opportunities through WantokJobs"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx("div",{className:"text-center mb-10",children:f?e.jsx("div",{className:"bg-green-50 text-green-700 px-6 py-3 rounded-lg inline-block",children:"âœ… Thank you! Your story has been submitted for review."}):t?e.jsxs("button",{onClick:()=>o(!n),className:"bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700 transition inline-flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"})," Share Your Story"]}):e.jsxs("p",{className:"text-gray-500",children:[e.jsx("a",{href:"/login",className:"text-primary-600 underline",children:"Log in"})," to share your success story"]})}),n&&e.jsxs(p.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"max-w-xl mx-auto mb-12 bg-white rounded-xl shadow-lg p-6 border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Share Your Story"}),e.jsx("button",{onClick:()=>o(!1),children:e.jsx(k,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),e.jsx("input",{required:!0,value:a.name,onChange:s=>i({...a,name:s.target.value}),className:"w-full border rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"I am a..."}),e.jsxs("select",{value:a.role,onChange:s=>i({...a,role:s.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{children:"Jobseeker"}),e.jsx("option",{children:"Employer"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsx("input",{value:a.company,onChange:s=>i({...a,company:s.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Optional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Story"}),e.jsx("textarea",{required:!0,rows:4,value:a.quote,onChange:s=>i({...a,quote:s.target.value}),className:"w-full border rounded-lg px-3 py-2",placeholder:"Tell us how WantokJobs helped you..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating"}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>i({...a,rating:s}),children:e.jsx(g,{className:`w-6 h-6 ${s<=a.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},s))})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-primary-600 text-white py-2 rounded-lg font-semibold hover:bg-primary-700 disabled:opacity-50",children:c?"Submitting...":"Submit Your Story"})]})]}),b?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading stories..."}):l.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No stories yet. Be the first to share!"}):e.jsxs(e.Fragment,{children:[m.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:m.map(s=>e.jsx(h,{t:s,featured:!0},s.id))}),x.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(s=>e.jsx(h,{t:s},s.id))})]})]})]})}export{$ as default};
