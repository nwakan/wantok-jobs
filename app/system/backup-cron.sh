#!/bin/bash
# WantokJobs Daily Database Backup (Cron-compatible)
# Add to crontab: 0 2 * * * /opt/wantokjobs/app/system/backup-cron.sh >> /var/log/wantokjobs-backup.log 2>&1

set -e
cd "$(dirname "$0")/.."

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ”§ WantokJobs Database Backup"
echo "ğŸ“… $(date '+%Y-%m-%d %H:%M:%S')"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# Run backup agent
node system/agents/db-backup.js

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
