import{$ as u,r as n,a9 as m,j as e,i,ah as f}from"./index-BpglRmhx.js";function N(){const{showToast:o}=u(),[a,c]=n.useState([]),[g,h]=n.useState(!0),[t,d]=n.useState("all");n.useEffect(()=>{y()},[]);const y=async()=>{try{const s=await m.getMy();c(s.data)}catch(s){console.error("Failed to load jobs:",s)}finally{h(!1)}},p=async s=>{if(confirm("Are you sure you want to delete this job? This action cannot be undone."))try{await m.delete(s),c(a.filter(l=>l.id!==s)),o("Job deleted successfully","success")}catch(l){o("Failed to delete job: "+l.message,"error")}},b=async s=>{o("Clone feature coming soon - redirecting to post job","info")},x=t==="all"?a:a.filter(s=>s.status===t),r={active:a.filter(s=>s.status==="active").length,draft:a.filter(s=>s.status==="draft").length,closed:a.filter(s=>s.status==="closed").length,totalViews:a.reduce((s,l)=>s+(l.views_count||0),0),totalApplications:a.reduce((s,l)=>s+(l.applications_count||0),0)};return g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Jobs"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your job listings and applications"})]}),e.jsx(i,{to:"/dashboard/employer/post-job",className:"px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 shadow-sm",children:"+ Post New Job"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Active Jobs"}),e.jsx("span",{className:"text-2xl",children:"âœ“"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.active}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Currently published"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Drafts"}),e.jsx("span",{className:"text-2xl",children:"ğŸ“"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.draft}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Not yet published"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Closed"}),e.jsx("span",{className:"text-2xl",children:"ğŸ”’"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.closed}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No longer accepting"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),e.jsx("span",{className:"text-2xl",children:"ğŸ‘ï¸"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalViews}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Across all jobs"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Applications"}),e.jsx("span",{className:"text-2xl",children:"ğŸ“„"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalApplications}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Total received"})]})]}),e.jsxs("div",{className:"mb-6 flex gap-2 flex-wrap",children:[e.jsxs("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:["All (",a.length,")"]}),e.jsxs("button",{onClick:()=>d("active"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="active"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:["Active (",r.active,")"]}),e.jsxs("button",{onClick:()=>d("draft"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="draft"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:["Drafts (",r.draft,")"]}),e.jsxs("button",{onClick:()=>d("closed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="closed"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:["Closed (",r.closed,")"]})]}),x.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-100",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ’¼"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t==="all"?"No jobs yet":`No ${t} jobs`}),e.jsx("p",{className:"text-gray-600 mb-6",children:t==="all"?"Get started by posting your first job listing":`You don't have any ${t} jobs at the moment`}),t==="all"&&e.jsx(i,{to:"/dashboard/employer/post-job",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium",children:"+ Post your first job"})]}):e.jsx("div",{className:"space-y-4",children:x.map(s=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(i,{to:`/jobs/${s.id}`,className:"text-xl font-bold text-gray-900 hover:text-primary-600 transition-colors",children:s.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${s.status==="active"?"bg-green-100 text-green-700 border border-green-200":s.status==="draft"?"bg-gray-100 text-gray-700 border border-gray-200":"bg-red-100 text-red-700 border border-red-200"}`,children:s.status})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:["ğŸ“ ",s.location||"Remote",", ",s.country]}),e.jsxs("span",{className:"flex items-center gap-1",children:["ğŸ’¼ ",s.job_type]}),e.jsxs("span",{className:"flex items-center gap-1",children:["ğŸ•’ Posted ",f(s.created_at)]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 py-4 px-4 bg-gray-50 rounded-lg mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Views"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.views_count||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Applications"}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:s.applications_count||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Salary Range"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:s.salary_min&&s.salary_max?`${s.salary_currency} ${s.salary_min.toLocaleString()}-${s.salary_max.toLocaleString()}`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Deadline"}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:s.application_deadline?new Date(s.application_deadline).toLocaleDateString():"Open"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(i,{to:`/dashboard/employer/applicants/${s.id}`,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 text-sm font-medium shadow-sm",children:["View Applicants ",s.applications_count>0&&`(${s.applications_count})`]}),e.jsx(i,{to:`/dashboard/employer/edit-job/${s.id}`,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm font-medium",children:"âœï¸ Edit"}),e.jsx(i,{to:`/jobs/${s.id}`,target:"_blank",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm font-medium",children:"ğŸ‘ï¸ Preview"}),e.jsx("button",{onClick:()=>b(),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm font-medium",children:"ğŸ“‹ Clone"}),e.jsx("button",{onClick:()=>p(s.id),className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 text-sm font-medium border border-red-200",children:"ğŸ—‘ï¸ Delete"})]})]})},s.id))})]})}export{N as default};
