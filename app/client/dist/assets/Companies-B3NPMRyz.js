import{n as y,r as t,d as b,j as e,P as j,O as f,R as v,B as p,V as N,M as w}from"./index-BpglRmhx.js";function S(){const o=y(),[l,c]=t.useState([]),[h,d]=t.useState(!0),[r,x]=t.useState(null),[s,u]=t.useState({search:"",industry:"",location:""});t.useEffect(()=>{m(),fetch("/api/stats").then(a=>a.json()).then(a=>x(a.data||a)).catch(()=>{})},[]);const m=async()=>{d(!0);try{const a=new URLSearchParams;s.search&&a.append("search",s.search),s.industry&&a.append("industry",s.industry),s.location&&a.append("location",s.location);const n=await b.get(`/companies?${a.toString()}`);c(n.data.companies||[])}catch(a){console.error("Failed to fetch companies:",a),c(C())}finally{d(!1)}},i=a=>{u({...s,[a.target.name]:a.target.value})},g=a=>{a.preventDefault(),m()};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Company Directory",description:"Browse companies hiring in Papua New Guinea. Discover top employers and find your next career opportunity."}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Company Directory"}),e.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:["Discover ",r?`${r.totalEmployers.toLocaleString()}+`:""," verified employers hiring across Papua New Guinea and the Pacific region."]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",name:"search",value:s.search,onChange:i,placeholder:"Search companies...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("select",{name:"industry",value:s.industry,onChange:i,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Industries"}),e.jsx("option",{value:"mining",children:"Mining & Resources"}),e.jsx("option",{value:"healthcare",children:"Healthcare"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"it",children:"Information Technology"}),e.jsx("option",{value:"finance",children:"Banking & Finance"}),e.jsx("option",{value:"construction",children:"Construction"}),e.jsx("option",{value:"retail",children:"Retail"}),e.jsx("option",{value:"hospitality",children:"Hospitality"})]}),e.jsxs("select",{name:"location",value:s.location,onChange:i,className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Locations"}),e.jsx("option",{value:"port-moresby",children:"Port Moresby, NCD"}),e.jsx("option",{value:"lae",children:"Lae, Morobe"}),e.jsx("option",{value:"mt-hagen",children:"Mt Hagen, Western Highlands"}),e.jsx("option",{value:"kokopo",children:"Kokopo, East New Britain"}),e.jsx("option",{value:"madang",children:"Madang"}),e.jsx("option",{value:"goroka",children:"Goroka, Eastern Highlands"})]})]}),e.jsx("button",{type:"submit",className:"w-full md:w-auto bg-primary-600 text-white px-8 py-2 rounded-lg font-semibold hover:bg-primary-700 transition",children:"Search Companies"})]})}),h?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((a,n)=>e.jsx(v,{},n))}):e.jsx(e.Fragment,{children:l.length>0?e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(a=>e.jsx("button",{onClick:()=>o(`/companies/${a.id}`),className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-all hover:-translate-y-1 text-left group",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-primary-50 transition",children:a.logo?e.jsx("img",{src:a.logo,alt:a.name,className:"w-16 h-16 object-contain"}):e.jsx(p,{className:"w-10 h-10 text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-primary-600 transition",children:a.name}),a.verified&&e.jsx(N,{className:"w-5 h-5 text-primary-600",title:"Verified Employer"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.industry}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-4",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:a.location})]}),e.jsx("div",{className:"w-full pt-4 border-t border-gray-100",children:e.jsxs("span",{className:"text-primary-600 font-semibold",children:[a.activeJobs," active ",a.activeJobs===1?"job":"jobs"]})})]})},a.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No companies found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or search terms."})]})}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-8 text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Is Your Company Listed?"}),e.jsxs("p",{className:"text-primary-100 mb-6 max-w-2xl mx-auto",children:["Join ",r?`${r.totalEmployers.toLocaleString()}+`:""," employers finding great talent on WantokJobs. Post jobs, build your employer brand, and connect with qualified candidates."]}),e.jsx("button",{onClick:()=>o("/register?type=employer"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Register as Employer"})]})]})})]})}function C(){return[{id:1,name:"PNG Mining Corp",industry:"Mining & Resources",location:"Port Moresby, NCD",activeJobs:12,verified:!0},{id:2,name:"Pacific Healthcare",industry:"Healthcare",location:"Lae, Morobe",activeJobs:8,verified:!0},{id:3,name:"National Bank PNG",industry:"Banking & Finance",location:"Port Moresby, NCD",activeJobs:5,verified:!0},{id:4,name:"TechSolutions PNG",industry:"Information Technology",location:"Port Moresby, NCD",activeJobs:6,verified:!1},{id:5,name:"Build PNG Construction",industry:"Construction",location:"Mt Hagen, WHP",activeJobs:15,verified:!0},{id:6,name:"Paradise Hotels",industry:"Hospitality & Tourism",location:"Kokopo, ENBP",activeJobs:7,verified:!0}]}export{S as default};
