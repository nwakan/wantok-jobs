import{_ as h,$ as u,r as l,aa as c,j as e}from"./index-BpglRmhx.js";function b(){const{user:i}=h(),{showToast:a}=u(),[o,d]=l.useState(!0),[m,n]=l.useState(!1),[r,s]=l.useState({email_new_matches:!0,email_application_updates:!0,email_job_alerts:!0,email_newsletter:!1,profile_visibility:"employers-only"});l.useEffect(()=>{x()},[]);const x=async()=>{try{const t=await c.get();t.settings&&s({...r,...t.settings})}catch(t){console.error("Failed to load settings:",t)}finally{d(!1)}},p=async()=>{try{await c.update({settings:r}),a("Settings saved successfully","success")}catch{a("Failed to save settings","error")}},f=async()=>{try{a("Account deletion request submitted","success"),n(!1),setTimeout(()=>{window.location.href="/"},2e3)}catch{a("Failed to delete account","error")}};return o?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose how you want to receive notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"New Job Matches"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new jobs match your profile"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.email_new_matches,onChange:t=>s({...r,email_new_matches:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Application Updates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Updates on your job applications (interview invites, rejections, etc.)"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.email_application_updates,onChange:t=>s({...r,email_application_updates:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Job Alerts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Emails based on your saved job alerts"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.email_job_alerts,onChange:t=>s({...r,email_job_alerts:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Newsletter"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Career tips, industry news, and platform updates"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.email_newsletter,onChange:t=>s({...r,email_newsletter:t.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Privacy Settings"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Visibility"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"visibility",value:"public",checked:r.profile_visibility==="public",onChange:t=>s({...r,profile_visibility:t.target.value}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Public"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your profile is visible to everyone"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"visibility",value:"employers-only",checked:r.profile_visibility==="employers-only",onChange:t=>s({...r,profile_visibility:t.target.value}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Employers Only"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Only verified employers can view your full profile"})]})]}),e.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"visibility",value:"private",checked:r.profile_visibility==="private",onChange:t=>s({...r,profile_visibility:t.target.value}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Private"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your profile is hidden from searches (only visible when you apply)"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end mb-6",children:e.jsx("button",{onClick:p,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-medium",children:"Save Settings"})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border-2 border-red-200",children:[e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-4",children:"Danger Zone"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Permanently delete your account and all your data. This action cannot be undone."})]}),e.jsx("button",{onClick:()=>n(!0),className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"Delete Account"})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete Account?"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Are you absolutely sure you want to delete your account? This will:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-700 mb-6 space-y-1",children:[e.jsx("li",{children:"Delete your profile and all personal information"}),e.jsx("li",{children:"Remove all your job applications"}),e.jsx("li",{children:"Cancel all job alerts"}),e.jsxs("li",{children:["This action ",e.jsx("strong",{children:"cannot be undone"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Type ",e.jsx("strong",{children:i==null?void 0:i.email})," to confirm:"]}),e.jsx("input",{type:"text",placeholder:"Enter your email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-6"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:f,className:"flex-1 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"Yes, Delete My Account"}),e.jsx("button",{onClick:()=>n(!1),className:"flex-1 px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium",children:"Cancel"})]})]})})]})}export{b as default};
