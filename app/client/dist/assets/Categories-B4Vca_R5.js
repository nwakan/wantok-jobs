import{n as F,r as a,j as e,P as G,q as x,h as j,e as L,G as M,T as U,s as A,k as u,t as B,v as H,w as I,x as _,H as $,y as q,z as W,D as z,I as O,U as Y,J as K,f as Q}from"./index-BpglRmhx.js";import{M as V,C as X}from"./microscope-CQyeoCZk.js";const Z={Calculator:X,FileText:Q,DollarSign:K,Users:Y,Hammer:O,GraduationCap:z,Cog:W,Landmark:q,Heart:$,Coffee:_,UserPlus:I,Code:H,Scale:B,Briefcase:u,Truck:A,TrendingUp:U,Globe:M,Microscope:V,Shield:L,Flame:x,Sparkles:j},b=["bg-orange-100 text-orange-600","bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-purple-100 text-purple-600","bg-pink-100 text-pink-600","bg-indigo-100 text-indigo-600","bg-yellow-100 text-yellow-600","bg-teal-100 text-teal-600","bg-red-100 text-red-600","bg-cyan-100 text-cyan-600","bg-slate-100 text-slate-600","bg-amber-100 text-amber-600","bg-lime-100 text-lime-600","bg-rose-100 text-rose-600","bg-emerald-100 text-emerald-600","bg-violet-100 text-violet-600"];function ae(){const l=F(),[v,f]=a.useState([]),[m,y]=a.useState([]),[g,N]=a.useState([]),[w,h]=a.useState(!0),[i,C]=a.useState({totalCategories:0,totalJobs:0,totalEmployers:0,totalJobseekers:0});a.useEffect(()=>{S()},[]);const S=async()=>{var t,s;try{h(!0);const[r,n,J]=await Promise.all([fetch("/api/categories"),fetch("/api/categories/featured"),fetch("/api/categories/trending")]),c=await r.json(),E=await n.json(),P=await J.json();f(c.categories||[]),y(E.categories||[]),N(P.categories||[]);const T=((t=c.categories)==null?void 0:t.reduce((D,R)=>D+(R.active_jobs||0),0))||0,p=await(await fetch("/api/stats")).json(),d=p.data||p||{};C({totalCategories:((s=c.categories)==null?void 0:s.length)||0,totalJobs:d.activeJobs||T,totalEmployers:d.totalEmployers||0,totalJobseekers:d.totalJobseekers||0})}catch(r){console.error("Error loading categories:",r)}finally{h(!1)}},k=t=>{l(`/category/${t}`)},o=(t,s)=>{const r=Z[t.icon_name]||u,n=b[s%b.length];return e.jsxs("button",{onClick:()=>k(t.slug),className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-lg transition-all hover:-translate-y-1 text-left group",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${n} group-hover:scale-110 transition-transform`,children:e.jsx(r,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-primary-600 transition",children:t.name}),t.trending===1&&e.jsx(x,{className:"w-4 h-4 text-red-500",title:"Trending"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.active_jobs||0," active jobs"]})]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.description}),e.jsx("div",{className:"text-primary-600 text-sm font-medium group-hover:underline",children:"Browse jobs â†’"})]},t.id)};return w?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"Browse Jobs by Category | WantokJobs",description:"Explore jobs across all industries in Papua New Guinea. Find opportunities in mining, healthcare, IT, education, and more. Start your career search today."}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Browse Jobs by Category"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore thousands of opportunities across all major industries in Papua New Guinea and the Pacific."})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-12 text-center",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600",children:i.totalCategories}),e.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalJobs.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Jobs"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalEmployers.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Employers"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:[i.totalJobseekers.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Job Seekers"})]})]})}),g.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(x,{className:"w-6 h-6 text-red-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Trending Now"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:g.slice(0,4).map((t,s)=>e.jsx("div",{className:"relative",children:o(t,s)},t.id))})]}),m.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(j,{className:"w-6 h-6 text-blue-500"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Popular Categories"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map((t,s)=>o(t,s))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"All Categories"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map((t,s)=>o(t,s))})]}),e.jsxs("div",{className:"mt-16 bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-8 text-center text-white",children:[e.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Can't Find Your Category?"}),e.jsx("p",{className:"text-primary-100 mb-6 max-w-2xl mx-auto",children:"We're constantly adding new categories and opportunities. Set up a job alert and be the first to know when new positions are posted."}),e.jsx("button",{onClick:()=>l("/dashboard"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition",children:"Create Job Alert"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Popular Searches"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["Mining Engineer","Nurse","Teacher","Software Developer","Accountant","Project Manager","Chef","Security Officer"].map((t,s)=>e.jsx("button",{onClick:()=>l(`/jobs?q=${encodeURIComponent(t)}`),className:"px-4 py-2 bg-white rounded-full text-sm text-gray-700 hover:bg-primary-50 hover:text-primary-600 border border-gray-200 transition",children:t},s))})]})]})})]})}export{ae as default};
